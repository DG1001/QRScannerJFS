function md(y,C){for(var m=0;m<C.length;m++){const b=C[m];if(typeof b!="string"&&!Array.isArray(b)){for(const O in b)if(O!=="default"&&!(O in y)){const v=Object.getOwnPropertyDescriptor(b,O);v&&Object.defineProperty(y,O,v.get?v:{enumerable:!0,get:()=>b[O]})}}}return Object.freeze(Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}))}(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const O of document.querySelectorAll('link[rel="modulepreload"]'))b(O);new MutationObserver(O=>{for(const v of O)if(v.type==="childList")for(const H of v.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&b(H)}).observe(document,{childList:!0,subtree:!0});function m(O){const v={};return O.integrity&&(v.integrity=O.integrity),O.referrerPolicy&&(v.referrerPolicy=O.referrerPolicy),O.crossOrigin==="use-credentials"?v.credentials="include":O.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function b(O){if(O.ep)return;O.ep=!0;const v=m(O);fetch(O.href,v)}})();var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _c(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var Ec={exports:{}},ns={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf;function Ad(){if(pf)return ns;pf=1;var y=Symbol.for("react.transitional.element"),C=Symbol.for("react.fragment");function m(b,O,v){var H=null;if(v!==void 0&&(H=""+v),O.key!==void 0&&(H=""+O.key),"key"in O){v={};for(var at in O)at!=="key"&&(v[at]=O[at])}else v=O;return O=v.ref,{$$typeof:y,type:b,key:H,ref:O!==void 0?O:null,props:v}}return ns.Fragment=C,ns.jsx=m,ns.jsxs=m,ns}var Tf;function Ed(){return Tf||(Tf=1,Ec.exports=Ad()),Ec.exports}var dt=Ed(),wc={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf;function wd(){if(vf)return Zt;vf=1;var y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),H=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Z=Symbol.iterator;function Et(D){return D===null||typeof D!="object"?null:(D=Z&&D[Z]||D["@@iterator"],typeof D=="function"?D:null)}var St={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rt=Object.assign,It={};function te(D,rt,ct){this.props=D,this.context=rt,this.refs=It,this.updater=ct||St}te.prototype.isReactComponent={},te.prototype.setState=function(D,rt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,rt,"setState")},te.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function fe(){}fe.prototype=te.prototype;function xt(D,rt,ct){this.props=D,this.context=rt,this.refs=It,this.updater=ct||St}var ot=xt.prototype=new fe;ot.constructor=xt,Rt(ot,te.prototype),ot.isPureReactComponent=!0;var Dt=Array.isArray,Ct={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function tt(D,rt,ct,ht,gt,qt){return ct=qt.ref,{$$typeof:y,type:D,key:rt,ref:ct!==void 0?ct:null,props:qt}}function pt(D,rt){return tt(D.type,rt,void 0,void 0,void 0,D.props)}function W(D){return typeof D=="object"&&D!==null&&D.$$typeof===y}function ce(D){var rt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ct){return rt[ct]})}var jt=/\/+/g;function mt(D,rt){return typeof D=="object"&&D!==null&&D.key!=null?ce(""+D.key):rt.toString(36)}function Xt(){}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Xt,Xt):(D.status="pending",D.then(function(rt){D.status==="pending"&&(D.status="fulfilled",D.value=rt)},function(rt){D.status==="pending"&&(D.status="rejected",D.reason=rt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,rt,ct,ht,gt){var qt=typeof D;(qt==="undefined"||qt==="boolean")&&(D=null);var K=!1;if(D===null)K=!0;else switch(qt){case"bigint":case"string":case"number":K=!0;break;case"object":switch(D.$$typeof){case y:case C:K=!0;break;case P:return K=D._init,G(K(D._payload),rt,ct,ht,gt)}}if(K)return gt=gt(D),K=ht===""?"."+mt(D,0):ht,Dt(gt)?(ct="",K!=null&&(ct=K.replace(jt,"$&/")+"/"),G(gt,rt,ct,"",function(ze){return ze})):gt!=null&&(W(gt)&&(gt=pt(gt,ct+(gt.key==null||D&&D.key===gt.key?"":(""+gt.key).replace(jt,"$&/")+"/")+K)),rt.push(gt)),1;K=0;var kt=ht===""?".":ht+":";if(Dt(D))for(var Tt=0;Tt<D.length;Tt++)ht=D[Tt],qt=kt+mt(ht,Tt),K+=G(ht,rt,ct,qt,gt);else if(Tt=Et(D),typeof Tt=="function")for(D=Tt.call(D),Tt=0;!(ht=D.next()).done;)ht=ht.value,qt=kt+mt(ht,Tt++),K+=G(ht,rt,ct,qt,gt);else if(qt==="object"){if(typeof D.then=="function")return G(xe(D),rt,ct,ht,gt);throw rt=String(D),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return K}function Q(D,rt,ct){if(D==null)return D;var ht=[],gt=0;return G(D,ht,"","",function(qt){return rt.call(ct,qt,gt++)}),ht}function et(D){if(D._status===-1){var rt=D._result;rt=rt(),rt.then(function(ct){(D._status===0||D._status===-1)&&(D._status=1,D._result=ct)},function(ct){(D._status===0||D._status===-1)&&(D._status=2,D._result=ct)}),D._status===-1&&(D._status=0,D._result=rt)}if(D._status===1)return D._result.default;throw D._result}var _t=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Jt(){}return Zt.Children={map:Q,forEach:function(D,rt,ct){Q(D,function(){rt.apply(this,arguments)},ct)},count:function(D){var rt=0;return Q(D,function(){rt++}),rt},toArray:function(D){return Q(D,function(rt){return rt})||[]},only:function(D){if(!W(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Zt.Component=te,Zt.Fragment=m,Zt.Profiler=O,Zt.PureComponent=xt,Zt.StrictMode=b,Zt.Suspense=Y,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Ct.H.useMemoCache(D)}},Zt.cache=function(D){return function(){return D.apply(null,arguments)}},Zt.cloneElement=function(D,rt,ct){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ht=Rt({},D.props),gt=D.key,qt=void 0;if(rt!=null)for(K in rt.ref!==void 0&&(qt=void 0),rt.key!==void 0&&(gt=""+rt.key),rt)!Mt.call(rt,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&rt.ref===void 0||(ht[K]=rt[K]);var K=arguments.length-2;if(K===1)ht.children=ct;else if(1<K){for(var kt=Array(K),Tt=0;Tt<K;Tt++)kt[Tt]=arguments[Tt+2];ht.children=kt}return tt(D.type,gt,void 0,void 0,qt,ht)},Zt.createContext=function(D){return D={$$typeof:H,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:v,_context:D},D},Zt.createElement=function(D,rt,ct){var ht,gt={},qt=null;if(rt!=null)for(ht in rt.key!==void 0&&(qt=""+rt.key),rt)Mt.call(rt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(gt[ht]=rt[ht]);var K=arguments.length-2;if(K===1)gt.children=ct;else if(1<K){for(var kt=Array(K),Tt=0;Tt<K;Tt++)kt[Tt]=arguments[Tt+2];gt.children=kt}if(D&&D.defaultProps)for(ht in K=D.defaultProps,K)gt[ht]===void 0&&(gt[ht]=K[ht]);return tt(D,qt,void 0,void 0,null,gt)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(D){return{$$typeof:at,render:D}},Zt.isValidElement=W,Zt.lazy=function(D){return{$$typeof:P,_payload:{_status:-1,_result:D},_init:et}},Zt.memo=function(D,rt){return{$$typeof:T,type:D,compare:rt===void 0?null:rt}},Zt.startTransition=function(D){var rt=Ct.T,ct={};Ct.T=ct;try{var ht=D(),gt=Ct.S;gt!==null&&gt(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Jt,_t)}catch(qt){_t(qt)}finally{Ct.T=rt}},Zt.unstable_useCacheRefresh=function(){return Ct.H.useCacheRefresh()},Zt.use=function(D){return Ct.H.use(D)},Zt.useActionState=function(D,rt,ct){return Ct.H.useActionState(D,rt,ct)},Zt.useCallback=function(D,rt){return Ct.H.useCallback(D,rt)},Zt.useContext=function(D){return Ct.H.useContext(D)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(D,rt){return Ct.H.useDeferredValue(D,rt)},Zt.useEffect=function(D,rt,ct){var ht=Ct.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ht.useEffect(D,rt)},Zt.useId=function(){return Ct.H.useId()},Zt.useImperativeHandle=function(D,rt,ct){return Ct.H.useImperativeHandle(D,rt,ct)},Zt.useInsertionEffect=function(D,rt){return Ct.H.useInsertionEffect(D,rt)},Zt.useLayoutEffect=function(D,rt){return Ct.H.useLayoutEffect(D,rt)},Zt.useMemo=function(D,rt){return Ct.H.useMemo(D,rt)},Zt.useOptimistic=function(D,rt){return Ct.H.useOptimistic(D,rt)},Zt.useReducer=function(D,rt,ct){return Ct.H.useReducer(D,rt,ct)},Zt.useRef=function(D){return Ct.H.useRef(D)},Zt.useState=function(D){return Ct.H.useState(D)},Zt.useSyncExternalStore=function(D,rt,ct){return Ct.H.useSyncExternalStore(D,rt,ct)},Zt.useTransition=function(){return Ct.H.useTransition()},Zt.version="19.1.0",Zt}var _f;function Nc(){return _f||(_f=1,wc.exports=wd()),wc.exports}var Kt=Nc();const yd=_c(Kt);var yc={exports:{}},is={},Cc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function Cd(){return Nf||(Nf=1,function(y){function C(Q,et){var _t=Q.length;Q.push(et);t:for(;0<_t;){var Jt=_t-1>>>1,D=Q[Jt];if(0<O(D,et))Q[Jt]=et,Q[_t]=D,_t=Jt;else break t}}function m(Q){return Q.length===0?null:Q[0]}function b(Q){if(Q.length===0)return null;var et=Q[0],_t=Q.pop();if(_t!==et){Q[0]=_t;t:for(var Jt=0,D=Q.length,rt=D>>>1;Jt<rt;){var ct=2*(Jt+1)-1,ht=Q[ct],gt=ct+1,qt=Q[gt];if(0>O(ht,_t))gt<D&&0>O(qt,ht)?(Q[Jt]=qt,Q[gt]=_t,Jt=gt):(Q[Jt]=ht,Q[ct]=_t,Jt=ct);else if(gt<D&&0>O(qt,_t))Q[Jt]=qt,Q[gt]=_t,Jt=gt;else break t}}return et}function O(Q,et){var _t=Q.sortIndex-et.sortIndex;return _t!==0?_t:Q.id-et.id}if(y.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;y.unstable_now=function(){return v.now()}}else{var H=Date,at=H.now();y.unstable_now=function(){return H.now()-at}}var Y=[],T=[],P=1,Z=null,Et=3,St=!1,Rt=!1,It=!1,te=!1,fe=typeof setTimeout=="function"?setTimeout:null,xt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Dt(Q){for(var et=m(T);et!==null;){if(et.callback===null)b(T);else if(et.startTime<=Q)b(T),et.sortIndex=et.expirationTime,C(Y,et);else break;et=m(T)}}function Ct(Q){if(It=!1,Dt(Q),!Rt)if(m(Y)!==null)Rt=!0,Mt||(Mt=!0,mt());else{var et=m(T);et!==null&&G(Ct,et.startTime-Q)}}var Mt=!1,tt=-1,pt=5,W=-1;function ce(){return te?!0:!(y.unstable_now()-W<pt)}function jt(){if(te=!1,Mt){var Q=y.unstable_now();W=Q;var et=!0;try{t:{Rt=!1,It&&(It=!1,xt(tt),tt=-1),St=!0;var _t=Et;try{e:{for(Dt(Q),Z=m(Y);Z!==null&&!(Z.expirationTime>Q&&ce());){var Jt=Z.callback;if(typeof Jt=="function"){Z.callback=null,Et=Z.priorityLevel;var D=Jt(Z.expirationTime<=Q);if(Q=y.unstable_now(),typeof D=="function"){Z.callback=D,Dt(Q),et=!0;break e}Z===m(Y)&&b(Y),Dt(Q)}else b(Y);Z=m(Y)}if(Z!==null)et=!0;else{var rt=m(T);rt!==null&&G(Ct,rt.startTime-Q),et=!1}}break t}finally{Z=null,Et=_t,St=!1}et=void 0}}finally{et?mt():Mt=!1}}}var mt;if(typeof ot=="function")mt=function(){ot(jt)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,xe=Xt.port2;Xt.port1.onmessage=jt,mt=function(){xe.postMessage(null)}}else mt=function(){fe(jt,0)};function G(Q,et){tt=fe(function(){Q(y.unstable_now())},et)}y.unstable_IdlePriority=5,y.unstable_ImmediatePriority=1,y.unstable_LowPriority=4,y.unstable_NormalPriority=3,y.unstable_Profiling=null,y.unstable_UserBlockingPriority=2,y.unstable_cancelCallback=function(Q){Q.callback=null},y.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<Q?Math.floor(1e3/Q):5},y.unstable_getCurrentPriorityLevel=function(){return Et},y.unstable_next=function(Q){switch(Et){case 1:case 2:case 3:var et=3;break;default:et=Et}var _t=Et;Et=et;try{return Q()}finally{Et=_t}},y.unstable_requestPaint=function(){te=!0},y.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _t=Et;Et=Q;try{return et()}finally{Et=_t}},y.unstable_scheduleCallback=function(Q,et,_t){var Jt=y.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Jt+_t:Jt):_t=Jt,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=_t+D,Q={id:P++,callback:et,priorityLevel:Q,startTime:_t,expirationTime:D,sortIndex:-1},_t>Jt?(Q.sortIndex=_t,C(T,Q),m(Y)===null&&Q===m(T)&&(It?(xt(tt),tt=-1):It=!0,G(Ct,_t-Jt))):(Q.sortIndex=D,C(Y,Q),Rt||St||(Rt=!0,Mt||(Mt=!0,mt()))),Q},y.unstable_shouldYield=ce,y.unstable_wrapCallback=function(Q){var et=Et;return function(){var _t=Et;Et=et;try{return Q.apply(this,arguments)}finally{Et=_t}}}}(bc)),bc}var Of;function bd(){return Of||(Of=1,Cc.exports=Cd()),Cc.exports}var Sc={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function Sd(){if(Rf)return Un;Rf=1;var y=Nc();function C(Y){var T="https://react.dev/errors/"+Y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var P=2;P<arguments.length;P++)T+="&args[]="+encodeURIComponent(arguments[P])}return"Minified React error #"+Y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var b={d:{f:m,r:function(){throw Error(C(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},O=Symbol.for("react.portal");function v(Y,T,P){var Z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:Z==null?null:""+Z,children:Y,containerInfo:T,implementation:P}}var H=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function at(Y,T){if(Y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Un.createPortal=function(Y,T){var P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(C(299));return v(Y,T,null,P)},Un.flushSync=function(Y){var T=H.T,P=b.p;try{if(H.T=null,b.p=2,Y)return Y()}finally{H.T=T,b.p=P,b.d.f()}},Un.preconnect=function(Y,T){typeof Y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,b.d.C(Y,T))},Un.prefetchDNS=function(Y){typeof Y=="string"&&b.d.D(Y)},Un.preinit=function(Y,T){if(typeof Y=="string"&&T&&typeof T.as=="string"){var P=T.as,Z=at(P,T.crossOrigin),Et=typeof T.integrity=="string"?T.integrity:void 0,St=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;P==="style"?b.d.S(Y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:Z,integrity:Et,fetchPriority:St}):P==="script"&&b.d.X(Y,{crossOrigin:Z,integrity:Et,fetchPriority:St,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Un.preinitModule=function(Y,T){if(typeof Y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var P=at(T.as,T.crossOrigin);b.d.M(Y,{crossOrigin:P,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&b.d.M(Y)},Un.preload=function(Y,T){if(typeof Y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var P=T.as,Z=at(P,T.crossOrigin);b.d.L(Y,P,{crossOrigin:Z,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Un.preloadModule=function(Y,T){if(typeof Y=="string")if(T){var P=at(T.as,T.crossOrigin);b.d.m(Y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:P,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else b.d.m(Y)},Un.requestFormReset=function(Y){b.d.r(Y)},Un.unstable_batchedUpdates=function(Y,T){return Y(T)},Un.useFormState=function(Y,T,P){return H.H.useFormState(Y,T,P)},Un.useFormStatus=function(){return H.H.useHostTransitionStatus()},Un.version="19.1.0",Un}var If;function pd(){if(If)return Sc.exports;If=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(C){console.error(C)}}return y(),Sc.exports=Sd(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function Td(){if(Df)return is;Df=1;var y=bd(),C=Nc(),m=pd();function b(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function H(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function at(t){if(v(t)!==t)throw Error(b(188))}function Y(t){var n=t.alternate;if(!n){if(n=v(t),n===null)throw Error(b(188));return n!==t?null:t}for(var r=t,u=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){r=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return at(f),t;if(d===u)return at(f),n;d=d.sibling}throw Error(b(188))}if(r.return!==u.return)r=f,u=d;else{for(var A=!1,p=f.child;p;){if(p===r){A=!0,r=f,u=d;break}if(p===u){A=!0,u=f,r=d;break}p=p.sibling}if(!A){for(p=d.child;p;){if(p===r){A=!0,r=d,u=f;break}if(p===u){A=!0,u=d,r=f;break}p=p.sibling}if(!A)throw Error(b(189))}}if(r.alternate!==u)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var P=Object.assign,Z=Symbol.for("react.element"),Et=Symbol.for("react.transitional.element"),St=Symbol.for("react.portal"),Rt=Symbol.for("react.fragment"),It=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),xt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),jt=Symbol.iterator;function mt(t){return t===null||typeof t!="object"?null:(t=jt&&t[jt]||t["@@iterator"],typeof t=="function"?t:null)}var Xt=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Xt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rt:return"Fragment";case te:return"Profiler";case It:return"StrictMode";case Ct:return"Suspense";case Mt:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case St:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case xt:return(t._context.displayName||"Context")+".Consumer";case Dt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tt:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case pt:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var G=Array.isArray,Q=C.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Jt=[],D=-1;function rt(t){return{current:t}}function ct(t){0>D||(t.current=Jt[D],Jt[D]=null,D--)}function ht(t,n){D++,Jt[D]=t.current,t.current=n}var gt=rt(null),qt=rt(null),K=rt(null),kt=rt(null);function Tt(t,n){switch(ht(K,n),ht(qt,t),ht(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?K0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=K0(n),t=J0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ct(gt),ht(gt,t)}function ze(){ct(gt),ct(qt),ct(K)}function Pi(t){t.memoizedState!==null&&ht(kt,t);var n=gt.current,r=J0(n,t.type);n!==r&&(ht(qt,t),ht(gt,r))}function un(t){qt.current===t&&(ct(gt),ct(qt)),kt.current===t&&(ct(kt),Kl._currentValue=_t)}var oa=Object.prototype.hasOwnProperty,le=y.unstable_scheduleCallback,bi=y.unstable_cancelCallback,ai=y.unstable_shouldYield,Ga=y.unstable_requestPaint,Te=y.unstable_now,ve=y.unstable_getCurrentPriorityLevel,ae=y.unstable_ImmediatePriority,Va=y.unstable_UserBlockingPriority,yt=y.unstable_NormalPriority,mr=y.unstable_LowPriority,ll=y.unstable_IdlePriority,gi=y.log,sl=y.unstable_setDisableYieldValue,Sn=null,On=null;function pn(t){if(typeof gi=="function"&&sl(t),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(Sn,t)}catch{}}var we=Math.clz32?Math.clz32:bu,ls=Math.log,Ar=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(ls(t)/Ar|0)|0}var ke=256,ft=4194304;function De(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function he(t,n,r){var u=t.pendingLanes;if(u===0)return 0;var f=0,d=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var p=u&134217727;return p!==0?(u=p&~d,u!==0?f=De(u):(A&=p,A!==0?f=De(A):r||(r=p&~t,r!==0&&(f=De(r))))):(p=u&~d,p!==0?f=De(p):A!==0?f=De(A):r||(r=u&~t,r!==0&&(f=De(r)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:f}function _e(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(){var t=ke;return ke<<=1,(ke&4194048)===0&&(ke=256),t}function ul(){var t=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),t}function se(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function jn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ss(t,n,r,u,f,d){var A=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var p=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=A&~r;0<r;){var J=31-we(r),nt=1<<J;p[J]=0,R[J]=-1;var V=z[J];if(V!==null)for(z[J]=null,J=0;J<V.length;J++){var j=V[J];j!==null&&(j.lane&=-536870913)}r&=~nt}u!==0&&ol(t,u,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(A&~n))}function ol(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-we(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|r&4194090}function zn(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var u=31-we(r),f=1<<u;f&n|t[u]&n&&(t[u]|=n),r&=~f}}function Ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function an(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ef(t.type))}function wr(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var on=Math.random().toString(36).slice(2),An="__reactFiber$"+on,Ze="__reactProps$"+on,Si="__reactContainer$"+on,En="__reactEvents$"+on,Vi="__reactListeners$"+on,Pn="__reactHandles$"+on,At="__reactResources$"+on,ri="__reactMarker$"+on;function Za(t){delete t[An],delete t[Ze],delete t[En],delete t[Vi],delete t[Pn]}function Ke(t){var n=t[An];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Si]||r[An]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=nf(t);t!==null;){if(r=t[An])return r;t=nf(t)}return n}t=r,r=t.parentNode}return null}function qn(t){if(t=t[An]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function pi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(b(33))}function xi(t){var n=t[At];return n||(n=t[At]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[ri]=!0}var us=new Set,os={};function wn(t,n){je(t,n),je(t+"Capture",n)}function je(t,n){for(os[t]=n,t=0;t<n.length;t++)us.add(n[t])}var Le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},mi={};function fl(t){return oa.call(mi,t)?!0:oa.call(cl,t)?!1:Le.test(t)?mi[t]=!0:(cl[t]=!0,!1)}function it(t,n,r){if(fl(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function yr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function de(t,n,r,u){if(u===null)t.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+u)}}var Ti,cs;function ee(t){if(Ti===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ti=n&&n[1]||"",cs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+t+cs}var ue=!1;function Qt(t,n){if(!t||ue)return"";ue=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(j){var V=j}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(j){V=j}t.call(nt.prototype)}}else{try{throw Error()}catch(j){V=j}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(j){if(j&&V&&typeof j.stack=="string")return[j.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),A=d[0],p=d[1];if(A&&p){var R=A.split(`
`),z=p.split(`
`);for(f=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(u===R.length||f===z.length)for(u=R.length-1,f=z.length-1;1<=u&&0<=f&&R[u]!==z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(R[u]!==z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||R[u]!==z[f]){var J=`
`+R[u].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=u&&0<=f);break}}}finally{ue=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ee(r):""}function hl(t){switch(t.tag){case 26:case 27:case 5:return ee(t.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return Qt(t.type,!1);case 11:return Qt(t.type.render,!1);case 1:return Qt(t.type,!0);case 31:return ee("Activity");default:return""}}function Cr(t){try{var n="";do n+=hl(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vi(t){var n=qe(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(A){u=""+A,d.call(this,A)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function br(t){t._valueTracker||(t._valueTracker=vi(t))}function Pe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),u="";return t&&(u=qe(t)?t.checked?"true":"false":t.value),t=u,t!==r?(n.setValue(t),!0):!1}function Qn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Su=/[\n"\\]/g;function cn(t){return t.replace(Su,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ae(t,n,r,u,f,d,A,p){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Rn(n)):t.value!==""+Rn(n)&&(t.value=""+Rn(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?k(t,A,Rn(n)):r!=null?k(t,A,Rn(r)):u!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Rn(p):t.removeAttribute("name")}function fn(t,n,r,u,f,d,A,p){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+Rn(r):"",n=n!=null?""+Rn(n):r,p||n===t.value||(t.value=n),t.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=p?t.checked:!!u,t.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function k(t,n,r){n==="number"&&Qn(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function _(t,n,r,u){if(t=t.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=n.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&u&&(t[r].defaultSelected=!0)}else{for(r=""+Rn(r),n=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function vt(t,n,r){if(n!=null&&(n=""+Rn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Rn(r):""}function Je(t,n,r,u){if(n==null){if(u!=null){if(r!=null)throw Error(b(92));if(G(u)){if(1<u.length)throw Error(b(93));u=u[0]}r=u}r==null&&(r=""),n=r}r=Rn(n),t.defaultValue=r,u=t.textContent,u===r&&u!==""&&u!==null&&(t.value=u)}function hn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sr(t,n,r){var u=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,r):typeof r!="number"||r===0||pu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function kn(t,n,r){if(n!=null&&typeof n!="object")throw Error(b(62));if(t=t.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&r[f]!==u&&Sr(t,f,u)}else for(var d in n)n.hasOwnProperty(d)&&Sr(t,d,n[d])}function Nt(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pr(t){return fs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ja=null;function ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,fa=null;function $e(t){var n=qn(t);if(n&&(t=n.stateNode)){var r=t[Ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ae(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var u=r[n];if(u!==t&&u.form===t.form){var f=u[Ze]||null;if(!f)throw Error(b(90));Ae(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)u=r[n],u.form===t.form&&Pe(u)}break t;case"textarea":vt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&_(t,!!r.multiple,n,!1)}}}var Xi=!1;function Ai(t,n,r){if(Xi)return t(n,r);Xi=!0;try{var u=t(n);return u}finally{if(Xi=!1,(_i!==null||fa!==null)&&(Ws(),_i&&(n=_i,t=fa,fa=_i=null,$e(n),t)))for(n=0;n<t.length;n++)$e(t[n])}}function Bt(t,n){var r=t.stateNode;if(r===null)return null;var u=r[Ze]||null;if(u===null)return null;r=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(b(231,n,typeof r));return r}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gt=!1;if(Ei)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Gt=!1}var Ni=null,qa=null,Qa=null;function Oi(){if(Qa)return Qa;var t,n=qa,r=n.length,u,f="value"in Ni?Ni.value:Ni.textContent,d=f.length;for(t=0;t<r&&n[t]===f[t];t++);var A=r-t;for(u=1;u<=A&&n[r-u]===f[d-u];u++);return Qa=f.slice(t,1<u?1-u:void 0)}function Tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function ha(){return!1}function rn(t){function n(r,u,f,d,A){this._reactName=r,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=A,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(r=t[p],this[p]=r?r(d):d[p]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ri:ha,this.isPropagationStopped=ha,this}return P(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=rn(Ii),wi=P({},Ii,{view:0,detail:0}),In=rn(wi),vr,_r,da,Nr=P({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==da&&(da&&t.type==="mousemove"?(vr=t.screenX-da.screenX,_r=t.screenY-da.screenY):_r=vr=0,da=t),vr)},movementY:function(t){return"movementY"in t?t.movementY:_r}}),hs=rn(Nr),Tu=P({},Nr,{dataTransfer:0}),Ee=rn(Tu),ds=P({},wi,{relatedTarget:0}),ga=rn(ds),Mi=P({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=rn(Mi),q=P({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yt=rn(q),dn=P({},Ii,{data:0}),Wa=rn(dn),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Ka(){return Ou}var tn=P({},wi,{key:function(t){if(t.key){var n=gs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dl=rn(tn),Ge=P({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=rn(Ge),Yi=P({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Ce=rn(Yi),Lt=P({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=rn(Lt),Me=P({},Nr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zi=rn(Me),xa=P({},Ii,{newState:0,oldState:0}),Iu=rn(xa),li=[9,13,27,32],$a=Ei&&"CompositionEvent"in window,ma=null;Ei&&"documentMode"in document&&(ma=document.documentMode);var gl=Ei&&"TextEvent"in window&&!ma,xl=Ei&&(!$a||ma&&8<ma&&11>=ma),ml=" ",xs=!1;function ji(t,n){switch(t){case"keyup":return li.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Or(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function tr(t,n){switch(t){case"compositionend":return Or(n);case"keypress":return n.which!==32?null:(xs=!0,ml);case"textInput":return t=n.data,t===ml&&xs?null:t;default:return null}}function Du(t,n){if(Aa)return t==="compositionend"||!$a&&ji(t,n)?(t=Oi(),Qa=qa=Ni=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xl&&n.locale!=="ko"?null:n.data;default:return null}}var Bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Bi[t.type]:n==="textarea"}function Fn(t,n,r,u){_i?fa?fa.push(u):fa=[u]:_i=u,n=nu(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,u),t.push({event:r,listeners:n}))}var Ea=null,Dn=null;function Mu(t){Z0(t,0)}function wa(t){var n=pi(t);if(Pe(n))return t}function ms(t,n){if(t==="change")return n}var Al=!1;if(Ei){var Gn;if(Ei){var El="oninput"in document;if(!El){var Rr=document.createElement("div");Rr.setAttribute("oninput","return;"),El=typeof Rr.oninput=="function"}Gn=El}else Gn=!1;Al=Gn&&(!document.documentMode||9<document.documentMode)}function ya(){Ea&&(Ea.detachEvent("onpropertychange",re),Dn=Ea=null)}function re(t){if(t.propertyName==="value"&&wa(Dn)){var n=[];Fn(n,Dn,t,ca(t)),Ai(Mu,n)}}function Ir(t,n,r){t==="focusin"?(ya(),Ea=n,Dn=r,Ea.attachEvent("onpropertychange",re)):t==="focusout"&&ya()}function E(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wa(Dn)}function e(t,n){if(t==="click")return wa(n)}function i(t,n){if(t==="input"||t==="change")return wa(n)}function a(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var l=typeof Object.is=="function"?Object.is:a;function s(t,n){if(l(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),u=Object.keys(n);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var f=r[u];if(!oa.call(n,f)||!l(t[f],n[f]))return!1}return!0}function o(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c(t,n){var r=o(t);t=0;for(var u;r;){if(r.nodeType===3){if(u=t+r.textContent.length,t<=n&&u>=n)return{node:r,offset:n-t};t=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=o(r)}}function h(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?h(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Qn(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Qn(t.document)}return n}function x(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var w=Ei&&"documentMode"in document&&11>=document.documentMode,S=null,N=null,I=null,M=!1;function U(t,n,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;M||S==null||S!==Qn(u)||(u=S,"selectionStart"in u&&x(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),I&&s(I,u)||(I=u,u=nu(N,"onSelect"),0<u.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:u}),n.target=S)))}function X(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var st={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionrun:X("Transition","TransitionRun"),transitionstart:X("Transition","TransitionStart"),transitioncancel:X("Transition","TransitionCancel"),transitionend:X("Transition","TransitionEnd")},ut={},lt={};Ei&&(lt=document.createElement("div").style,"AnimationEvent"in window||(delete st.animationend.animation,delete st.animationiteration.animation,delete st.animationstart.animation),"TransitionEvent"in window||delete st.transitionend.transition);function Vt(t){if(ut[t])return ut[t];if(!st[t])return t;var n=st[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in lt)return ut[t]=n[r];return t}var Pt=Vt("animationend"),Tn=Vt("animationiteration"),Vn=Vt("animationstart"),Mn=Vt("transitionrun"),be=Vt("transitionstart"),gn=Vt("transitioncancel"),Bn=Vt("transitionend"),qi=new Map,Li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Li.push("scrollEnd");function Wn(t,n){qi.set(t,n),wn(n,[t])}var As=new WeakMap;function si(t,n){if(typeof t=="object"&&t!==null){var r=As.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Cr(n)},As.set(t,n),n)}return{value:t,source:n,stack:Cr(n)}}var ui=[],Dr=0,Bu=0;function Es(){for(var t=Dr,n=Bu=Dr=0;n<t;){var r=ui[n];ui[n++]=null;var u=ui[n];ui[n++]=null;var f=ui[n];ui[n++]=null;var d=ui[n];if(ui[n++]=null,u!==null&&f!==null){var A=u.pending;A===null?f.next=f:(f.next=A.next,A.next=f),u.pending=f}d!==0&&Rc(r,f,d)}}function ws(t,n,r,u){ui[Dr++]=t,ui[Dr++]=n,ui[Dr++]=r,ui[Dr++]=u,Bu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Lu(t,n,r,u){return ws(t,n,r,u),ys(t)}function Mr(t,n){return ws(t,null,null,n),ys(t)}function Rc(t,n,r){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r);for(var f=!1,d=t.return;d!==null;)d.childLanes|=r,u=d.alternate,u!==null&&(u.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-we(r),t=d.hiddenUpdates,u=t[f],u===null?t[f]=[n]:u.push(n),n.lane=r|536870912),d):null}function ys(t){if(50<Vl)throw Vl=0,Go=null,Error(b(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Br={};function eh(t,n,r,u){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,n,r,u){return new eh(t,n,r,u)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,n){var r=t.alternate;return r===null?(r=Kn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ic(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cs(t,n,r,u,f,d){var A=0;if(u=t,typeof t=="function")Uu(t)&&(A=1);else if(typeof t=="string")A=id(t,r,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case W:return t=Kn(31,r,n,f),t.elementType=W,t.lanes=d,t;case Rt:return nr(r.children,f,d,n);case It:A=8,f|=24;break;case te:return t=Kn(12,r,n,f|2),t.elementType=te,t.lanes=d,t;case Ct:return t=Kn(13,r,n,f),t.elementType=Ct,t.lanes=d,t;case Mt:return t=Kn(19,r,n,f),t.elementType=Mt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:case ot:A=10;break t;case xt:A=9;break t;case Dt:A=11;break t;case tt:A=14;break t;case pt:A=16,u=null;break t}A=29,r=Error(b(130,t===null?"null":typeof t,"")),u=null}return n=Kn(A,r,n,f),n.elementType=t,n.type=u,n.lanes=d,n}function nr(t,n,r,u){return t=Kn(7,t,u,n),t.lanes=r,t}function ku(t,n,r){return t=Kn(6,t,null,n),t.lanes=r,t}function Fu(t,n,r){return n=Kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Lr=[],Ur=0,bs=null,Ss=0,oi=[],ci=0,ir=null,Wi=1,Ki="";function ar(t,n){Lr[Ur++]=Ss,Lr[Ur++]=bs,bs=t,Ss=n}function Dc(t,n,r){oi[ci++]=Wi,oi[ci++]=Ki,oi[ci++]=ir,ir=t;var u=Wi;t=Ki;var f=32-we(u)-1;u&=~(1<<f),r+=1;var d=32-we(n)+f;if(30<d){var A=f-f%5;d=(u&(1<<A)-1).toString(32),u>>=A,f-=A,Wi=1<<32-we(n)+f|r<<f|u,Ki=d+t}else Wi=1<<d|r<<f|u,Ki=t}function Hu(t){t.return!==null&&(ar(t,1),Dc(t,1,0))}function zu(t){for(;t===bs;)bs=Lr[--Ur],Lr[Ur]=null,Ss=Lr[--Ur],Lr[Ur]=null;for(;t===ir;)ir=oi[--ci],oi[ci]=null,Ki=oi[--ci],oi[ci]=null,Wi=oi[--ci],oi[ci]=null}var Hn=null,Qe=null,me=!1,rr=null,Ui=!1,Pu=Error(b(519));function lr(t){var n=Error(b(418,""));throw Cl(si(n,t)),Pu}function Mc(t){var n=t.stateNode,r=t.type,u=t.memoizedProps;switch(n[An]=t,n[Ze]=u,r){case"dialog":ie("cancel",n),ie("close",n);break;case"iframe":case"object":case"embed":ie("load",n);break;case"video":case"audio":for(r=0;r<Yl.length;r++)ie(Yl[r],n);break;case"source":ie("error",n);break;case"img":case"image":case"link":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"input":ie("invalid",n),fn(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),br(n);break;case"select":ie("invalid",n);break;case"textarea":ie("invalid",n),Je(n,u.value,u.defaultValue,u.children),br(n)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||u.suppressHydrationWarning===!0||W0(n.textContent,r)?(u.popover!=null&&(ie("beforetoggle",n),ie("toggle",n)),u.onScroll!=null&&ie("scroll",n),u.onScrollEnd!=null&&ie("scrollend",n),u.onClick!=null&&(n.onclick=iu),n=!0):n=!1,n||lr(t)}function Bc(t){for(Hn=t.return;Hn;)switch(Hn.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:Hn=Hn.return}}function wl(t){if(t!==Hn)return!1;if(!me)return Bc(t),me=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ac(t.type,t.memoizedProps)),r=!r),r&&Qe&&lr(t),Bc(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Qe=Ci(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Qe=null}}else n===27?(n=Qe,Ua(t.type)?(t=uc,uc=null,Qe=t):Qe=n):Qe=Hn?Ci(t.stateNode.nextSibling):null;return!0}function yl(){Qe=Hn=null,me=!1}function Lc(){var t=rr;return t!==null&&(Zn===null?Zn=t:Zn.push.apply(Zn,t),rr=null),t}function Cl(t){rr===null?rr=[t]:rr.push(t)}var Gu=rt(null),sr=null,Ji=null;function Ca(t,n,r){ht(Gu,n._currentValue),n._currentValue=r}function $i(t){t._currentValue=Gu.current,ct(Gu)}function Vu(t,n,r){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===r)break;t=t.return}}function Xu(t,n,r,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var A=f.child;d=d.firstContext;t:for(;d!==null;){var p=d;d=f;for(var R=0;R<n.length;R++)if(p.context===n[R]){d.lanes|=r,p=d.alternate,p!==null&&(p.lanes|=r),Vu(d.return,r,t),u||(A=null);break t}d=p.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(b(341));A.lanes|=r,d=A.alternate,d!==null&&(d.lanes|=r),Vu(A,r,t),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===t){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function bl(t,n,r,u){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(b(387));if(A=A.memoizedProps,A!==null){var p=f.type;l(f.pendingProps.value,A.value)||(t!==null?t.push(p):t=[p])}}else if(f===kt.current){if(A=f.alternate,A===null)throw Error(b(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}f=f.return}t!==null&&Xu(n,t,r,u),n.flags|=262144}function ps(t){for(t=t.firstContext;t!==null;){if(!l(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ur(t){sr=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return Uc(sr,t)}function Ts(t,n){return sr===null&&ur(t),Uc(t,n)}function Uc(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ji===null){if(t===null)throw Error(b(308));Ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ji=Ji.next=n;return r}var nh=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ih=y.unstable_scheduleCallback,ah=y.unstable_NormalPriority,xn={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yu(){return{controller:new nh,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&ih(ah,function(){t.controller.abort()})}var pl=null,Zu=0,kr=0,Fr=null;function rh(t,n){if(pl===null){var r=pl=[];Zu=0,kr=Qo(),Fr={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Zu++,n.then(kc,kc),n}function kc(){if(--Zu===0&&pl!==null){Fr!==null&&(Fr.status="fulfilled");var t=pl;pl=null,kr=0,Fr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function lh(t,n){var r=[],u={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),u}var Fc=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&rh(t,n),Fc!==null&&Fc(t,n)};var or=rt(null);function ju(){var t=or.current;return t!==null?t:Ue.pooledCache}function vs(t,n){n===null?ht(or,or.current):ht(or,n.pool)}function Hc(){var t=ju();return t===null?null:{parent:xn._currentValue,pool:t}}var Tl=Error(b(460)),zc=Error(b(474)),_s=Error(b(542)),qu={then:function(){}};function Pc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ns(){}function Gc(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ns,Ns),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xc(t),t;default:if(typeof n.status=="string")n.then(Ns,Ns);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(b(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xc(t),t}throw vl=n,Tl}}var vl=null;function Vc(){if(vl===null)throw Error(b(459));var t=vl;return vl=null,t}function Xc(t){if(t===Tl||t===_s)throw Error(b(483))}var ba=!1;function Qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pa(t,n,r){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Se&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=ys(t),Rc(t,null,r),n}return ws(t,u,n,r),ys(t)}function _l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,r|=u,n.lanes=r,zn(t,r)}}function Ku(t,n){var r=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var A={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=A:d=d.next=A,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ju=!1;function Nl(){if(Ju){var t=Fr;if(t!==null)throw t}}function Ol(t,n,r,u){Ju=!1;var f=t.updateQueue;ba=!1;var d=f.firstBaseUpdate,A=f.lastBaseUpdate,p=f.shared.pending;if(p!==null){f.shared.pending=null;var R=p,z=R.next;R.next=null,A===null?d=z:A.next=z,A=R;var J=t.alternate;J!==null&&(J=J.updateQueue,p=J.lastBaseUpdate,p!==A&&(p===null?J.firstBaseUpdate=z:p.next=z,J.lastBaseUpdate=R))}if(d!==null){var nt=f.baseState;A=0,J=z=R=null,p=d;do{var V=p.lane&-536870913,j=V!==p.lane;if(j?(oe&V)===V:(u&V)===V){V!==0&&V===kr&&(Ju=!0),J!==null&&(J=J.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});t:{var Ht=t,Ut=p;V=n;var Re=r;switch(Ut.tag){case 1:if(Ht=Ut.payload,typeof Ht=="function"){nt=Ht.call(Re,nt,V);break t}nt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Ut.payload,V=typeof Ht=="function"?Ht.call(Re,nt,V):Ht,V==null)break t;nt=P({},nt,V);break t;case 2:ba=!0}}V=p.callback,V!==null&&(t.flags|=64,j&&(t.flags|=8192),j=f.callbacks,j===null?f.callbacks=[V]:j.push(V))}else j={lane:V,tag:p.tag,payload:p.payload,callback:p.callback,next:null},J===null?(z=J=j,R=nt):J=J.next=j,A|=V;if(p=p.next,p===null){if(p=f.shared.pending,p===null)break;j=p,p=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);J===null&&(R=nt),f.baseState=R,f.firstBaseUpdate=z,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Da|=A,t.lanes=A,t.memoizedState=nt}}function Yc(t,n){if(typeof t!="function")throw Error(b(191,t));t.call(n)}function Zc(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Yc(r[t],n)}var Hr=rt(null),Os=rt(0);function jc(t,n){t=la,ht(Os,t),ht(Hr,n),la=t|n.baseLanes}function $u(){ht(Os,la),ht(Hr,Hr.current)}function to(){la=Os.current,ct(Hr),ct(Os)}var Ta=0,Wt=null,Ne=null,ln=null,Rs=!1,zr=!1,cr=!1,Is=0,Rl=0,Pr=null,sh=0;function en(){throw Error(b(321))}function eo(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!l(t[r],n[r]))return!1;return!0}function no(t,n,r,u,f,d){return Ta=d,Wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?R1:I1,cr=!1,d=r(u,f),cr=!1,zr&&(d=Qc(n,r,u,f)),qc(t),d}function qc(t){Q.H=ks;var n=Ne!==null&&Ne.next!==null;if(Ta=0,ln=Ne=Wt=null,Rs=!1,Rl=0,Pr=null,n)throw Error(b(300));t===null||yn||(t=t.dependencies,t!==null&&ps(t)&&(yn=!0))}function Qc(t,n,r,u){Wt=t;var f=0;do{if(zr&&(Pr=null),Rl=0,zr=!1,25<=f)throw Error(b(301));if(f+=1,ln=Ne=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=gh,d=n(r,u)}while(zr);return d}function uh(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(Wt.flags|=1024),n}function io(){var t=Is!==0;return Is=0,t}function ao(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ro(t){if(Rs){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Rs=!1}Ta=0,ln=Ne=Wt=null,zr=!1,Rl=Is=0,Pr=null}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Wt.memoizedState=ln=t:ln=ln.next=t,ln}function sn(){if(Ne===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var n=ln===null?Wt.memoizedState:ln.next;if(n!==null)ln=n,Ne=t;else{if(t===null)throw Wt.alternate===null?Error(b(467)):Error(b(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},ln===null?Wt.memoizedState=ln=t:ln=ln.next=t}return ln}function lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=Rl;return Rl+=1,Pr===null&&(Pr=[]),t=Gc(Pr,t,n),n=Wt,(ln===null?n.memoizedState:ln.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?R1:I1),t}function Ds(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===ot)return Ln(t)}throw Error(b(438,String(t)))}function so(t){var n=null,r=Wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var u=Wt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lo(),Wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),u=0;u<t;u++)r[u]=ce;return n.index++,r}function ta(t,n){return typeof n=="function"?n(t):n}function Ms(t){var n=sn();return uo(n,Ne,t)}function uo(t,n,r){var u=t.queue;if(u===null)throw Error(b(311));u.lastRenderedReducer=r;var f=t.baseQueue,d=u.pending;if(d!==null){if(f!==null){var A=f.next;f.next=d.next,d.next=A}n.baseQueue=f=d,u.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var p=A=null,R=null,z=n,J=!1;do{var nt=z.lane&-536870913;if(nt!==z.lane?(oe&nt)===nt:(Ta&nt)===nt){var V=z.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),nt===kr&&(J=!0);else if((Ta&V)===V){z=z.next,V===kr&&(J=!0);continue}else nt={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(p=R=nt,A=d):R=R.next=nt,Wt.lanes|=V,Da|=V;nt=z.action,cr&&r(d,nt),d=z.hasEagerState?z.eagerState:r(d,nt)}else V={lane:nt,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(p=R=V,A=d):R=R.next=V,Wt.lanes|=nt,Da|=nt;z=z.next}while(z!==null&&z!==n);if(R===null?A=d:R.next=p,!l(d,t.memoizedState)&&(yn=!0,J&&(r=Fr,r!==null)))throw r;t.memoizedState=d,t.baseState=A,t.baseQueue=R,u.lastRenderedState=d}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function oo(t){var n=sn(),r=n.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var u=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var A=f=f.next;do d=t(d,A.action),A=A.next;while(A!==f);l(d,n.memoizedState)||(yn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,u]}function Wc(t,n,r){var u=Wt,f=sn(),d=me;if(d){if(r===void 0)throw Error(b(407));r=r()}else r=n();var A=!l((Ne||f).memoizedState,r);A&&(f.memoizedState=r,yn=!0),f=f.queue;var p=$c.bind(null,u,f,t);if(Dl(2048,8,p,[t]),f.getSnapshot!==n||A||ln!==null&&ln.memoizedState.tag&1){if(u.flags|=2048,Gr(9,Bs(),Jc.bind(null,u,f,r,n),null),Ue===null)throw Error(b(349));d||(Ta&124)!==0||Kc(u,n,r)}return r}function Kc(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Wt.updateQueue,n===null?(n=lo(),Wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Jc(t,n,r,u){n.value=r,n.getSnapshot=u,t1(n)&&e1(t)}function $c(t,n,r){return r(function(){t1(n)&&e1(t)})}function t1(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!l(t,r)}catch{return!0}}function e1(t){var n=Mr(t,2);n!==null&&ni(n,t,2)}function co(t){var n=Xn();if(typeof t=="function"){var r=t;if(t=r(),cr){pn(!0);try{r()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},n}function n1(t,n,r,u){return t.baseState=r,uo(t,Ne,typeof u=="function"?u:ta)}function oh(t,n,r,u,f){if(Us(t))throw Error(b(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){d.listeners.push(A)}};Q.T!==null?r(!0):d.isTransition=!1,u(d),r=n.pending,r===null?(d.next=n.pending=d,i1(n,d)):(d.next=r.next,n.pending=r.next=d)}}function i1(t,n){var r=n.action,u=n.payload,f=t.state;if(n.isTransition){var d=Q.T,A={};Q.T=A;try{var p=r(f,u),R=Q.S;R!==null&&R(A,p),a1(t,n,p)}catch(z){fo(t,n,z)}finally{Q.T=d}}else try{d=r(f,u),a1(t,n,d)}catch(z){fo(t,n,z)}}function a1(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){r1(t,n,u)},function(u){return fo(t,n,u)}):r1(t,n,r)}function r1(t,n,r){n.status="fulfilled",n.value=r,l1(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,i1(t,r)))}function fo(t,n,r){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=r,l1(n),n=n.next;while(n!==u)}t.action=null}function l1(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function s1(t,n){return n}function u1(t,n){if(me){var r=Ue.formState;if(r!==null){t:{var u=Wt;if(me){if(Qe){e:{for(var f=Qe,d=Ui;f.nodeType!==8;){if(!d){f=null;break e}if(f=Ci(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Qe=Ci(f.nextSibling),u=f.data==="F!";break t}}lr(u)}u=!1}u&&(n=r[0])}}return r=Xn(),r.memoizedState=r.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s1,lastRenderedState:n},r.queue=u,r=_1.bind(null,Wt,u),u.dispatch=r,u=co(!1),d=Ao.bind(null,Wt,!1,u.queue),u=Xn(),f={state:n,dispatch:null,action:t,pending:null},u.queue=f,r=oh.bind(null,Wt,f,d,r),f.dispatch=r,u.memoizedState=t,[n,r,!1]}function o1(t){var n=sn();return c1(n,Ne,t)}function c1(t,n,r){if(n=uo(t,n,s1)[0],t=Ms(ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Il(n)}catch(A){throw A===Tl?_s:A}else u=n;n=sn();var f=n.queue,d=f.dispatch;return r!==n.memoizedState&&(Wt.flags|=2048,Gr(9,Bs(),ch.bind(null,f,r),null)),[u,d,t]}function ch(t,n){t.action=n}function f1(t){var n=sn(),r=Ne;if(r!==null)return c1(n,r,t);sn(),n=n.memoizedState,r=sn();var u=r.queue.dispatch;return r.memoizedState=t,[n,u,!1]}function Gr(t,n,r,u){return t={tag:t,create:r,deps:u,inst:n,next:null},n=Wt.updateQueue,n===null&&(n=lo(),Wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(u=r.next,r.next=t,t.next=u,n.lastEffect=t),t}function Bs(){return{destroy:void 0,resource:void 0}}function h1(){return sn().memoizedState}function Ls(t,n,r,u){var f=Xn();u=u===void 0?null:u,Wt.flags|=t,f.memoizedState=Gr(1|n,Bs(),r,u)}function Dl(t,n,r,u){var f=sn();u=u===void 0?null:u;var d=f.memoizedState.inst;Ne!==null&&u!==null&&eo(u,Ne.memoizedState.deps)?f.memoizedState=Gr(n,d,r,u):(Wt.flags|=t,f.memoizedState=Gr(1|n,d,r,u))}function d1(t,n){Ls(8390656,8,t,n)}function g1(t,n){Dl(2048,8,t,n)}function x1(t,n){return Dl(4,2,t,n)}function m1(t,n){return Dl(4,4,t,n)}function A1(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function E1(t,n,r){r=r!=null?r.concat([t]):null,Dl(4,4,A1.bind(null,n,t),r)}function ho(){}function w1(t,n){var r=sn();n=n===void 0?null:n;var u=r.memoizedState;return n!==null&&eo(n,u[1])?u[0]:(r.memoizedState=[t,n],t)}function y1(t,n){var r=sn();n=n===void 0?null:n;var u=r.memoizedState;if(n!==null&&eo(n,u[1]))return u[0];if(u=t(),cr){pn(!0);try{t()}finally{pn(!1)}}return r.memoizedState=[u,n],u}function go(t,n,r){return r===void 0||(Ta&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=S0(),Wt.lanes|=t,Da|=t,r)}function C1(t,n,r,u){return l(r,n)?r:Hr.current!==null?(t=go(t,r,u),l(t,n)||(yn=!0),t):(Ta&42)===0?(yn=!0,t.memoizedState=r):(t=S0(),Wt.lanes|=t,Da|=t,n)}function b1(t,n,r,u,f){var d=et.p;et.p=d!==0&&8>d?d:8;var A=Q.T,p={};Q.T=p,Ao(t,!1,n,r);try{var R=f(),z=Q.S;if(z!==null&&z(p,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var J=lh(R,u);Ml(t,n,J,ei(t))}else Ml(t,n,u,ei(t))}catch(nt){Ml(t,n,{then:function(){},status:"rejected",reason:nt},ei())}finally{et.p=d,Q.T=A}}function fh(){}function xo(t,n,r,u){if(t.tag!==5)throw Error(b(476));var f=S1(t).queue;b1(t,f,n,_t,r===null?fh:function(){return p1(t),r(u)})}function S1(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:_t},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function p1(t){var n=S1(t).next.queue;Ml(t,n,{},ei())}function mo(){return Ln(Kl)}function T1(){return sn().memoizedState}function v1(){return sn().memoizedState}function hh(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ei();t=Sa(r);var u=pa(n,t,r);u!==null&&(ni(u,n,r),_l(u,n,r)),n={cache:Yu()},t.payload=n;return}n=n.return}}function dh(t,n,r){var u=ei();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Us(t)?N1(n,r):(r=Lu(t,n,r,u),r!==null&&(ni(r,t,u),O1(r,n,u)))}function _1(t,n,r){var u=ei();Ml(t,n,r,u)}function Ml(t,n,r,u){var f={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Us(t))N1(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var A=n.lastRenderedState,p=d(A,r);if(f.hasEagerState=!0,f.eagerState=p,l(p,A))return ws(t,n,f,0),Ue===null&&Es(),!1}catch{}finally{}if(r=Lu(t,n,f,u),r!==null)return ni(r,t,u),O1(r,n,u),!0}return!1}function Ao(t,n,r,u){if(u={lane:2,revertLane:Qo(),action:u,hasEagerState:!1,eagerState:null,next:null},Us(t)){if(n)throw Error(b(479))}else n=Lu(t,r,u,2),n!==null&&ni(n,t,2)}function Us(t){var n=t.alternate;return t===Wt||n!==null&&n===Wt}function N1(t,n){zr=Rs=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function O1(t,n,r){if((r&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,r|=u,n.lanes=r,zn(t,r)}}var ks={readContext:Ln,use:Ds,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},R1={readContext:Ln,use:Ds,useCallback:function(t,n){return Xn().memoizedState=[t,n===void 0?null:n],t},useContext:Ln,useEffect:d1,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ls(4194308,4,A1.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ls(4194308,4,t,n)},useInsertionEffect:function(t,n){Ls(4,2,t,n)},useMemo:function(t,n){var r=Xn();n=n===void 0?null:n;var u=t();if(cr){pn(!0);try{t()}finally{pn(!1)}}return r.memoizedState=[u,n],u},useReducer:function(t,n,r){var u=Xn();if(r!==void 0){var f=r(n);if(cr){pn(!0);try{r(n)}finally{pn(!1)}}}else f=n;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=dh.bind(null,Wt,t),[u.memoizedState,t]},useRef:function(t){var n=Xn();return t={current:t},n.memoizedState=t},useState:function(t){t=co(t);var n=t.queue,r=_1.bind(null,Wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ho,useDeferredValue:function(t,n){var r=Xn();return go(r,t,n)},useTransition:function(){var t=co(!1);return t=b1.bind(null,Wt,t.queue,!0,!1),Xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var u=Wt,f=Xn();if(me){if(r===void 0)throw Error(b(407));r=r()}else{if(r=n(),Ue===null)throw Error(b(349));(oe&124)!==0||Kc(u,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,d1($c.bind(null,u,d,t),[t]),u.flags|=2048,Gr(9,Bs(),Jc.bind(null,u,d,r,n),null),r},useId:function(){var t=Xn(),n=Ue.identifierPrefix;if(me){var r=Ki,u=Wi;r=(u&~(1<<32-we(u)-1)).toString(32)+r,n=""+n+"R"+r,r=Is++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=sh++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:mo,useFormState:u1,useActionState:u1,useOptimistic:function(t){var n=Xn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ao.bind(null,Wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:so,useCacheRefresh:function(){return Xn().memoizedState=hh.bind(null,Wt)}},I1={readContext:Ln,use:Ds,useCallback:w1,useContext:Ln,useEffect:g1,useImperativeHandle:E1,useInsertionEffect:x1,useLayoutEffect:m1,useMemo:y1,useReducer:Ms,useRef:h1,useState:function(){return Ms(ta)},useDebugValue:ho,useDeferredValue:function(t,n){var r=sn();return C1(r,Ne.memoizedState,t,n)},useTransition:function(){var t=Ms(ta)[0],n=sn().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Wc,useId:T1,useHostTransitionStatus:mo,useFormState:o1,useActionState:o1,useOptimistic:function(t,n){var r=sn();return n1(r,Ne,t,n)},useMemoCache:so,useCacheRefresh:v1},gh={readContext:Ln,use:Ds,useCallback:w1,useContext:Ln,useEffect:g1,useImperativeHandle:E1,useInsertionEffect:x1,useLayoutEffect:m1,useMemo:y1,useReducer:oo,useRef:h1,useState:function(){return oo(ta)},useDebugValue:ho,useDeferredValue:function(t,n){var r=sn();return Ne===null?go(r,t,n):C1(r,Ne.memoizedState,t,n)},useTransition:function(){var t=oo(ta)[0],n=sn().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Wc,useId:T1,useHostTransitionStatus:mo,useFormState:f1,useActionState:f1,useOptimistic:function(t,n){var r=sn();return Ne!==null?n1(r,Ne,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:so,useCacheRefresh:v1},Vr=null,Bl=0;function Fs(t){var n=Bl;return Bl+=1,Vr===null&&(Vr=[]),Gc(Vr,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hs(t,n){throw n.$$typeof===Z?Error(b(525)):(t=Object.prototype.toString.call(n),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function D1(t){var n=t._init;return n(t._payload)}function M1(t){function n(L,B){if(t){var F=L.deletions;F===null?(L.deletions=[B],L.flags|=16):F.push(B)}}function r(L,B){if(!t)return null;for(;B!==null;)n(L,B),B=B.sibling;return null}function u(L){for(var B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(L,B){return L=Qi(L,B),L.index=0,L.sibling=null,L}function d(L,B,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<B?(L.flags|=67108866,B):F):(L.flags|=67108866,B)):(L.flags|=1048576,B)}function A(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function p(L,B,F,$){return B===null||B.tag!==6?(B=ku(F,L.mode,$),B.return=L,B):(B=f(B,F),B.return=L,B)}function R(L,B,F,$){var bt=F.type;return bt===Rt?J(L,B,F.props.children,$,F.key):B!==null&&(B.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===pt&&D1(bt)===B.type)?(B=f(B,F.props),Ll(B,F),B.return=L,B):(B=Cs(F.type,F.key,F.props,null,L.mode,$),Ll(B,F),B.return=L,B)}function z(L,B,F,$){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=Fu(F,L.mode,$),B.return=L,B):(B=f(B,F.children||[]),B.return=L,B)}function J(L,B,F,$,bt){return B===null||B.tag!==7?(B=nr(F,L.mode,$,bt),B.return=L,B):(B=f(B,F),B.return=L,B)}function nt(L,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ku(""+B,L.mode,F),B.return=L,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Et:return F=Cs(B.type,B.key,B.props,null,L.mode,F),Ll(F,B),F.return=L,F;case St:return B=Fu(B,L.mode,F),B.return=L,B;case pt:var $=B._init;return B=$(B._payload),nt(L,B,F)}if(G(B)||mt(B))return B=nr(B,L.mode,F,null),B.return=L,B;if(typeof B.then=="function")return nt(L,Fs(B),F);if(B.$$typeof===ot)return nt(L,Ts(L,B),F);Hs(L,B)}return null}function V(L,B,F,$){var bt=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return bt!==null?null:p(L,B,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Et:return F.key===bt?R(L,B,F,$):null;case St:return F.key===bt?z(L,B,F,$):null;case pt:return bt=F._init,F=bt(F._payload),V(L,B,F,$)}if(G(F)||mt(F))return bt!==null?null:J(L,B,F,$,null);if(typeof F.then=="function")return V(L,B,Fs(F),$);if(F.$$typeof===ot)return V(L,B,Ts(L,F),$);Hs(L,F)}return null}function j(L,B,F,$,bt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(F)||null,p(B,L,""+$,bt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Et:return L=L.get($.key===null?F:$.key)||null,R(B,L,$,bt);case St:return L=L.get($.key===null?F:$.key)||null,z(B,L,$,bt);case pt:var $t=$._init;return $=$t($._payload),j(L,B,F,$,bt)}if(G($)||mt($))return L=L.get(F)||null,J(B,L,$,bt,null);if(typeof $.then=="function")return j(L,B,F,Fs($),bt);if($.$$typeof===ot)return j(L,B,F,Ts(B,$),bt);Hs(B,$)}return null}function Ht(L,B,F,$){for(var bt=null,$t=null,Ot=B,Ft=B=0,bn=null;Ot!==null&&Ft<F.length;Ft++){Ot.index>Ft?(bn=Ot,Ot=null):bn=Ot.sibling;var ge=V(L,Ot,F[Ft],$);if(ge===null){Ot===null&&(Ot=bn);break}t&&Ot&&ge.alternate===null&&n(L,Ot),B=d(ge,B,Ft),$t===null?bt=ge:$t.sibling=ge,$t=ge,Ot=bn}if(Ft===F.length)return r(L,Ot),me&&ar(L,Ft),bt;if(Ot===null){for(;Ft<F.length;Ft++)Ot=nt(L,F[Ft],$),Ot!==null&&(B=d(Ot,B,Ft),$t===null?bt=Ot:$t.sibling=Ot,$t=Ot);return me&&ar(L,Ft),bt}for(Ot=u(Ot);Ft<F.length;Ft++)bn=j(Ot,L,Ft,F[Ft],$),bn!==null&&(t&&bn.alternate!==null&&Ot.delete(bn.key===null?Ft:bn.key),B=d(bn,B,Ft),$t===null?bt=bn:$t.sibling=bn,$t=bn);return t&&Ot.forEach(function(Pa){return n(L,Pa)}),me&&ar(L,Ft),bt}function Ut(L,B,F,$){if(F==null)throw Error(b(151));for(var bt=null,$t=null,Ot=B,Ft=B=0,bn=null,ge=F.next();Ot!==null&&!ge.done;Ft++,ge=F.next()){Ot.index>Ft?(bn=Ot,Ot=null):bn=Ot.sibling;var Pa=V(L,Ot,ge.value,$);if(Pa===null){Ot===null&&(Ot=bn);break}t&&Ot&&Pa.alternate===null&&n(L,Ot),B=d(Pa,B,Ft),$t===null?bt=Pa:$t.sibling=Pa,$t=Pa,Ot=bn}if(ge.done)return r(L,Ot),me&&ar(L,Ft),bt;if(Ot===null){for(;!ge.done;Ft++,ge=F.next())ge=nt(L,ge.value,$),ge!==null&&(B=d(ge,B,Ft),$t===null?bt=ge:$t.sibling=ge,$t=ge);return me&&ar(L,Ft),bt}for(Ot=u(Ot);!ge.done;Ft++,ge=F.next())ge=j(Ot,L,Ft,ge.value,$),ge!==null&&(t&&ge.alternate!==null&&Ot.delete(ge.key===null?Ft:ge.key),B=d(ge,B,Ft),$t===null?bt=ge:$t.sibling=ge,$t=ge);return t&&Ot.forEach(function(xd){return n(L,xd)}),me&&ar(L,Ft),bt}function Re(L,B,F,$){if(typeof F=="object"&&F!==null&&F.type===Rt&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Et:t:{for(var bt=F.key;B!==null;){if(B.key===bt){if(bt=F.type,bt===Rt){if(B.tag===7){r(L,B.sibling),$=f(B,F.props.children),$.return=L,L=$;break t}}else if(B.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===pt&&D1(bt)===B.type){r(L,B.sibling),$=f(B,F.props),Ll($,F),$.return=L,L=$;break t}r(L,B);break}else n(L,B);B=B.sibling}F.type===Rt?($=nr(F.props.children,L.mode,$,F.key),$.return=L,L=$):($=Cs(F.type,F.key,F.props,null,L.mode,$),Ll($,F),$.return=L,L=$)}return A(L);case St:t:{for(bt=F.key;B!==null;){if(B.key===bt)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){r(L,B.sibling),$=f(B,F.children||[]),$.return=L,L=$;break t}else{r(L,B);break}else n(L,B);B=B.sibling}$=Fu(F,L.mode,$),$.return=L,L=$}return A(L);case pt:return bt=F._init,F=bt(F._payload),Re(L,B,F,$)}if(G(F))return Ht(L,B,F,$);if(mt(F)){if(bt=mt(F),typeof bt!="function")throw Error(b(150));return F=bt.call(F),Ut(L,B,F,$)}if(typeof F.then=="function")return Re(L,B,Fs(F),$);if(F.$$typeof===ot)return Re(L,B,Ts(L,F),$);Hs(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(r(L,B.sibling),$=f(B,F),$.return=L,L=$):(r(L,B),$=ku(F,L.mode,$),$.return=L,L=$),A(L)):r(L,B)}return function(L,B,F,$){try{Bl=0;var bt=Re(L,B,F,$);return Vr=null,bt}catch(Ot){if(Ot===Tl||Ot===_s)throw Ot;var $t=Kn(29,Ot,null,L.mode);return $t.lanes=$,$t.return=L,$t}finally{}}}var Xr=M1(!0),B1=M1(!1),fi=rt(null),ki=null;function va(t){var n=t.alternate;ht(mn,mn.current&1),ht(fi,t),ki===null&&(n===null||Hr.current!==null||n.memoizedState!==null)&&(ki=t)}function L1(t){if(t.tag===22){if(ht(mn,mn.current),ht(fi,t),ki===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ki=t)}}else _a()}function _a(){ht(mn,mn.current),ht(fi,fi.current)}function ea(t){ct(fi),ki===t&&(ki=null),ct(mn)}var mn=rt(0);function zs(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||sc(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eo(t,n,r,u){n=t.memoizedState,r=r(u,n),r=r==null?n:P({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wo={enqueueSetState:function(t,n,r){t=t._reactInternals;var u=ei(),f=Sa(u);f.payload=n,r!=null&&(f.callback=r),n=pa(t,f,u),n!==null&&(ni(n,t,u),_l(n,t,u))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var u=ei(),f=Sa(u);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=pa(t,f,u),n!==null&&(ni(n,t,u),_l(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ei(),u=Sa(r);u.tag=2,n!=null&&(u.callback=n),n=pa(t,u,r),n!==null&&(ni(n,t,r),_l(n,t,r))}};function U1(t,n,r,u,f,d,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,A):n.prototype&&n.prototype.isPureReactComponent?!s(r,u)||!s(f,d):!0}function k1(t,n,r,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,u),n.state!==t&&wo.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var u in n)u!=="ref"&&(r[u]=n[u])}if(t=t.defaultProps){r===n&&(r=P({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var Ps=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function F1(t){Ps(t)}function H1(t){console.error(t)}function z1(t){Ps(t)}function Gs(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function P1(t,n,r){try{var u=t.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yo(t,n,r){return r=Sa(r),r.tag=3,r.payload={element:null},r.callback=function(){Gs(t,n)},r}function G1(t){return t=Sa(t),t.tag=3,t}function V1(t,n,r,u){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;t.payload=function(){return f(d)},t.callback=function(){P1(n,r,u)}}var A=r.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){P1(n,r,u),typeof f!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var p=u.stack;this.componentDidCatch(u.value,{componentStack:p!==null?p:""})})}function xh(t,n,r,u,f){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=r.alternate,n!==null&&bl(n,r,f,!0),r=fi.current,r!==null){switch(r.tag){case 13:return ki===null?Xo():r.alternate===null&&We===0&&(We=3),r.flags&=-257,r.flags|=65536,r.lanes=f,u===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([u]):n.add(u),Zo(t,u,f)),!1;case 22:return r.flags|=65536,u===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([u]):r.add(u)),Zo(t,u,f)),!1}throw Error(b(435,r.tag))}return Zo(t,u,f),Xo(),!1}if(me)return n=fi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Pu&&(t=Error(b(422),{cause:u}),Cl(si(t,r)))):(u!==Pu&&(n=Error(b(423),{cause:u}),Cl(si(n,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=si(u,r),f=yo(t.stateNode,u,f),Ku(t,f),We!==4&&(We=2)),!1;var d=Error(b(520),{cause:u});if(d=si(d,r),Gl===null?Gl=[d]:Gl.push(d),We!==4&&(We=2),n===null)return!0;u=si(u,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=yo(r.stateNode,u,t),Ku(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ma===null||!Ma.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=G1(f),V1(f,t,r,u),Ku(r,f),!1}r=r.return}while(r!==null);return!1}var X1=Error(b(461)),yn=!1;function vn(t,n,r,u){n.child=t===null?B1(n,null,r,u):Xr(n,t.child,r,u)}function Y1(t,n,r,u,f){r=r.render;var d=n.ref;if("ref"in u){var A={};for(var p in u)p!=="ref"&&(A[p]=u[p])}else A=u;return ur(n),u=no(t,n,r,A,d,f),p=io(),t!==null&&!yn?(ao(t,n,f),na(t,n,f)):(me&&p&&Hu(n),n.flags|=1,vn(t,n,u,f),n.child)}function Z1(t,n,r,u,f){if(t===null){var d=r.type;return typeof d=="function"&&!Uu(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,j1(t,n,d,u,f)):(t=Cs(r.type,null,u,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!No(t,f)){var A=d.memoizedProps;if(r=r.compare,r=r!==null?r:s,r(A,u)&&t.ref===n.ref)return na(t,n,f)}return n.flags|=1,t=Qi(d,u),t.ref=n.ref,t.return=n,n.child=t}function j1(t,n,r,u,f){if(t!==null){var d=t.memoizedProps;if(s(d,u)&&t.ref===n.ref)if(yn=!1,n.pendingProps=u=d,No(t,f))(t.flags&131072)!==0&&(yn=!0);else return n.lanes=t.lanes,na(t,n,f)}return Co(t,n,r,u,f)}function q1(t,n,r){var u=n.pendingProps,f=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=d!==null?d.baseLanes|r:r,t!==null){for(f=n.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~u}else n.childLanes=0,n.child=null;return Q1(t,n,u,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vs(n,d!==null?d.cachePool:null),d!==null?jc(n,d):$u(),L1(n);else return n.lanes=n.childLanes=536870912,Q1(t,n,d!==null?d.baseLanes|r:r,r)}else d!==null?(vs(n,d.cachePool),jc(n,d),_a(),n.memoizedState=null):(t!==null&&vs(n,null),$u(),_a());return vn(t,n,f,r),n.child}function Q1(t,n,r,u){var f=ju();return f=f===null?null:{parent:xn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&vs(n,null),$u(),L1(n),t!==null&&bl(t,n,u,!0),null}function Vs(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(b(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Co(t,n,r,u,f){return ur(n),r=no(t,n,r,u,void 0,f),u=io(),t!==null&&!yn?(ao(t,n,f),na(t,n,f)):(me&&u&&Hu(n),n.flags|=1,vn(t,n,r,f),n.child)}function W1(t,n,r,u,f,d){return ur(n),n.updateQueue=null,r=Qc(n,u,r,f),qc(t),u=io(),t!==null&&!yn?(ao(t,n,d),na(t,n,d)):(me&&u&&Hu(n),n.flags|=1,vn(t,n,r,d),n.child)}function K1(t,n,r,u,f){if(ur(n),n.stateNode===null){var d=Br,A=r.contextType;typeof A=="object"&&A!==null&&(d=Ln(A)),d=new r(u,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wo,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=u,d.state=n.memoizedState,d.refs={},Qu(n),A=r.contextType,d.context=typeof A=="object"&&A!==null?Ln(A):Br,d.state=n.memoizedState,A=r.getDerivedStateFromProps,typeof A=="function"&&(Eo(n,r,A,u),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(A=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),A!==d.state&&wo.enqueueReplaceState(d,d.state,null),Ol(n,u,d,f),Nl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){d=n.stateNode;var p=n.memoizedProps,R=fr(r,p);d.props=R;var z=d.context,J=r.contextType;A=Br,typeof J=="object"&&J!==null&&(A=Ln(J));var nt=r.getDerivedStateFromProps;J=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p||z!==A)&&k1(n,d,u,A),ba=!1;var V=n.memoizedState;d.state=V,Ol(n,u,d,f),Nl(),z=n.memoizedState,p||V!==z||ba?(typeof nt=="function"&&(Eo(n,r,nt,u),z=n.memoizedState),(R=ba||U1(n,r,R,u,V,z,A))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=z),d.props=u,d.state=z,d.context=A,u=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{d=n.stateNode,Wu(t,n),A=n.memoizedProps,J=fr(r,A),d.props=J,nt=n.pendingProps,V=d.context,z=r.contextType,R=Br,typeof z=="object"&&z!==null&&(R=Ln(z)),p=r.getDerivedStateFromProps,(z=typeof p=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A!==nt||V!==R)&&k1(n,d,u,R),ba=!1,V=n.memoizedState,d.state=V,Ol(n,u,d,f),Nl();var j=n.memoizedState;A!==nt||V!==j||ba||t!==null&&t.dependencies!==null&&ps(t.dependencies)?(typeof p=="function"&&(Eo(n,r,p,u),j=n.memoizedState),(J=ba||U1(n,r,J,u,V,j,R)||t!==null&&t.dependencies!==null&&ps(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,j,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,j,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||A===t.memoizedProps&&V===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&V===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=j),d.props=u,d.state=j,d.context=R,u=J):(typeof d.componentDidUpdate!="function"||A===t.memoizedProps&&V===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&V===t.memoizedState||(n.flags|=1024),u=!1)}return d=u,Vs(t,n),u=(n.flags&128)!==0,d||u?(d=n.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&u?(n.child=Xr(n,t.child,null,f),n.child=Xr(n,null,r,f)):vn(t,n,r,f),n.memoizedState=d.state,t=n.child):t=na(t,n,f),t}function J1(t,n,r,u){return yl(),n.flags|=256,vn(t,n,r,u),n.child}var bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function So(t){return{baseLanes:t,cachePool:Hc()}}function po(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=hi),t}function $1(t,n,r){var u=n.pendingProps,f=!1,d=(n.flags&128)!==0,A;if((A=d)||(A=t!==null&&t.memoizedState===null?!1:(mn.current&2)!==0),A&&(f=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(me){if(f?va(n):_a(),me){var p=Qe,R;if(R=p){t:{for(R=p,p=Ui;R.nodeType!==8;){if(!p){p=null;break t}if(R=Ci(R.nextSibling),R===null){p=null;break t}}p=R}p!==null?(n.memoizedState={dehydrated:p,treeContext:ir!==null?{id:Wi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},R=Kn(18,null,null,0),R.stateNode=p,R.return=n,n.child=R,Hn=n,Qe=null,R=!0):R=!1}R||lr(n)}if(p=n.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return sc(p)?n.lanes=32:n.lanes=536870912,null;ea(n)}return p=u.children,u=u.fallback,f?(_a(),f=n.mode,p=Xs({mode:"hidden",children:p},f),u=nr(u,f,r,null),p.return=n,u.return=n,p.sibling=u,n.child=p,f=n.child,f.memoizedState=So(r),f.childLanes=po(t,A,r),n.memoizedState=bo,u):(va(n),To(n,p))}if(R=t.memoizedState,R!==null&&(p=R.dehydrated,p!==null)){if(d)n.flags&256?(va(n),n.flags&=-257,n=vo(t,n,r)):n.memoizedState!==null?(_a(),n.child=t.child,n.flags|=128,n=null):(_a(),f=u.fallback,p=n.mode,u=Xs({mode:"visible",children:u.children},p),f=nr(f,p,r,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Xr(n,t.child,null,r),u=n.child,u.memoizedState=So(r),u.childLanes=po(t,A,r),n.memoizedState=bo,n=f);else if(va(n),sc(p)){if(A=p.nextSibling&&p.nextSibling.dataset,A)var z=A.dgst;A=z,u=Error(b(419)),u.stack="",u.digest=A,Cl({value:u,source:null,stack:null}),n=vo(t,n,r)}else if(yn||bl(t,n,r,!1),A=(r&t.childLanes)!==0,yn||A){if(A=Ue,A!==null&&(u=r&-r,u=(u&42)!==0?1:Ya(u),u=(u&(A.suspendedLanes|r))!==0?0:u,u!==0&&u!==R.retryLane))throw R.retryLane=u,Mr(t,u),ni(A,t,u),X1;p.data==="$?"||Xo(),n=vo(t,n,r)}else p.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Qe=Ci(p.nextSibling),Hn=n,me=!0,rr=null,Ui=!1,t!==null&&(oi[ci++]=Wi,oi[ci++]=Ki,oi[ci++]=ir,Wi=t.id,Ki=t.overflow,ir=n),n=To(n,u.children),n.flags|=4096);return n}return f?(_a(),f=u.fallback,p=n.mode,R=t.child,z=R.sibling,u=Qi(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,z!==null?f=Qi(z,f):(f=nr(f,p,r,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,p=t.child.memoizedState,p===null?p=So(r):(R=p.cachePool,R!==null?(z=xn._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Hc(),p={baseLanes:p.baseLanes|r,cachePool:R}),f.memoizedState=p,f.childLanes=po(t,A,r),n.memoizedState=bo,u):(va(n),r=t.child,t=r.sibling,r=Qi(r,{mode:"visible",children:u.children}),r.return=n,r.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=r,n.memoizedState=null,r)}function To(t,n){return n=Xs({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Xs(t,n){return t=Kn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vo(t,n,r){return Xr(n,t.child,null,r),t=To(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function t0(t,n,r){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Vu(t.return,n,r)}function _o(t,n,r,u,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=r,d.tailMode=f)}function e0(t,n,r){var u=n.pendingProps,f=u.revealOrder,d=u.tail;if(vn(t,n,u.children,r),u=mn.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t0(t,r,n);else if(t.tag===19)t0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(ht(mn,u),f){case"forwards":for(r=n.child,f=null;r!==null;)t=r.alternate,t!==null&&zs(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),_o(n,!1,f,r,d);break;case"backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&zs(t)===null){n.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}_o(n,!0,r,null,d);break;case"together":_o(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function na(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Da|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(bl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(b(153));if(n.child!==null){for(t=n.child,r=Qi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Qi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function No(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ps(t)))}function mh(t,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ca(n,xn,t.memoizedState.cache),yl();break;case 27:case 5:Pi(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ca(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(va(n),n.flags|=128,null):(r&n.child.childLanes)!==0?$1(t,n,r):(va(n),t=na(t,n,r),t!==null?t.sibling:null);va(n);break;case 19:var f=(t.flags&128)!==0;if(u=(r&n.childLanes)!==0,u||(bl(t,n,r,!1),u=(r&n.childLanes)!==0),f){if(u)return e0(t,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ht(mn,mn.current),u)break;return null;case 22:case 23:return n.lanes=0,q1(t,n,r);case 24:Ca(n,xn,t.memoizedState.cache)}return na(t,n,r)}function n0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)yn=!0;else{if(!No(t,r)&&(n.flags&128)===0)return yn=!1,mh(t,n,r);yn=(t.flags&131072)!==0}else yn=!1,me&&(n.flags&1048576)!==0&&Dc(n,Ss,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Uu(u)?(t=fr(u,t),n.tag=1,n=K1(null,n,u,t,r)):(n.tag=0,n=Co(null,n,u,t,r));else{if(u!=null){if(f=u.$$typeof,f===Dt){n.tag=11,n=Y1(null,n,u,t,r);break t}else if(f===tt){n.tag=14,n=Z1(null,n,u,t,r);break t}}throw n=xe(u)||u,Error(b(306,n,""))}}return n;case 0:return Co(t,n,n.type,n.pendingProps,r);case 1:return u=n.type,f=fr(u,n.pendingProps),K1(t,n,u,f,r);case 3:t:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(b(387));u=n.pendingProps;var d=n.memoizedState;f=d.element,Wu(t,n),Ol(n,u,null,r);var A=n.memoizedState;if(u=A.cache,Ca(n,xn,u),u!==d.cache&&Xu(n,[xn],r,!0),Nl(),u=A.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=J1(t,n,u,r);break t}else if(u!==f){f=si(Error(b(424)),n),Cl(f),n=J1(t,n,u,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Qe=Ci(t.firstChild),Hn=n,me=!0,rr=null,Ui=!0,r=B1(n,null,u,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(yl(),u===f){n=na(t,n,r);break t}vn(t,n,u,r)}n=n.child}return n;case 26:return Vs(t,n),t===null?(r=sf(n.type,null,n.pendingProps,null))?n.memoizedState=r:me||(r=n.type,t=n.pendingProps,u=au(K.current).createElement(r),u[An]=n,u[Ze]=t,Nn(u,r,t),ye(u),n.stateNode=u):n.memoizedState=sf(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&me&&(u=n.stateNode=af(n.type,n.pendingProps,K.current),Hn=n,Ui=!0,f=Qe,Ua(n.type)?(uc=f,Qe=Ci(u.firstChild)):Qe=f),vn(t,n,n.pendingProps.children,r),Vs(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&me&&((f=u=Qe)&&(u=Xh(u,n.type,n.pendingProps,Ui),u!==null?(n.stateNode=u,Hn=n,Qe=Ci(u.firstChild),Ui=!1,f=!0):f=!1),f||lr(n)),Pi(n),f=n.type,d=n.pendingProps,A=t!==null?t.memoizedProps:null,u=d.children,ac(f,d)?u=null:A!==null&&ac(f,A)&&(n.flags|=32),n.memoizedState!==null&&(f=no(t,n,uh,null,null,r),Kl._currentValue=f),Vs(t,n),vn(t,n,u,r),n.child;case 6:return t===null&&me&&((t=r=Qe)&&(r=Yh(r,n.pendingProps,Ui),r!==null?(n.stateNode=r,Hn=n,Qe=null,t=!0):t=!1),t||lr(n)),null;case 13:return $1(t,n,r);case 4:return Tt(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Xr(n,null,u,r):vn(t,n,u,r),n.child;case 11:return Y1(t,n,n.type,n.pendingProps,r);case 7:return vn(t,n,n.pendingProps,r),n.child;case 8:return vn(t,n,n.pendingProps.children,r),n.child;case 12:return vn(t,n,n.pendingProps.children,r),n.child;case 10:return u=n.pendingProps,Ca(n,n.type,u.value),vn(t,n,u.children,r),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,ur(n),f=Ln(f),u=u(f),n.flags|=1,vn(t,n,u,r),n.child;case 14:return Z1(t,n,n.type,n.pendingProps,r);case 15:return j1(t,n,n.type,n.pendingProps,r);case 19:return e0(t,n,r);case 31:return u=n.pendingProps,r=n.mode,u={mode:u.mode,children:u.children},t===null?(r=Xs(u,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Qi(t.child,u),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return q1(t,n,r);case 24:return ur(n),u=Ln(xn),t===null?(f=ju(),f===null&&(f=Ue,d=Yu(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:u,cache:f},Qu(n),Ca(n,xn,f)):((t.lanes&r)!==0&&(Wu(t,n),Ol(n,null,null,r),Nl()),f=t.memoizedState,d=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ca(n,xn,u)):(u=d.cache,Ca(n,xn,u),u!==f.cache&&Xu(n,[xn],r,!0))),vn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(b(156,n.tag))}function ia(t){t.flags|=4}function i0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hf(n)){if(n=fi.current,n!==null&&((oe&4194048)===oe?ki!==null:(oe&62914560)!==oe&&(oe&536870912)===0||n!==ki))throw vl=qu,zc;t.flags|=8192}}function Ys(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ul():536870912,t.lanes|=n,qr|=n)}function Ul(t,n){if(!me)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ye(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,u=0;if(n)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=r,n}function Ah(t,n,r){var u=n.pendingProps;switch(zu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return r=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),$i(xn),ze(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wl(n)?ia(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lc())),Ye(n),null;case 26:return r=n.memoizedState,t===null?(ia(n),r!==null?(Ye(n),i0(n,r)):(Ye(n),n.flags&=-16777217)):r?r!==t.memoizedState?(ia(n),Ye(n),i0(n,r)):(Ye(n),n.flags&=-16777217):(t.memoizedProps!==u&&ia(n),Ye(n),n.flags&=-16777217),null;case 27:un(n),r=K.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ia(n);else{if(!u){if(n.stateNode===null)throw Error(b(166));return Ye(n),null}t=gt.current,wl(n)?Mc(n):(t=af(f,u,r),n.stateNode=t,ia(n))}return Ye(n),null;case 5:if(un(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ia(n);else{if(!u){if(n.stateNode===null)throw Error(b(166));return Ye(n),null}if(t=gt.current,wl(n))Mc(n);else{switch(f=au(K.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(r,{is:u.is}):f.createElement(r)}}t[An]=n,t[Ze]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(Nn(t,r,u),r){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ia(n)}}return Ye(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&ia(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(b(166));if(t=K.current,wl(n)){if(t=n.stateNode,r=n.memoizedProps,u=null,f=Hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[An]=n,t=!!(t.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||W0(t.nodeValue,r)),t||lr(n)}else t=au(t).createTextNode(u),t[An]=n,n.stateNode=t}return Ye(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=wl(n),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(b(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(b(317));f[An]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else f=Lc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ea(n),n):(ea(n),null)}if(ea(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=u!==null,t=t!==null&&t.memoizedState!==null,r){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var d=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Ys(n,n.updateQueue),Ye(n),null;case 4:return ze(),t===null&&$o(n.stateNode.containerInfo),Ye(n),null;case 10:return $i(n.type),Ye(n),null;case 19:if(ct(mn),f=n.memoizedState,f===null)return Ye(n),null;if(u=(n.flags&128)!==0,d=f.rendering,d===null)if(u)Ul(f,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=zs(t),d!==null){for(n.flags|=128,Ul(f,!1),t=d.updateQueue,n.updateQueue=t,Ys(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ic(r,t),r=r.sibling;return ht(mn,mn.current&1|2),n.child}t=t.sibling}f.tail!==null&&Te()>qs&&(n.flags|=128,u=!0,Ul(f,!1),n.lanes=4194304)}else{if(!u)if(t=zs(d),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Ys(n,t),Ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!me)return Ye(n),null}else 2*Te()-f.renderingStartTime>qs&&r!==536870912&&(n.flags|=128,u=!0,Ul(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(t=f.last,t!==null?t.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Te(),n.sibling=null,t=mn.current,ht(mn,u?t&1|2:t&1),n):(Ye(n),null);case 22:case 23:return ea(n),to(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(r&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),r=n.updateQueue,r!==null&&Ys(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048),t!==null&&ct(or),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$i(xn),Ye(n),null;case 25:return null;case 30:return null}throw Error(b(156,n.tag))}function Eh(t,n){switch(zu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(xn),ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(ea(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(b(340));yl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ct(mn),null;case 4:return ze(),null;case 10:return $i(n.type),null;case 22:case 23:return ea(n),to(),t!==null&&ct(or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(xn),null;case 25:return null;default:return null}}function a0(t,n){switch(zu(n),n.tag){case 3:$i(xn),ze();break;case 26:case 27:case 5:un(n);break;case 4:ze();break;case 13:ea(n);break;case 19:ct(mn);break;case 10:$i(n.type);break;case 22:case 23:ea(n),to(),t!==null&&ct(or);break;case 24:$i(xn)}}function kl(t,n){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&t)===t){u=void 0;var d=r.create,A=r.inst;u=d(),A.destroy=u}r=r.next}while(r!==f)}}catch(p){Be(n,n.return,p)}}function Na(t,n,r){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&t)===t){var A=u.inst,p=A.destroy;if(p!==void 0){A.destroy=void 0,f=n;var R=r,z=p;try{z()}catch(J){Be(f,R,J)}}}u=u.next}while(u!==d)}}catch(J){Be(n,n.return,J)}}function r0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Zc(n,r)}catch(u){Be(t,t.return,u)}}}function l0(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(u){Be(t,n,u)}}function Fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(f){Be(t,n,f)}}function Fi(t,n){var r=t.ref,u=t.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(f){Be(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Be(t,n,f)}else r.current=null}function s0(t){var n=t.type,r=t.memoizedProps,u=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(f){Be(t,t.return,f)}}function Oo(t,n,r){try{var u=t.stateNode;Hh(u,t.type,r,n),u[Ze]=n}catch(f){Be(t,t.return,f)}}function u0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ua(t.type)||t.tag===4}function Ro(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||u0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Io(t,n,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=iu));else if(u!==4&&(u===27&&Ua(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Io(t,n,r),t=t.sibling;t!==null;)Io(t,n,r),t=t.sibling}function Zs(t,n,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(u!==4&&(u===27&&Ua(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Zs(t,n,r),t=t.sibling;t!==null;)Zs(t,n,r),t=t.sibling}function o0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var u=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Nn(n,u,r),n[An]=t,n[Ze]=r}catch(d){Be(t,t.return,d)}}var aa=!1,nn=!1,Do=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function wh(t,n){if(t=t.containerInfo,nc=cu,t=g(t),x(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var A=0,p=-1,R=-1,z=0,J=0,nt=t,V=null;e:for(;;){for(var j;nt!==r||f!==0&&nt.nodeType!==3||(p=A+f),nt!==d||u!==0&&nt.nodeType!==3||(R=A+u),nt.nodeType===3&&(A+=nt.nodeValue.length),(j=nt.firstChild)!==null;)V=nt,nt=j;for(;;){if(nt===t)break e;if(V===r&&++z===f&&(p=A),V===d&&++J===u&&(R=A),(j=nt.nextSibling)!==null)break;nt=V,V=nt.parentNode}nt=j}r=p===-1||R===-1?null:{start:p,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ic={focusedElem:t,selectionRange:r},cu=!1,Cn=n;Cn!==null;)if(n=Cn,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Cn=t;else for(;Cn!==null;){switch(n=Cn,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,u=r.stateNode;try{var Ht=fr(r.type,f,r.elementType===r.type);t=u.getSnapshotBeforeUpdate(Ht,d),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ut){Be(r,r.return,Ut)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(b(163))}if(t=n.sibling,t!==null){t.return=n.return,Cn=t;break}Cn=n.return}}function f0(t,n,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Oa(t,r),u&4&&kl(5,r);break;case 1:if(Oa(t,r),u&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(A){Be(r,r.return,A)}else{var f=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(A){Be(r,r.return,A)}}u&64&&r0(r),u&512&&Fl(r,r.return);break;case 3:if(Oa(t,r),u&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zc(t,n)}catch(A){Be(r,r.return,A)}}break;case 27:n===null&&u&4&&o0(r);case 26:case 5:Oa(t,r),n===null&&u&4&&s0(r),u&512&&Fl(r,r.return);break;case 12:Oa(t,r);break;case 13:Oa(t,r),u&4&&g0(t,r),u&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Nh.bind(null,r),Zh(t,r))));break;case 22:if(u=r.memoizedState!==null||aa,!u){n=n!==null&&n.memoizedState!==null||nn,f=aa;var d=nn;aa=u,(nn=n)&&!d?Ra(t,r,(r.subtreeFlags&8772)!==0):Oa(t,r),aa=f,nn=d}break;case 30:break;default:Oa(t,r)}}function h0(t){var n=t.alternate;n!==null&&(t.alternate=null,h0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Za(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,Yn=!1;function ra(t,n,r){for(r=r.child;r!==null;)d0(t,n,r),r=r.sibling}function d0(t,n,r){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Sn,r)}catch{}switch(r.tag){case 26:nn||Fi(r,n),ra(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:nn||Fi(r,n);var u=Ve,f=Yn;Ua(r.type)&&(Ve=r.stateNode,Yn=!1),ra(t,n,r),jl(r.stateNode),Ve=u,Yn=f;break;case 5:nn||Fi(r,n);case 6:if(u=Ve,f=Yn,Ve=null,ra(t,n,r),Ve=u,Yn=f,Ve!==null)if(Yn)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(r.stateNode)}catch(d){Be(r,n,d)}else try{Ve.removeChild(r.stateNode)}catch(d){Be(r,n,d)}break;case 18:Ve!==null&&(Yn?(t=Ve,ef(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),es(t)):ef(Ve,r.stateNode));break;case 4:u=Ve,f=Yn,Ve=r.stateNode.containerInfo,Yn=!0,ra(t,n,r),Ve=u,Yn=f;break;case 0:case 11:case 14:case 15:nn||Na(2,r,n),nn||Na(4,r,n),ra(t,n,r);break;case 1:nn||(Fi(r,n),u=r.stateNode,typeof u.componentWillUnmount=="function"&&l0(r,n,u)),ra(t,n,r);break;case 21:ra(t,n,r);break;case 22:nn=(u=nn)||r.memoizedState!==null,ra(t,n,r),nn=u;break;default:ra(t,n,r)}}function g0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{es(t)}catch(r){Be(n,n.return,r)}}function yh(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new c0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new c0),n;default:throw Error(b(435,t.tag))}}function Mo(t,n){var r=yh(t);n.forEach(function(u){var f=Oh.bind(null,t,u);r.has(u)||(r.add(u),u.then(f,f))})}function Jn(t,n){var r=n.deletions;if(r!==null)for(var u=0;u<r.length;u++){var f=r[u],d=t,A=n,p=A;t:for(;p!==null;){switch(p.tag){case 27:if(Ua(p.type)){Ve=p.stateNode,Yn=!1;break t}break;case 5:Ve=p.stateNode,Yn=!1;break t;case 3:case 4:Ve=p.stateNode.containerInfo,Yn=!0;break t}p=p.return}if(Ve===null)throw Error(b(160));d0(d,A,f),Ve=null,Yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)x0(n,t),n=n.sibling}var yi=null;function x0(t,n){var r=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jn(n,t),$n(t),u&4&&(Na(3,t,t.return),kl(3,t),Na(5,t,t.return));break;case 1:Jn(n,t),$n(t),u&512&&(nn||r===null||Fi(r,r.return)),u&64&&aa&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var f=yi;if(Jn(n,t),$n(t),u&512&&(nn||r===null||Fi(r,r.return)),u&4){var d=r!==null?r.memoizedState:null;if(u=t.memoizedState,r===null)if(u===null)if(t.stateNode===null){t:{u=t.type,r=t.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ri]||d[An]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Nn(d,u,r),d[An]=t,ye(d),u=d;break t;case"link":var A=cf("link","href",f).get(u+(r.href||""));if(A){for(var p=0;p<A.length;p++)if(d=A[p],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){A.splice(p,1);break e}}d=f.createElement(u),Nn(d,u,r),f.head.appendChild(d);break;case"meta":if(A=cf("meta","content",f).get(u+(r.content||""))){for(p=0;p<A.length;p++)if(d=A[p],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){A.splice(p,1);break e}}d=f.createElement(u),Nn(d,u,r),f.head.appendChild(d);break;default:throw Error(b(468,u))}d[An]=t,ye(d),u=d}t.stateNode=u}else ff(f,t.type,t.stateNode);else t.stateNode=of(f,u,t.memoizedProps);else d!==u?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,u===null?ff(f,t.type,t.stateNode):of(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Oo(t,t.memoizedProps,r.memoizedProps)}break;case 27:Jn(n,t),$n(t),u&512&&(nn||r===null||Fi(r,r.return)),r!==null&&u&4&&Oo(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Jn(n,t),$n(t),u&512&&(nn||r===null||Fi(r,r.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(j){Be(t,t.return,j)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,Oo(t,f,r!==null?r.memoizedProps:f)),u&1024&&(Do=!0);break;case 6:if(Jn(n,t),$n(t),u&4){if(t.stateNode===null)throw Error(b(162));u=t.memoizedProps,r=t.stateNode;try{r.nodeValue=u}catch(j){Be(t,t.return,j)}}break;case 3:if(su=null,f=yi,yi=ru(n.containerInfo),Jn(n,t),yi=f,$n(t),u&4&&r!==null&&r.memoizedState.isDehydrated)try{es(n.containerInfo)}catch(j){Be(t,t.return,j)}Do&&(Do=!1,m0(t));break;case 4:u=yi,yi=ru(t.stateNode.containerInfo),Jn(n,t),$n(t),yi=u;break;case 12:Jn(n,t),$n(t);break;case 13:Jn(n,t),$n(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ho=Te()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Mo(t,u)));break;case 22:f=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=aa,J=nn;if(aa=z||f,nn=J||R,Jn(n,t),nn=J,aa=z,$n(t),u&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||R||aa||nn||hr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(d=R.stateNode,f)A=d.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{p=R.stateNode;var nt=R.memoizedProps.style,V=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;p.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(j){Be(R,R.return,j)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(j){Be(R,R.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Mo(t,r))));break;case 19:Jn(n,t),$n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Mo(t,u)));break;case 30:break;case 21:break;default:Jn(n,t),$n(t)}}function $n(t){var n=t.flags;if(n&2){try{for(var r,u=t.return;u!==null;){if(u0(u)){r=u;break}u=u.return}if(r==null)throw Error(b(160));switch(r.tag){case 27:var f=r.stateNode,d=Ro(t);Zs(t,d,f);break;case 5:var A=r.stateNode;r.flags&32&&(hn(A,""),r.flags&=-33);var p=Ro(t);Zs(t,p,A);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Ro(t);Io(t,z,R);break;default:throw Error(b(161))}}catch(J){Be(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function m0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;m0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Oa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)f0(t,n.alternate,n),n=n.sibling}function hr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Na(4,n,n.return),hr(n);break;case 1:Fi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&l0(n,n.return,r),hr(n);break;case 27:jl(n.stateNode);case 26:case 5:Fi(n,n.return),hr(n);break;case 22:n.memoizedState===null&&hr(n);break;case 30:hr(n);break;default:hr(n)}t=t.sibling}}function Ra(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=t,d=n,A=d.flags;switch(d.tag){case 0:case 11:case 15:Ra(f,d,r),kl(4,d);break;case 1:if(Ra(f,d,r),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Be(u,u.return,z)}if(u=d,f=u.updateQueue,f!==null){var p=u.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Yc(R[f],p)}catch(z){Be(u,u.return,z)}}r&&A&64&&r0(d),Fl(d,d.return);break;case 27:o0(d);case 26:case 5:Ra(f,d,r),r&&u===null&&A&4&&s0(d),Fl(d,d.return);break;case 12:Ra(f,d,r);break;case 13:Ra(f,d,r),r&&A&4&&g0(f,d);break;case 22:d.memoizedState===null&&Ra(f,d,r),Fl(d,d.return);break;case 30:break;default:Ra(f,d,r)}n=n.sibling}}function Bo(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Sl(r))}function Lo(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function Hi(t,n,r,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A0(t,n,r,u),n=n.sibling}function A0(t,n,r,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Hi(t,n,r,u),f&2048&&kl(9,n);break;case 1:Hi(t,n,r,u);break;case 3:Hi(t,n,r,u),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(f&2048){Hi(t,n,r,u),t=n.stateNode;try{var d=n.memoizedProps,A=d.id,p=d.onPostCommit;typeof p=="function"&&p(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Be(n,n.return,R)}}else Hi(t,n,r,u);break;case 13:Hi(t,n,r,u);break;case 23:break;case 22:d=n.stateNode,A=n.alternate,n.memoizedState!==null?d._visibility&2?Hi(t,n,r,u):Hl(t,n):d._visibility&2?Hi(t,n,r,u):(d._visibility|=2,Yr(t,n,r,u,(n.subtreeFlags&10256)!==0)),f&2048&&Bo(A,n);break;case 24:Hi(t,n,r,u),f&2048&&Lo(n.alternate,n);break;default:Hi(t,n,r,u)}}function Yr(t,n,r,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,A=n,p=r,R=u,z=A.flags;switch(A.tag){case 0:case 11:case 15:Yr(d,A,p,R,f),kl(8,A);break;case 23:break;case 22:var J=A.stateNode;A.memoizedState!==null?J._visibility&2?Yr(d,A,p,R,f):Hl(d,A):(J._visibility|=2,Yr(d,A,p,R,f)),f&&z&2048&&Bo(A.alternate,A);break;case 24:Yr(d,A,p,R,f),f&&z&2048&&Lo(A.alternate,A);break;default:Yr(d,A,p,R,f)}n=n.sibling}}function Hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,u=n,f=u.flags;switch(u.tag){case 22:Hl(r,u),f&2048&&Bo(u.alternate,u);break;case 24:Hl(r,u),f&2048&&Lo(u.alternate,u);break;default:Hl(r,u)}n=n.sibling}}var zl=8192;function Zr(t){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)E0(t),t=t.sibling}function E0(t){switch(t.tag){case 26:Zr(t),t.flags&zl&&t.memoizedState!==null&&rd(yi,t.memoizedState,t.memoizedProps);break;case 5:Zr(t);break;case 3:case 4:var n=yi;yi=ru(t.stateNode.containerInfo),Zr(t),yi=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,Zr(t),zl=n):Zr(t));break;default:Zr(t)}}function w0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];Cn=u,C0(u,t)}w0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y0(t),t=t.sibling}function y0(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Na(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,js(t)):Pl(t);break;default:Pl(t)}}function js(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];Cn=u,C0(u,t)}w0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Na(8,n,n.return),js(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,js(n));break;default:js(n)}t=t.sibling}}function C0(t,n){for(;Cn!==null;){var r=Cn;switch(r.tag){case 0:case 11:case 15:Na(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sl(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,Cn=u;else t:for(r=t;Cn!==null;){u=Cn;var f=u.sibling,d=u.return;if(h0(u),u===r){Cn=null;break t}if(f!==null){f.return=d,Cn=f;break t}Cn=d}}}var Ch={getCacheForType:function(t){var n=Ln(xn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},bh=typeof WeakMap=="function"?WeakMap:Map,Se=0,Ue=null,ne=null,oe=0,pe=0,ti=null,Ia=!1,jr=!1,Uo=!1,la=0,We=0,Da=0,dr=0,ko=0,hi=0,qr=0,Gl=null,Zn=null,Fo=!1,Ho=0,qs=1/0,Qs=null,Ma=null,_n=0,Ba=null,Qr=null,Wr=0,zo=0,Po=null,b0=null,Vl=0,Go=null;function ei(){if((Se&2)!==0&&oe!==0)return oe&-oe;if(Q.T!==null){var t=kr;return t!==0?t:Qo()}return Gi()}function S0(){hi===0&&(hi=(oe&536870912)===0||me?Er():536870912);var t=fi.current;return t!==null&&(t.flags|=32),hi}function ni(t,n,r){(t===Ue&&(pe===2||pe===9)||t.cancelPendingCommit!==null)&&(Kr(t,0),La(t,oe,hi,!1)),jn(t,r),((Se&2)===0||t!==Ue)&&(t===Ue&&((Se&2)===0&&(dr|=r),We===4&&La(t,oe,hi,!1)),zi(t))}function p0(t,n,r){if((Se&6)!==0)throw Error(b(327));var u=!r&&(n&124)===0&&(n&t.expiredLanes)===0||_e(t,n),f=u?Th(t,n):Yo(t,n,!0),d=u;do{if(f===0){jr&&!u&&La(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!Sh(r)){f=Yo(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var p=t;f=Gl;var R=p.current.memoizedState.isDehydrated;if(R&&(Kr(p,A).flags|=256),A=Yo(p,A,!1),A!==2){if(Uo&&!R){p.errorRecoveryDisabledLanes|=d,dr|=d,f=4;break t}d=Zn,Zn=f,d!==null&&(Zn===null?Zn=d:Zn.push.apply(Zn,d))}f=A}if(d=!1,f!==2)continue}}if(f===1){Kr(t,0),La(t,n,0,!0);break}t:{switch(u=t,d=f,d){case 0:case 1:throw Error(b(345));case 4:if((n&4194048)!==n)break;case 6:La(u,n,hi,!Ia);break t;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(b(329))}if((n&62914560)===n&&(f=Ho+300-Te(),10<f)){if(La(u,n,hi,!Ia),he(u,0,!0)!==0)break t;u.timeoutHandle=$0(T0.bind(null,u,r,Zn,Qs,Fo,n,hi,dr,qr,Ia,d,2,-0,0),f);break t}T0(u,r,Zn,Qs,Fo,n,hi,dr,qr,Ia,d,0,-0,0)}}break}while(!0);zi(t)}function T0(t,n,r,u,f,d,A,p,R,z,J,nt,V,j){if(t.timeoutHandle=-1,nt=n.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:ad},E0(n),nt=ld(),nt!==null)){t.cancelPendingCommit=nt(D0.bind(null,t,n,d,r,u,f,A,p,R,J,1,V,j)),La(t,d,A,!z);return}D0(t,n,d,r,u,f,A,p,R)}function Sh(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var f=r[u],d=f.getSnapshot;f=f.value;try{if(!l(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(t,n,r,u){n&=~ko,n&=~dr,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var f=n;0<f;){var d=31-we(f),A=1<<d;u[d]=-1,f&=~A}r!==0&&ol(t,r,n)}function Ws(){return(Se&6)===0?(Xl(0),!1):!0}function Vo(){if(ne!==null){if(pe===0)var t=ne.return;else t=ne,Ji=sr=null,ro(t),Vr=null,Bl=0,t=ne;for(;t!==null;)a0(t.alternate,t),t=t.return;ne=null}}function Kr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Ph(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Vo(),Ue=t,ne=r=Qi(t.current,null),oe=n,pe=0,ti=null,Ia=!1,jr=_e(t,n),Uo=!1,qr=hi=ko=dr=Da=We=0,Zn=Gl=null,Fo=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var f=31-we(u),d=1<<f;n|=t[f],u&=~d}return la=n,Es(),r}function v0(t,n){Wt=null,Q.H=ks,n===Tl||n===_s?(n=Vc(),pe=3):n===zc?(n=Vc(),pe=4):pe=n===X1?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ti=n,ne===null&&(We=1,Gs(t,si(n,t.current)))}function _0(){var t=Q.H;return Q.H=ks,t===null?ks:t}function N0(){var t=Q.A;return Q.A=Ch,t}function Xo(){We=4,Ia||(oe&4194048)!==oe&&fi.current!==null||(jr=!0),(Da&134217727)===0&&(dr&134217727)===0||Ue===null||La(Ue,oe,hi,!1)}function Yo(t,n,r){var u=Se;Se|=2;var f=_0(),d=N0();(Ue!==t||oe!==n)&&(Qs=null,Kr(t,n)),n=!1;var A=We;t:do try{if(pe!==0&&ne!==null){var p=ne,R=ti;switch(pe){case 8:Vo(),A=6;break t;case 3:case 2:case 9:case 6:fi.current===null&&(n=!0);var z=pe;if(pe=0,ti=null,Jr(t,p,R,z),r&&jr){A=0;break t}break;default:z=pe,pe=0,ti=null,Jr(t,p,R,z)}}ph(),A=We;break}catch(J){v0(t,J)}while(!0);return n&&t.shellSuspendCounter++,Ji=sr=null,Se=u,Q.H=f,Q.A=d,ne===null&&(Ue=null,oe=0,Es()),A}function ph(){for(;ne!==null;)O0(ne)}function Th(t,n){var r=Se;Se|=2;var u=_0(),f=N0();Ue!==t||oe!==n?(Qs=null,qs=Te()+500,Kr(t,n)):jr=_e(t,n);t:do try{if(pe!==0&&ne!==null){n=ne;var d=ti;e:switch(pe){case 1:pe=0,ti=null,Jr(t,n,d,1);break;case 2:case 9:if(Pc(d)){pe=0,ti=null,R0(n);break}n=function(){pe!==2&&pe!==9||Ue!==t||(pe=7),zi(t)},d.then(n,n);break t;case 3:pe=7;break t;case 4:pe=5;break t;case 7:Pc(d)?(pe=0,ti=null,R0(n)):(pe=0,ti=null,Jr(t,n,d,7));break;case 5:var A=null;switch(ne.tag){case 26:A=ne.memoizedState;case 5:case 27:var p=ne;if(!A||hf(A)){pe=0,ti=null;var R=p.sibling;if(R!==null)ne=R;else{var z=p.return;z!==null?(ne=z,Ks(z)):ne=null}break e}}pe=0,ti=null,Jr(t,n,d,5);break;case 6:pe=0,ti=null,Jr(t,n,d,6);break;case 8:Vo(),We=6;break t;default:throw Error(b(462))}}vh();break}catch(J){v0(t,J)}while(!0);return Ji=sr=null,Q.H=u,Q.A=f,Se=r,ne!==null?0:(Ue=null,oe=0,Es(),We)}function vh(){for(;ne!==null&&!ai();)O0(ne)}function O0(t){var n=n0(t.alternate,t,la);t.memoizedProps=t.pendingProps,n===null?Ks(t):ne=n}function R0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=W1(r,n,n.pendingProps,n.type,void 0,oe);break;case 11:n=W1(r,n,n.pendingProps,n.type.render,n.ref,oe);break;case 5:ro(n);default:a0(r,n),n=ne=Ic(n,la),n=n0(r,n,la)}t.memoizedProps=t.pendingProps,n===null?Ks(t):ne=n}function Jr(t,n,r,u){Ji=sr=null,ro(n),Vr=null,Bl=0;var f=n.return;try{if(xh(t,f,n,r,oe)){We=1,Gs(t,si(r,t.current)),ne=null;return}}catch(d){if(f!==null)throw ne=f,d;We=1,Gs(t,si(r,t.current)),ne=null;return}n.flags&32768?(me||u===1?t=!0:jr||(oe&536870912)!==0?t=!1:(Ia=t=!0,(u===2||u===9||u===3||u===6)&&(u=fi.current,u!==null&&u.tag===13&&(u.flags|=16384))),I0(n,t)):Ks(n)}function Ks(t){var n=t;do{if((n.flags&32768)!==0){I0(n,Ia);return}t=n.return;var r=Ah(n.alternate,n,la);if(r!==null){ne=r;return}if(n=n.sibling,n!==null){ne=n;return}ne=n=t}while(n!==null);We===0&&(We=5)}function I0(t,n){do{var r=Eh(t.alternate,t);if(r!==null){r.flags&=32767,ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ne=t;return}ne=t=r}while(t!==null);We=6,ne=null}function D0(t,n,r,u,f,d,A,p,R){t.cancelPendingCommit=null;do Js();while(_n!==0);if((Se&6)!==0)throw Error(b(327));if(n!==null){if(n===t.current)throw Error(b(177));if(d=n.lanes|n.childLanes,d|=Bu,ss(t,r,d,A,p,R),t===Ue&&(ne=Ue=null,oe=0),Qr=n,Ba=t,Wr=r,zo=d,Po=f,b0=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Rh(yt,function(){return k0(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=et.p,et.p=2,A=Se,Se|=4;try{wh(t,n,r)}finally{Se=A,et.p=f,Q.T=u}}_n=1,M0(),B0(),L0()}}function M0(){if(_n===1){_n=0;var t=Ba,n=Qr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var u=et.p;et.p=2;var f=Se;Se|=4;try{x0(n,t);var d=ic,A=g(t.containerInfo),p=d.focusedElem,R=d.selectionRange;if(A!==p&&p&&p.ownerDocument&&h(p.ownerDocument.documentElement,p)){if(R!==null&&x(p)){var z=R.start,J=R.end;if(J===void 0&&(J=z),"selectionStart"in p)p.selectionStart=z,p.selectionEnd=Math.min(J,p.value.length);else{var nt=p.ownerDocument||document,V=nt&&nt.defaultView||window;if(V.getSelection){var j=V.getSelection(),Ht=p.textContent.length,Ut=Math.min(R.start,Ht),Re=R.end===void 0?Ut:Math.min(R.end,Ht);!j.extend&&Ut>Re&&(A=Re,Re=Ut,Ut=A);var L=c(p,Ut),B=c(p,Re);if(L&&B&&(j.rangeCount!==1||j.anchorNode!==L.node||j.anchorOffset!==L.offset||j.focusNode!==B.node||j.focusOffset!==B.offset)){var F=nt.createRange();F.setStart(L.node,L.offset),j.removeAllRanges(),Ut>Re?(j.addRange(F),j.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),j.addRange(F))}}}}for(nt=[],j=p;j=j.parentNode;)j.nodeType===1&&nt.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<nt.length;p++){var $=nt[p];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}cu=!!nc,ic=nc=null}finally{Se=f,et.p=u,Q.T=r}}t.current=n,_n=2}}function B0(){if(_n===2){_n=0;var t=Ba,n=Qr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var u=et.p;et.p=2;var f=Se;Se|=4;try{f0(t,n.alternate,n)}finally{Se=f,et.p=u,Q.T=r}}_n=3}}function L0(){if(_n===4||_n===3){_n=0,Ga();var t=Ba,n=Qr,r=Wr,u=b0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_n=5:(_n=0,Qr=Ba=null,U0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ma=null),an(r),n=n.stateNode,On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Sn,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=Q.T,f=et.p,et.p=2,Q.T=null;try{for(var d=t.onRecoverableError,A=0;A<u.length;A++){var p=u[A];d(p.value,{componentStack:p.stack})}}finally{Q.T=n,et.p=f}}(Wr&3)!==0&&Js(),zi(t),f=t.pendingLanes,(r&4194090)!==0&&(f&42)!==0?t===Go?Vl++:(Vl=0,Go=t):Vl=0,Xl(0)}}function U0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function Js(t){return M0(),B0(),L0(),k0()}function k0(){if(_n!==5)return!1;var t=Ba,n=zo;zo=0;var r=an(Wr),u=Q.T,f=et.p;try{et.p=32>r?32:r,Q.T=null,r=Po,Po=null;var d=Ba,A=Wr;if(_n=0,Qr=Ba=null,Wr=0,(Se&6)!==0)throw Error(b(331));var p=Se;if(Se|=4,y0(d.current),A0(d,d.current,A,r),Se=p,Xl(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Sn,d)}catch{}return!0}finally{et.p=f,Q.T=u,U0(t,n)}}function F0(t,n,r){n=si(r,n),n=yo(t.stateNode,n,2),t=pa(t,n,2),t!==null&&(jn(t,2),zi(t))}function Be(t,n,r){if(t.tag===3)F0(t,t,r);else for(;n!==null;){if(n.tag===3){F0(n,t,r);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ma===null||!Ma.has(u))){t=si(r,t),r=G1(2),u=pa(n,r,2),u!==null&&(V1(r,u,n,t),jn(u,2),zi(u));break}}n=n.return}}function Zo(t,n,r){var u=t.pingCache;if(u===null){u=t.pingCache=new bh;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(r)||(Uo=!0,f.add(r),t=_h.bind(null,t,n,r),n.then(t,t))}function _h(t,n,r){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ue===t&&(oe&r)===r&&(We===4||We===3&&(oe&62914560)===oe&&300>Te()-Ho?(Se&2)===0&&Kr(t,0):ko|=r,qr===oe&&(qr=0)),zi(t)}function H0(t,n){n===0&&(n=ul()),t=Mr(t,n),t!==null&&(jn(t,n),zi(t))}function Nh(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),H0(t,r)}function Oh(t,n){var r=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(b(314))}u!==null&&u.delete(n),H0(t,r)}function Rh(t,n){return le(t,n)}var $s=null,$r=null,jo=!1,tu=!1,qo=!1,gr=0;function zi(t){t!==$r&&t.next===null&&($r===null?$s=$r=t:$r=$r.next=t),tu=!0,jo||(jo=!0,Dh())}function Xl(t,n){if(!qo&&tu){qo=!0;do for(var r=!1,u=$s;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var A=u.suspendedLanes,p=u.pingedLanes;d=(1<<31-we(42|t)+1)-1,d&=f&~(A&~p),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,V0(u,d))}else d=oe,d=he(u,u===Ue?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||_e(u,d)||(r=!0,V0(u,d));u=u.next}while(r);qo=!1}}function Ih(){z0()}function z0(){tu=jo=!1;var t=0;gr!==0&&(zh()&&(t=gr),gr=0);for(var n=Te(),r=null,u=$s;u!==null;){var f=u.next,d=P0(u,n);d===0?(u.next=null,r===null?$s=f:r.next=f,f===null&&($r=r)):(r=u,(t!==0||(d&3)!==0)&&(tu=!0)),u=f}Xl(t)}function P0(t,n){for(var r=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var A=31-we(d),p=1<<A,R=f[A];R===-1?((p&r)===0||(p&u)!==0)&&(f[A]=Xa(p,n)):R<=n&&(t.expiredLanes|=p),d&=~p}if(n=Ue,r=oe,r=he(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,r===0||t===n&&(pe===2||pe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&bi(u),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||_e(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(u!==null&&bi(u),an(r)){case 2:case 8:r=Va;break;case 32:r=yt;break;case 268435456:r=ll;break;default:r=yt}return u=G0.bind(null,t),r=le(r,u),t.callbackPriority=n,t.callbackNode=r,n}return u!==null&&u!==null&&bi(u),t.callbackPriority=2,t.callbackNode=null,2}function G0(t,n){if(_n!==0&&_n!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Js()&&t.callbackNode!==r)return null;var u=oe;return u=he(t,t===Ue?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(p0(t,u,n),P0(t,Te()),t.callbackNode!=null&&t.callbackNode===r?G0.bind(null,t):null)}function V0(t,n){if(Js())return null;p0(t,n,!0)}function Dh(){Gh(function(){(Se&6)!==0?le(ae,Ih):z0()})}function Qo(){return gr===0&&(gr=Er()),gr}function X0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pr(""+t)}function Y0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Mh(t,n,r,u,f){if(n==="submit"&&r&&r.stateNode===f){var d=X0((f[Ze]||null).action),A=u.submitter;A&&(n=(n=A[Ze]||null)?X0(n.formAction):A.getAttribute("formAction"),n!==null&&(d=n,A=null));var p=new Di("action","action",null,u,f);t.push({event:p,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(gr!==0){var R=A?Y0(f,A):new FormData(f);xo(r,{pending:!0,data:R,method:f.method,action:d},null,R)}}else typeof d=="function"&&(p.preventDefault(),R=A?Y0(f,A):new FormData(f),xo(r,{pending:!0,data:R,method:f.method,action:d},d,R))},currentTarget:f}]})}}for(var Wo=0;Wo<Li.length;Wo++){var Ko=Li[Wo],Bh=Ko.toLowerCase(),Lh=Ko[0].toUpperCase()+Ko.slice(1);Wn(Bh,"on"+Lh)}Wn(Pt,"onAnimationEnd"),Wn(Tn,"onAnimationIteration"),Wn(Vn,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Mn,"onTransitionRun"),Wn(be,"onTransitionStart"),Wn(gn,"onTransitionCancel"),Wn(Bn,"onTransitionEnd"),je("onMouseEnter",["mouseout","mouseover"]),je("onMouseLeave",["mouseout","mouseover"]),je("onPointerEnter",["pointerout","pointerover"]),je("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Z0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var u=t[r],f=u.event;u=u.listeners;t:{var d=void 0;if(n)for(var A=u.length-1;0<=A;A--){var p=u[A],R=p.instance,z=p.currentTarget;if(p=p.listener,R!==d&&f.isPropagationStopped())break t;d=p,f.currentTarget=z;try{d(f)}catch(J){Ps(J)}f.currentTarget=null,d=R}else for(A=0;A<u.length;A++){if(p=u[A],R=p.instance,z=p.currentTarget,p=p.listener,R!==d&&f.isPropagationStopped())break t;d=p,f.currentTarget=z;try{d(f)}catch(J){Ps(J)}f.currentTarget=null,d=R}}}}function ie(t,n){var r=n[En];r===void 0&&(r=n[En]=new Set);var u=t+"__bubble";r.has(u)||(j0(n,t,2,!1),r.add(u))}function Jo(t,n,r){var u=0;n&&(u|=4),j0(r,t,u,n)}var eu="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[eu]){t[eu]=!0,us.forEach(function(r){r!=="selectionchange"&&(Uh.has(r)||Jo(r,!1,t),Jo(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eu]||(n[eu]=!0,Jo("selectionchange",!1,n))}}function j0(t,n,r,u){switch(Ef(n)){case 2:var f=od;break;case 8:f=cd;break;default:f=dc}r=f.bind(null,n,r,t),f=void 0,!Gt||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(n,r,{capture:!0,passive:f}):t.addEventListener(n,r,!0):f!==void 0?t.addEventListener(n,r,{passive:f}):t.addEventListener(n,r,!1)}function tc(t,n,r,u,f){var d=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var p=u.stateNode.containerInfo;if(p===f)break;if(A===4)for(A=u.return;A!==null;){var R=A.tag;if((R===3||R===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;p!==null;){if(A=Ke(p),A===null)return;if(R=A.tag,R===5||R===6||R===26||R===27){u=d=A;continue t}p=p.parentNode}}u=u.return}Ai(function(){var z=d,J=ca(r),nt=[];t:{var V=qi.get(t);if(V!==void 0){var j=Di,Ht=t;switch(t){case"keypress":if(Tr(r)===0)break t;case"keydown":case"keyup":j=dl;break;case"focusin":Ht="focus",j=ga;break;case"focusout":Ht="blur",j=ga;break;case"beforeblur":case"afterblur":j=ga;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Ce;break;case Pt:case Tn:case Vn:j=vu;break;case Bn:j=Ru;break;case"scroll":case"scrollend":j=In;break;case"wheel":j=Zi;break;case"copy":case"cut":case"paste":j=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ja;break;case"toggle":case"beforetoggle":j=Iu}var Ut=(n&4)!==0,Re=!Ut&&(t==="scroll"||t==="scrollend"),L=Ut?V!==null?V+"Capture":null:V;Ut=[];for(var B=z,F;B!==null;){var $=B;if(F=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||F===null||L===null||($=Bt(B,L),$!=null&&Ut.push(Zl(B,$,F))),Re)break;B=B.return}0<Ut.length&&(V=new j(V,Ht,null,r,J),nt.push({event:V,listeners:Ut}))}}if((n&7)===0){t:{if(V=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",V&&r!==ja&&(Ht=r.relatedTarget||r.fromElement)&&(Ke(Ht)||Ht[Si]))break t;if((j||V)&&(V=J.window===J?J:(V=J.ownerDocument)?V.defaultView||V.parentWindow:window,j?(Ht=r.relatedTarget||r.toElement,j=z,Ht=Ht?Ke(Ht):null,Ht!==null&&(Re=v(Ht),Ut=Ht.tag,Ht!==Re||Ut!==5&&Ut!==27&&Ut!==6)&&(Ht=null)):(j=null,Ht=z),j!==Ht)){if(Ut=hs,$="onMouseLeave",L="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ut=Ja,$="onPointerLeave",L="onPointerEnter",B="pointer"),Re=j==null?V:pi(j),F=Ht==null?V:pi(Ht),V=new Ut($,B+"leave",j,r,J),V.target=Re,V.relatedTarget=F,$=null,Ke(J)===z&&(Ut=new Ut(L,B+"enter",Ht,r,J),Ut.target=F,Ut.relatedTarget=Re,$=Ut),Re=$,j&&Ht)e:{for(Ut=j,L=Ht,B=0,F=Ut;F;F=tl(F))B++;for(F=0,$=L;$;$=tl($))F++;for(;0<B-F;)Ut=tl(Ut),B--;for(;0<F-B;)L=tl(L),F--;for(;B--;){if(Ut===L||L!==null&&Ut===L.alternate)break e;Ut=tl(Ut),L=tl(L)}Ut=null}else Ut=null;j!==null&&q0(nt,V,j,Ut,!1),Ht!==null&&Re!==null&&q0(nt,Re,Ht,Ut,!0)}}t:{if(V=z?pi(z):window,j=V.nodeName&&V.nodeName.toLowerCase(),j==="select"||j==="input"&&V.type==="file")var bt=ms;else if(er(V))if(Al)bt=i;else{bt=E;var $t=Ir}else j=V.nodeName,!j||j.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?z&&Nt(z.elementType)&&(bt=ms):bt=e;if(bt&&(bt=bt(t,z))){Fn(nt,bt,r,J);break t}$t&&$t(t,V,z),t==="focusout"&&z&&V.type==="number"&&z.memoizedProps.value!=null&&k(V,"number",V.value)}switch($t=z?pi(z):window,t){case"focusin":(er($t)||$t.contentEditable==="true")&&(S=$t,N=z,I=null);break;case"focusout":I=N=S=null;break;case"mousedown":M=!0;break;case"contextmenu":case"mouseup":case"dragend":M=!1,U(nt,r,J);break;case"selectionchange":if(w)break;case"keydown":case"keyup":U(nt,r,J)}var Ot;if($a)t:{switch(t){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Aa?ji(t,r)&&(Ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ft="onCompositionStart");Ft&&(xl&&r.locale!=="ko"&&(Aa||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Aa&&(Ot=Oi()):(Ni=J,qa="value"in Ni?Ni.value:Ni.textContent,Aa=!0)),$t=nu(z,Ft),0<$t.length&&(Ft=new Wa(Ft,t,null,r,J),nt.push({event:Ft,listeners:$t}),Ot?Ft.data=Ot:(Ot=Or(r),Ot!==null&&(Ft.data=Ot)))),(Ot=gl?tr(t,r):Du(t,r))&&(Ft=nu(z,"onBeforeInput"),0<Ft.length&&($t=new Wa("onBeforeInput","beforeinput",null,r,J),nt.push({event:$t,listeners:Ft}),$t.data=Ot)),Mh(nt,t,z,r,J)}Z0(nt,n)})}function Zl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function nu(t,n){for(var r=n+"Capture",u=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Bt(t,r),f!=null&&u.unshift(Zl(t,f,d)),f=Bt(t,n),f!=null&&u.push(Zl(t,f,d))),t.tag===3)return u;t=t.return}return[]}function tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q0(t,n,r,u,f){for(var d=n._reactName,A=[];r!==null&&r!==u;){var p=r,R=p.alternate,z=p.stateNode;if(p=p.tag,R!==null&&R===u)break;p!==5&&p!==26&&p!==27||z===null||(R=z,f?(z=Bt(r,d),z!=null&&A.unshift(Zl(r,z,R))):f||(z=Bt(r,d),z!=null&&A.push(Zl(r,z,R)))),r=r.return}A.length!==0&&t.push({event:n,listeners:A})}var kh=/\r\n?/g,Fh=/\u0000|\uFFFD/g;function Q0(t){return(typeof t=="string"?t:""+t).replace(kh,`
`).replace(Fh,"")}function W0(t,n){return n=Q0(n),Q0(t)===n}function iu(){}function Oe(t,n,r,u,f,d){switch(r){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||hn(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&hn(t,""+u);break;case"className":yr(t,"class",u);break;case"tabIndex":yr(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(t,r,u);break;case"style":kn(t,u,d);break;case"data":if(n!=="object"){yr(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=pr(""+u),t.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Oe(t,n,"name",f.name,f,null),Oe(t,n,"formEncType",f.formEncType,f,null),Oe(t,n,"formMethod",f.formMethod,f,null),Oe(t,n,"formTarget",f.formTarget,f,null)):(Oe(t,n,"encType",f.encType,f,null),Oe(t,n,"method",f.method,f,null),Oe(t,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=pr(""+u),t.setAttribute(r,u);break;case"onClick":u!=null&&(t.onclick=iu);break;case"onScroll":u!=null&&ie("scroll",t);break;case"onScrollEnd":u!=null&&ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(b(61));if(r=u.__html,r!=null){if(f.children!=null)throw Error(b(60));t.innerHTML=r}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}r=pr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""+u):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":u===!0?t.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,u):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(r,u):t.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(r):t.setAttribute(r,u);break;case"popover":ie("beforetoggle",t),ie("toggle",t),it(t,"popover",u);break;case"xlinkActuate":de(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":de(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":de(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":de(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":de(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":de(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":de(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":de(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":de(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":it(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Fe.get(r)||r,it(t,r,u))}}function ec(t,n,r,u,f,d){switch(r){case"style":kn(t,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(b(61));if(r=u.__html,r!=null){if(f.children!=null)throw Error(b(60));t.innerHTML=r}}break;case"children":typeof u=="string"?hn(t,u):(typeof u=="number"||typeof u=="bigint")&&hn(t,""+u);break;case"onScroll":u!=null&&ie("scroll",t);break;case"onScrollEnd":u!=null&&ie("scrollend",t);break;case"onClick":u!=null&&(t.onclick=iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!os.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=t[Ze]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,u,f);break t}r in t?t[r]=u:u===!0?t.setAttribute(r,""):it(t,r,u)}}}function Nn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",t),ie("load",t);var u=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var A=r[d];if(A!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,n));default:Oe(t,n,d,A,r,null)}}f&&Oe(t,n,"srcSet",r.srcSet,r,null),u&&Oe(t,n,"src",r.src,r,null);return;case"input":ie("invalid",t);var p=d=A=f=null,R=null,z=null;for(u in r)if(r.hasOwnProperty(u)){var J=r[u];if(J!=null)switch(u){case"name":f=J;break;case"type":A=J;break;case"checked":R=J;break;case"defaultChecked":z=J;break;case"value":d=J;break;case"defaultValue":p=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(b(137,n));break;default:Oe(t,n,u,J,r,null)}}fn(t,d,p,R,z,A,f,!1),br(t);return;case"select":ie("invalid",t),u=A=d=null;for(f in r)if(r.hasOwnProperty(f)&&(p=r[f],p!=null))switch(f){case"value":d=p;break;case"defaultValue":A=p;break;case"multiple":u=p;default:Oe(t,n,f,p,r,null)}n=d,r=A,t.multiple=!!u,n!=null?_(t,!!u,n,!1):r!=null&&_(t,!!u,r,!0);return;case"textarea":ie("invalid",t),d=f=u=null;for(A in r)if(r.hasOwnProperty(A)&&(p=r[A],p!=null))switch(A){case"value":u=p;break;case"defaultValue":f=p;break;case"children":d=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(b(91));break;default:Oe(t,n,A,p,r,null)}Je(t,u,f,d),br(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(u=r[R],u!=null))switch(R){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Oe(t,n,R,u,r,null)}return;case"dialog":ie("beforetoggle",t),ie("toggle",t),ie("cancel",t),ie("close",t);break;case"iframe":case"object":ie("load",t);break;case"video":case"audio":for(u=0;u<Yl.length;u++)ie(Yl[u],t);break;case"image":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"embed":case"source":case"link":ie("error",t),ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(u=r[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,n));default:Oe(t,n,z,u,r,null)}return;default:if(Nt(n)){for(J in r)r.hasOwnProperty(J)&&(u=r[J],u!==void 0&&ec(t,n,J,u,r,void 0));return}}for(p in r)r.hasOwnProperty(p)&&(u=r[p],u!=null&&Oe(t,n,p,u,r,null))}function Hh(t,n,r,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,A=null,p=null,R=null,z=null,J=null;for(j in r){var nt=r[j];if(r.hasOwnProperty(j)&&nt!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=nt;default:u.hasOwnProperty(j)||Oe(t,n,j,null,u,nt)}}for(var V in u){var j=u[V];if(nt=r[V],u.hasOwnProperty(V)&&(j!=null||nt!=null))switch(V){case"type":d=j;break;case"name":f=j;break;case"checked":z=j;break;case"defaultChecked":J=j;break;case"value":A=j;break;case"defaultValue":p=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(b(137,n));break;default:j!==nt&&Oe(t,n,V,j,u,nt)}}Ae(t,A,p,R,z,J,d,f);return;case"select":j=A=p=V=null;for(d in r)if(R=r[d],r.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":j=R;default:u.hasOwnProperty(d)||Oe(t,n,d,null,u,R)}for(f in u)if(d=u[f],R=r[f],u.hasOwnProperty(f)&&(d!=null||R!=null))switch(f){case"value":V=d;break;case"defaultValue":p=d;break;case"multiple":A=d;default:d!==R&&Oe(t,n,f,d,u,R)}n=p,r=A,u=j,V!=null?_(t,!!r,V,!1):!!u!=!!r&&(n!=null?_(t,!!r,n,!0):_(t,!!r,r?[]:"",!1));return;case"textarea":j=V=null;for(p in r)if(f=r[p],r.hasOwnProperty(p)&&f!=null&&!u.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Oe(t,n,p,null,u,f)}for(A in u)if(f=u[A],d=r[A],u.hasOwnProperty(A)&&(f!=null||d!=null))switch(A){case"value":V=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(b(91));break;default:f!==d&&Oe(t,n,A,f,u,d)}vt(t,V,j);return;case"option":for(var Ht in r)if(V=r[Ht],r.hasOwnProperty(Ht)&&V!=null&&!u.hasOwnProperty(Ht))switch(Ht){case"selected":t.selected=!1;break;default:Oe(t,n,Ht,null,u,V)}for(R in u)if(V=u[R],j=r[R],u.hasOwnProperty(R)&&V!==j&&(V!=null||j!=null))switch(R){case"selected":t.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Oe(t,n,R,V,u,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in r)V=r[Ut],r.hasOwnProperty(Ut)&&V!=null&&!u.hasOwnProperty(Ut)&&Oe(t,n,Ut,null,u,V);for(z in u)if(V=u[z],j=r[z],u.hasOwnProperty(z)&&V!==j&&(V!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(b(137,n));break;default:Oe(t,n,z,V,u,j)}return;default:if(Nt(n)){for(var Re in r)V=r[Re],r.hasOwnProperty(Re)&&V!==void 0&&!u.hasOwnProperty(Re)&&ec(t,n,Re,void 0,u,V);for(J in u)V=u[J],j=r[J],!u.hasOwnProperty(J)||V===j||V===void 0&&j===void 0||ec(t,n,J,V,u,j);return}}for(var L in r)V=r[L],r.hasOwnProperty(L)&&V!=null&&!u.hasOwnProperty(L)&&Oe(t,n,L,null,u,V);for(nt in u)V=u[nt],j=r[nt],!u.hasOwnProperty(nt)||V===j||V==null&&j==null||Oe(t,n,nt,V,u,j)}var nc=null,ic=null;function au(t){return t.nodeType===9?t:t.ownerDocument}function K0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ac(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rc=null;function zh(){var t=window.event;return t&&t.type==="popstate"?t===rc?!1:(rc=t,!0):(rc=null,!1)}var $0=typeof setTimeout=="function"?setTimeout:void 0,Ph=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(t){return tf.resolve(null).then(t).catch(Vh)}:$0;function Vh(t){setTimeout(function(){throw t})}function Ua(t){return t==="head"}function ef(t,n){var r=n,u=0,f=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(0<u&&8>u){r=u;var A=t.ownerDocument;if(r&1&&jl(A.documentElement),r&2&&jl(A.body),r&4)for(r=A.head,jl(r),A=r.firstChild;A;){var p=A.nextSibling,R=A.nodeName;A[ri]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&A.rel.toLowerCase()==="stylesheet"||r.removeChild(A),A=p}}if(f===0){t.removeChild(d),es(n);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:u=r.charCodeAt(0)-48;else u=0;r=d}while(r);es(n)}function lc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lc(r),Za(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Xh(t,n,r,u){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ci(t.nextSibling),t===null)break}return null}function Yh(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ci(t.nextSibling),t===null))return null;return t}function sc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Zh(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var u=function(){n(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Ci(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uc=null;function nf(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function af(t,n,r){switch(n=au(r),t){case"html":if(t=n.documentElement,!t)throw Error(b(452));return t;case"head":if(t=n.head,!t)throw Error(b(453));return t;case"body":if(t=n.body,!t)throw Error(b(454));return t;default:throw Error(b(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Za(t)}var di=new Map,rf=new Set;function ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sa=et.d;et.d={f:jh,r:qh,D:Qh,C:Wh,L:Kh,m:Jh,X:td,S:$h,M:ed};function jh(){var t=sa.f(),n=Ws();return t||n}function qh(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?p1(n):sa.r(t)}var el=typeof document>"u"?null:document;function lf(t,n,r){var u=el;if(u&&typeof n=="string"&&n){var f=cn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),rf.has(f)||(rf.add(f),t={rel:t,crossOrigin:r,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),Nn(n,"link",t),ye(n),u.head.appendChild(n)))}}function Qh(t){sa.D(t),lf("dns-prefetch",t,null)}function Wh(t,n){sa.C(t,n),lf("preconnect",t,n)}function Kh(t,n,r){sa.L(t,n,r);var u=el;if(u&&t&&n){var f='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+cn(r.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(n){case"style":d=nl(t);break;case"script":d=il(t)}di.has(d)||(t=P({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),di.set(d,t),u.querySelector(f)!==null||n==="style"&&u.querySelector(ql(d))||n==="script"&&u.querySelector(Ql(d))||(n=u.createElement("link"),Nn(n,"link",t),ye(n),u.head.appendChild(n)))}}function Jh(t,n){sa.m(t,n);var r=el;if(r&&t){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(t)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=il(t)}if(!di.has(d)&&(t=P({rel:"modulepreload",href:t},n),di.set(d,t),r.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ql(d)))return}u=r.createElement("link"),Nn(u,"link",t),ye(u),r.head.appendChild(u)}}}function $h(t,n,r){sa.S(t,n,r);var u=el;if(u&&t){var f=xi(u).hoistableStyles,d=nl(t);n=n||"default";var A=f.get(d);if(!A){var p={loading:0,preload:null};if(A=u.querySelector(ql(d)))p.loading=5;else{t=P({rel:"stylesheet",href:t,"data-precedence":n},r),(r=di.get(d))&&oc(t,r);var R=A=u.createElement("link");ye(R),Nn(R,"link",t),R._p=new Promise(function(z,J){R.onload=z,R.onerror=J}),R.addEventListener("load",function(){p.loading|=1}),R.addEventListener("error",function(){p.loading|=2}),p.loading|=4,lu(A,n,u)}A={type:"stylesheet",instance:A,count:1,state:p},f.set(d,A)}}}function td(t,n){sa.X(t,n);var r=el;if(r&&t){var u=xi(r).hoistableScripts,f=il(t),d=u.get(f);d||(d=r.querySelector(Ql(f)),d||(t=P({src:t,async:!0},n),(n=di.get(f))&&cc(t,n),d=r.createElement("script"),ye(d),Nn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function ed(t,n){sa.M(t,n);var r=el;if(r&&t){var u=xi(r).hoistableScripts,f=il(t),d=u.get(f);d||(d=r.querySelector(Ql(f)),d||(t=P({src:t,async:!0,type:"module"},n),(n=di.get(f))&&cc(t,n),d=r.createElement("script"),ye(d),Nn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function sf(t,n,r,u){var f=(f=K.current)?ru(f):null;if(!f)throw Error(b(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=xi(f).hoistableStyles,u=r.get(n),u||(u={type:"style",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var d=xi(f).hoistableStyles,A=d.get(t);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,A),(d=f.querySelector(ql(t)))&&!d._p&&(A.instance=d,A.state.loading=5),di.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},di.set(t,r),d||nd(f,t,r,A.state))),n&&u===null)throw Error(b(528,""));return A}if(n&&u!==null)throw Error(b(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=xi(f).hoistableScripts,u=r.get(n),u||(u={type:"script",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,t))}}function nl(t){return'href="'+cn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function uf(t){return P({},t,{"data-precedence":t.precedence,precedence:null})}function nd(t,n,r,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Nn(n,"link",r),ye(n),t.head.appendChild(n))}function il(t){return'[src="'+cn(t)+'"]'}function Ql(t){return"script[async]"+t}function of(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+cn(r.href)+'"]');if(u)return n.instance=u,ye(u),u;var f=P({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ye(u),Nn(u,"style",f),lu(u,r.precedence,t),n.instance=u;case"stylesheet":f=nl(r.href);var d=t.querySelector(ql(f));if(d)return n.state.loading|=4,n.instance=d,ye(d),d;u=uf(r),(f=di.get(f))&&oc(u,f),d=(t.ownerDocument||t).createElement("link"),ye(d);var A=d;return A._p=new Promise(function(p,R){A.onload=p,A.onerror=R}),Nn(d,"link",u),n.state.loading|=4,lu(d,r.precedence,t),n.instance=d;case"script":return d=il(r.src),(f=t.querySelector(Ql(d)))?(n.instance=f,ye(f),f):(u=r,(f=di.get(d))&&(u=P({},r),cc(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),ye(f),Nn(f,"link",u),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(b(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,lu(u,r.precedence,t));return n.instance}function lu(t,n,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,A=0;A<u.length;A++){var p=u[A];if(p.dataset.precedence===n)d=p;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function oc(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cc(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var su=null;function cf(t,n,r){if(su===null){var u=new Map,f=su=new Map;f.set(r,u)}else f=su,u=f.get(r),u||(u=new Map,f.set(r,u));if(u.has(t))return u;for(u.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var d=r[f];if(!(d[ri]||d[An]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var A=d.getAttribute(n)||"";A=t+A;var p=u.get(A);p?p.push(d):u.set(A,[d])}}return u}function ff(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function id(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Wl=null;function ad(){}function rd(t,n,r){if(Wl===null)throw Error(b(475));var u=Wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=nl(r.href),d=t.querySelector(ql(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=uu.bind(u),t.then(u,u)),n.state.loading|=4,n.instance=d,ye(d);return}d=t.ownerDocument||t,r=uf(r),(f=di.get(f))&&oc(r,f),d=d.createElement("link"),ye(d);var A=d;A._p=new Promise(function(p,R){A.onload=p,A.onerror=R}),Nn(d,"link",r),n.instance=d}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=uu.bind(u),t.addEventListener("load",n),t.addEventListener("error",n))}}function ld(){if(Wl===null)throw Error(b(475));var t=Wl;return t.stylesheets&&t.count===0&&fc(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function uu(){if(this.count--,this.count===0){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ou=null;function fc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ou=new Map,n.forEach(sd,t),ou=null,uu.call(t))}function sd(t,n){if(!(n.state.loading&4)){var r=ou.get(t);if(r)var u=r.get(null);else{r=new Map,ou.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var A=f[d];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(r.set(A.dataset.precedence,A),u=A)}u&&r.set(null,u)}f=n.instance,A=f.getAttribute("data-precedence"),d=r.get(A)||u,d===u&&r.set(null,f),r.set(A,f),this.count++,u=uu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function ud(t,n,r,u,f,d,A,p){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function df(t,n,r,u,f,d,A,p,R,z,J,nt){return t=new ud(t,n,r,A,p,R,z,nt),n=1,d===!0&&(n|=24),d=Kn(3,null,null,n),t.current=d,d.stateNode=t,n=Yu(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:u,isDehydrated:r,cache:n},Qu(d),t}function gf(t){return t?(t=Br,t):Br}function xf(t,n,r,u,f,d){f=gf(f),u.context===null?u.context=f:u.pendingContext=f,u=Sa(n),u.payload={element:r},d=d===void 0?null:d,d!==null&&(u.callback=d),r=pa(t,u,n),r!==null&&(ni(r,t,n),_l(r,t,n))}function mf(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function hc(t,n){mf(t,n),(t=t.alternate)&&mf(t,n)}function Af(t){if(t.tag===13){var n=Mr(t,67108864);n!==null&&ni(n,t,67108864),hc(t,67108864)}}var cu=!0;function od(t,n,r,u){var f=Q.T;Q.T=null;var d=et.p;try{et.p=2,dc(t,n,r,u)}finally{et.p=d,Q.T=f}}function cd(t,n,r,u){var f=Q.T;Q.T=null;var d=et.p;try{et.p=8,dc(t,n,r,u)}finally{et.p=d,Q.T=f}}function dc(t,n,r,u){if(cu){var f=gc(u);if(f===null)tc(t,n,u,fu,r),wf(t,u);else if(hd(f,t,n,r,u))u.stopPropagation();else if(wf(t,u),n&4&&-1<fd.indexOf(t)){for(;f!==null;){var d=qn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var A=De(d.pendingLanes);if(A!==0){var p=d;for(p.pendingLanes|=2,p.entangledLanes|=2;A;){var R=1<<31-we(A);p.entanglements[1]|=R,A&=~R}zi(d),(Se&6)===0&&(qs=Te()+500,Xl(0))}}break;case 13:p=Mr(d,2),p!==null&&ni(p,d,2),Ws(),hc(d,2)}if(d=gc(u),d===null&&tc(t,n,u,fu,r),d===f)break;f=d}f!==null&&u.stopPropagation()}else tc(t,n,u,null,r)}}function gc(t){return t=ca(t),xc(t)}var fu=null;function xc(t){if(fu=null,t=Ke(t),t!==null){var n=v(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=H(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return fu=t,null}function Ef(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case ae:return 2;case Va:return 8;case yt:case mr:return 32;case ll:return 268435456;default:return 32}default:return 32}}var mc=!1,ka=null,Fa=null,Ha=null,Jl=new Map,$l=new Map,za=[],fd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wf(t,n){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function ts(t,n,r,u,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},n!==null&&(n=qn(n),n!==null&&Af(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function hd(t,n,r,u,f){switch(n){case"focusin":return ka=ts(ka,t,n,r,u,f),!0;case"dragenter":return Fa=ts(Fa,t,n,r,u,f),!0;case"mouseover":return Ha=ts(Ha,t,n,r,u,f),!0;case"pointerover":var d=f.pointerId;return Jl.set(d,ts(Jl.get(d)||null,t,n,r,u,f)),!0;case"gotpointercapture":return d=f.pointerId,$l.set(d,ts($l.get(d)||null,t,n,r,u,f)),!0}return!1}function yf(t){var n=Ke(t.target);if(n!==null){var r=v(n);if(r!==null){if(n=r.tag,n===13){if(n=H(r),n!==null){t.blockedOn=n,wr(t.priority,function(){if(r.tag===13){var u=ei();u=Ya(u);var f=Mr(r,u);f!==null&&ni(f,r,u),hc(r,u)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gc(t.nativeEvent);if(r===null){r=t.nativeEvent;var u=new r.constructor(r.type,r);ja=u,r.target.dispatchEvent(u),ja=null}else return n=qn(r),n!==null&&Af(n),t.blockedOn=r,!1;n.shift()}return!0}function Cf(t,n,r){hu(t)&&r.delete(n)}function dd(){mc=!1,ka!==null&&hu(ka)&&(ka=null),Fa!==null&&hu(Fa)&&(Fa=null),Ha!==null&&hu(Ha)&&(Ha=null),Jl.forEach(Cf),$l.forEach(Cf)}function du(t,n){t.blockedOn===n&&(t.blockedOn=null,mc||(mc=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,dd)))}var gu=null;function bf(t){gu!==t&&(gu=t,y.unstable_scheduleCallback(y.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var n=0;n<t.length;n+=3){var r=t[n],u=t[n+1],f=t[n+2];if(typeof u!="function"){if(xc(u||r)===null)continue;break}var d=qn(r);d!==null&&(t.splice(n,3),n-=3,xo(d,{pending:!0,data:f,method:r.method,action:u},u,f))}}))}function es(t){function n(R){return du(R,t)}ka!==null&&du(ka,t),Fa!==null&&du(Fa,t),Ha!==null&&du(Ha,t),Jl.forEach(n),$l.forEach(n);for(var r=0;r<za.length;r++){var u=za[r];u.blockedOn===t&&(u.blockedOn=null)}for(;0<za.length&&(r=za[0],r.blockedOn===null);)yf(r),r.blockedOn===null&&za.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var f=r[u],d=r[u+1],A=f[Ze]||null;if(typeof d=="function")A||bf(r);else if(A){var p=null;if(d&&d.hasAttribute("formAction")){if(f=d,A=d[Ze]||null)p=A.formAction;else if(xc(f)!==null)continue}else p=A.action;typeof p=="function"?r[u+1]=p:(r.splice(u,3),u-=3),bf(r)}}}function Ac(t){this._internalRoot=t}xu.prototype.render=Ac.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(b(409));var r=n.current,u=ei();xf(r,u,t,n,null,null)},xu.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xf(t.current,2,null,t,null,null),Ws(),n[Si]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<za.length&&n!==0&&n<za[r].priority;r++);za.splice(r,0,t),r===0&&yf(t)}};var Sf=C.version;if(Sf!=="19.1.0")throw Error(b(527,Sf,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var gd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Sn=mu.inject(gd),On=mu}catch{}}return is.createRoot=function(t,n){if(!O(t))throw Error(b(299));var r=!1,u="",f=F1,d=H1,A=z1,p=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(p=n.unstable_transitionCallbacks)),n=df(t,1,!1,null,null,r,u,f,d,A,p,null),t[Si]=n.current,$o(t),new Ac(n)},is.hydrateRoot=function(t,n,r){if(!O(t))throw Error(b(299));var u=!1,f="",d=F1,A=H1,p=z1,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=df(t,1,!0,n,r??null,u,f,d,A,p,R,z),n.context=gf(null),r=n.current,u=ei(),u=Ya(u),f=Sa(u),f.callback=null,pa(r,f,u),r=u,n.current.lanes=r,jn(n,r),zi(n),t[Si]=n.current,$o(t),new xu(n)},is.version="19.1.0",is}var Mf;function vd(){if(Mf)return yc.exports;Mf=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(C){console.error(C)}}return y(),yc.exports=Td(),yc.exports}var _d=vd();const Nd=_c(_d);var wt;(function(y){y[y.QR_CODE=0]="QR_CODE",y[y.AZTEC=1]="AZTEC",y[y.CODABAR=2]="CODABAR",y[y.CODE_39=3]="CODE_39",y[y.CODE_93=4]="CODE_93",y[y.CODE_128=5]="CODE_128",y[y.DATA_MATRIX=6]="DATA_MATRIX",y[y.MAXICODE=7]="MAXICODE",y[y.ITF=8]="ITF",y[y.EAN_13=9]="EAN_13",y[y.EAN_8=10]="EAN_8",y[y.PDF_417=11]="PDF_417",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wt||(wt={}));var Bf=new Map([[wt.QR_CODE,"QR_CODE"],[wt.AZTEC,"AZTEC"],[wt.CODABAR,"CODABAR"],[wt.CODE_39,"CODE_39"],[wt.CODE_93,"CODE_93"],[wt.CODE_128,"CODE_128"],[wt.DATA_MATRIX,"DATA_MATRIX"],[wt.MAXICODE,"MAXICODE"],[wt.ITF,"ITF"],[wt.EAN_13,"EAN_13"],[wt.EAN_8,"EAN_8"],[wt.PDF_417,"PDF_417"],[wt.RSS_14,"RSS_14"],[wt.RSS_EXPANDED,"RSS_EXPANDED"],[wt.UPC_A,"UPC_A"],[wt.UPC_E,"UPC_E"],[wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Lf;(function(y){y[y.UNKNOWN=0]="UNKNOWN",y[y.URL=1]="URL"})(Lf||(Lf={}));function Od(y){return Object.values(wt).includes(y)}var wu;(function(y){y[y.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",y[y.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(wu||(wu={}));var Rd=function(){function y(){}return y.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",y.SCAN_DEFAULT_FPS=2,y.DEFAULT_DISABLE_FLIP=!1,y.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,y.DEFAULT_SUPPORTED_SCAN_TYPE=[wu.SCAN_TYPE_CAMERA,wu.SCAN_TYPE_FILE],y}(),Qf=function(){function y(C,m){this.format=C,this.formatName=m}return y.prototype.toString=function(){return this.formatName},y.create=function(C){if(!Bf.has(C))throw"".concat(C," not in html5QrcodeSupportedFormatsTextMap");return new y(C,Bf.get(C))},y}(),Uf=function(){function y(){}return y.createFromText=function(C){var m={text:C};return{decodedText:C,result:m}},y.createFromQrcodeResult=function(C){return{decodedText:C.text,result:C}},y}(),vc;(function(y){y[y.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",y[y.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",y[y.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(vc||(vc={}));var Id=function(){function y(){}return y.createFrom=function(C){return{errorMessage:C,type:vc.UNKWOWN_ERROR}},y}(),Dd=function(){function y(C){this.verbose=C}return y.prototype.log=function(C){this.verbose&&console.log(C)},y.prototype.warn=function(C){this.verbose&&console.warn(C)},y.prototype.logError=function(C,m){(this.verbose||m===!0)&&console.error(C)},y.prototype.logErrors=function(C){if(C.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(C)},y}();function ua(y){return typeof y>"u"||y===null}var al=function(){function y(){}return y.codeParseError=function(C){return"QR code parse error, error = ".concat(C)},y.errorGettingUserMedia=function(C){return"Error getting userMedia, error = ".concat(C)},y.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},y.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},y.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},y.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},y.scannerPaused=function(){return"Scanner paused"},y}(),Wf=function(){function y(){}return y.isMediaStreamConstraintsValid=function(C,m){if(typeof C!="object"){var b=typeof C;return m.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(b,"."),!0),!1}for(var O=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],v=new Set(O),H=Object.keys(C),at=0,Y=H;at<Y.length;at++){var T=Y[at];if(v.has(T))return m.logError("".concat(T," is not supported videoConstaints."),!0),!1}return!0},y}(),rs={exports:{}},Md=rs.exports,kf;function Bd(){return kf||(kf=1,function(y,C){(function(m,b){b(C)})(Md,function(m){function b(E){return E==null}var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,e){E.__proto__=e}||function(E,e){for(var i in e)e.hasOwnProperty(i)&&(E[i]=e[i])};function v(E,e){O(E,e);function i(){this.constructor=E}E.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function H(E,e){var i=Object.setPrototypeOf;i?i(E,e):E.__proto__=e}function at(E,e){e===void 0&&(e=E.constructor);var i=Error.captureStackTrace;i&&i(E,e)}var Y=function(E){v(e,E);function e(i){var a=this.constructor,l=E.call(this,i)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),H(l,a.prototype),at(l),l}return e}(Error);class T extends Y{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}T.kind="Exception";class P extends T{}P.kind="ArgumentException";class Z extends T{}Z.kind="IllegalArgumentException";class Et{constructor(e){if(this.binarizer=e,e===null)throw new Z("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,i){return this.binarizer.getBlackRow(e,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,i,a,l){const s=this.binarizer.getLuminanceSource().crop(e,i,a,l);return new Et(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Et(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Et(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class St extends T{static getChecksumInstance(){return new St}}St.kind="ChecksumException";class Rt{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class It{static arraycopy(e,i,a,l,s){for(;s--;)a[l++]=e[i++]}static currentTimeMillis(){return Date.now()}}class te extends T{}te.kind="IndexOutOfBoundsException";class fe extends te{constructor(e=void 0,i=void 0){super(i),this.index=e,this.message=i}}fe.kind="ArrayIndexOutOfBoundsException";class xt{static fill(e,i){for(let a=0,l=e.length;a<l;a++)e[a]=i}static fillWithin(e,i,a,l){xt.rangeCheck(e.length,i,a);for(let s=i;s<a;s++)e[s]=l}static rangeCheck(e,i,a){if(i>a)throw new Z("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new fe(i);if(a>e)throw new fe(a)}static asList(...e){return e}static create(e,i,a){return Array.from({length:e}).map(s=>Array.from({length:i}).fill(a))}static createInt32Array(e,i,a){return Array.from({length:e}).map(s=>Int32Array.from({length:i}).fill(a))}static equals(e,i){if(!e||!i||!e.length||!i.length||e.length!==i.length)return!1;for(let a=0,l=e.length;a<l;a++)if(e[a]!==i[a])return!1;return!0}static hashCode(e){if(e===null)return 0;let i=1;for(const a of e)i=31*i+a;return i}static fillUint8Array(e,i){for(let a=0;a!==e.length;a++)e[a]=i}static copyOf(e,i){return e.slice(0,i)}static copyOfUint8Array(e,i){if(e.length<=i){const a=new Uint8Array(i);return a.set(e),a}return e.slice(0,i)}static copyOfRange(e,i,a){const l=a-i,s=new Int32Array(l);return It.arraycopy(e,i,s,0,l),s}static binarySearch(e,i,a){a===void 0&&(a=xt.numberComparator);let l=0,s=e.length-1;for(;l<=s;){const o=s+l>>1,c=a(i,e[o]);if(c>0)l=o+1;else if(c<0)s=o-1;else return o}return-l-1}static numberComparator(e,i){return e-i}}class ot{static numberOfTrailingZeros(e){let i;if(e===0)return 32;let a=31;return i=e<<16,i!==0&&(a-=16,e=i),i=e<<8,i!==0&&(a-=8,e=i),i=e<<4,i!==0&&(a-=4,e=i),i=e<<2,i!==0&&(a-=2,e=i),a-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let i=1;return e>>>16||(i+=16,e<<=16),e>>>24||(i+=8,e<<=8),e>>>28||(i+=4,e<<=4),e>>>30||(i+=2,e<<=2),i-=e>>>31,i}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,i){return Math.trunc(e/i)}static parseInt(e,i=void 0){return parseInt(e,i)}}ot.MIN_VALUE_32_BITS=-2147483648,ot.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Dt{constructor(e,i){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,i==null?this.bits=Dt.makeArray(e):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const i=Dt.makeArray(e);It.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const i=this.size;if(e>=i)return i;const a=this.bits;let l=Math.floor(e/32),s=a[l];s&=~((1<<(e&31))-1);const o=a.length;for(;s===0;){if(++l===o)return i;s=a[l]}const c=l*32+ot.numberOfTrailingZeros(s);return c>i?i:c}getNextUnset(e){const i=this.size;if(e>=i)return i;const a=this.bits;let l=Math.floor(e/32),s=~a[l];s&=~((1<<(e&31))-1);const o=a.length;for(;s===0;){if(++l===o)return i;s=~a[l]}const c=l*32+ot.numberOfTrailingZeros(s);return c>i?i:c}setBulk(e,i){this.bits[Math.floor(e/32)]=i}setRange(e,i){if(i<e||e<0||i>this.size)throw new Z;if(i===e)return;i--;const a=Math.floor(e/32),l=Math.floor(i/32),s=this.bits;for(let o=a;o<=l;o++){const c=o>a?0:e&31,g=(2<<(o<l?31:i&31))-(1<<c);s[o]|=g}}clear(){const e=this.bits.length,i=this.bits;for(let a=0;a<e;a++)i[a]=0}isRange(e,i,a){if(i<e||e<0||i>this.size)throw new Z;if(i===e)return!0;i--;const l=Math.floor(e/32),s=Math.floor(i/32),o=this.bits;for(let c=l;c<=s;c++){const h=c>l?0:e&31,x=(2<<(c<s?31:i&31))-(1<<h)&4294967295;if((o[c]&x)!==(a?x:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,i){if(i<0||i>32)throw new Z("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((e>>a-1&1)===1)}appendBitArray(e){const i=e.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(e.get(a))}xor(e){if(this.size!==e.size)throw new Z("Sizes don't match");const i=this.bits;for(let a=0,l=i.length;a<l;a++)i[a]^=e.bits[a]}toBytes(e,i,a,l){for(let s=0;s<l;s++){let o=0;for(let c=0;c<8;c++)this.get(e)&&(o|=1<<7-c),e++;i[a+s]=o}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,l=this.bits;for(let s=0;s<a;s++){let o=l[s];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[i-s]=o}if(this.size!==a*32){const s=a*32-this.size;let o=e[0]>>>s;for(let c=1;c<a;c++){const h=e[c];o|=h<<32-s,e[c-1]=o,o=h>>>s}e[a-1]=o}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Dt))return!1;const i=e;return this.size===i.size&&xt.equals(this.bits,i.bits)}hashCode(){return 31*this.size+xt.hashCode(this.bits)}toString(){let e="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(e+=" "),e+=this.get(i)?"X":".";return e}clone(){return new Dt(this.size,this.bits.slice())}}var Ct;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ct||(Ct={}));var Mt=Ct;class tt extends T{static getFormatInstance(){return new tt}}tt.kind="FormatException";var pt;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(pt||(pt={}));class W{constructor(e,i,a,...l){this.valueIdentifier=e,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,W.VALUE_IDENTIFIER_TO_ECI.set(e,this),W.NAME_TO_ECI.set(a,this);const s=this.values;for(let o=0,c=s.length;o!==c;o++){const h=s[o];W.VALUES_TO_ECI.set(h,this)}for(const o of l)W.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new tt("incorect value");const i=W.VALUES_TO_ECI.get(e);if(i===void 0)throw new tt("incorect value");return i}static getCharacterSetECIByName(e){const i=W.NAME_TO_ECI.get(e);if(i===void 0)throw new tt("incorect value");return i}equals(e){if(!(e instanceof W))return!1;const i=e;return this.getName()===i.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(pt.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(pt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(pt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(pt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(pt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(pt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(pt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(pt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(pt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(pt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(pt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(pt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(pt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(pt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(pt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(pt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(pt.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(pt.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(pt.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(pt.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(pt.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(pt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(pt.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(pt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(pt.Big5,28,"Big5"),W.GB18030=new W(pt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(pt.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends T{}ce.kind="UnsupportedOperationException";class jt{static decode(e,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)}static shouldDecodeOnFallback(e){return!jt.isBrowser()&&e==="ISO-8859-1"}static encode(e,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof W?e:W.getCharacterSetECIByName(e)}static decodeFallback(e,i){const a=this.encodingCharacterSet(i);if(jt.isDecodeFallbackSupported(a)){let l="";for(let s=0,o=e.length;s<o;s++){let c=e[s].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(a.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ce(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(W.UTF8)||e.equals(W.ISO8859_1)||e.equals(W.ASCII)}static encodeFallback(e){const a=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class mt{static castAsNonUtf8Char(e,i=null){const a=i?i.getName():this.ISO88591;return jt.decode(new Uint8Array([e]),a)}static guessEncoding(e,i){if(i!=null&&i.get(Mt.CHARACTER_SET)!==void 0)return i.get(Mt.CHARACTER_SET).toString();const a=e.length;let l=!0,s=!0,o=!0,c=0,h=0,g=0,x=0,w=0,S=0,N=0,I=0,M=0,U=0,X=0;const st=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ut=0;ut<a&&(l||s||o);ut++){const lt=e[ut]&255;o&&(c>0?(lt&128)===0?o=!1:c--:(lt&128)!==0&&((lt&64)===0?o=!1:(c++,(lt&32)===0?h++:(c++,(lt&16)===0?g++:(c++,(lt&8)===0?x++:o=!1))))),l&&(lt>127&&lt<160?l=!1:lt>159&&(lt<192||lt===215||lt===247)&&X++),s&&(w>0?lt<64||lt===127||lt>252?s=!1:w--:lt===128||lt===160||lt>239?s=!1:lt>160&&lt<224?(S++,I=0,N++,N>M&&(M=N)):lt>127?(w++,N=0,I++,I>U&&(U=I)):(N=0,I=0))}return o&&c>0&&(o=!1),s&&w>0&&(s=!1),o&&(st||h+g+x>0)?mt.UTF8:s&&(mt.ASSUME_SHIFT_JIS||M>=3||U>=3)?mt.SHIFT_JIS:l&&s?M===2&&S===2||X*10>=a?mt.SHIFT_JIS:mt.ISO88591:l?mt.ISO88591:s?mt.SHIFT_JIS:o?mt.UTF8:mt.PLATFORM_DEFAULT_ENCODING}static format(e,...i){let a=-1;function l(o,c,h,g,x,w){if(o==="%%")return"%";if(i[++a]===void 0)return;o=g?parseInt(g.substr(1)):void 0;let S=x?parseInt(x.substr(1)):void 0,N;switch(w){case"s":N=i[a];break;case"c":N=i[a][0];break;case"f":N=parseFloat(i[a]).toFixed(o);break;case"p":N=parseFloat(i[a]).toPrecision(o);break;case"e":N=parseFloat(i[a]).toExponential(o);break;case"x":N=parseInt(i[a]).toString(S||16);break;case"d":N=parseFloat(parseInt(i[a],S||10).toPrecision(o)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(S);let I=parseInt(h),M=h&&h[0]+""=="0"?"0":" ";for(;N.length<I;)N=c!==void 0?N+M:M+N;return N}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,l)}static getBytes(e,i){return jt.encode(e,i)}static getCharCode(e,i=0){return e.charCodeAt(i)}static getCharAt(e){return String.fromCharCode(e)}}mt.SHIFT_JIS=W.SJIS.getName(),mt.GB2312="GB2312",mt.ISO88591=W.ISO8859_1.getName(),mt.EUC_JP="EUC_JP",mt.UTF8=W.UTF8.getName(),mt.PLATFORM_DEFAULT_ENCODING=mt.UTF8,mt.ASSUME_SHIFT_JIS=!1;class Xt{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=mt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,i,a){for(let l=i;i<i+a;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+1)}substring(e,i){return this.value.substring(e,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+i.length)}}class xe{constructor(e,i,a,l){if(this.width=e,this.height=i,this.rowSize=a,this.bits=l,i==null&&(i=e),this.height=i,e<1||i<1)throw new Z("Both dimensions must be greater than 0");a==null&&(a=Math.floor((e+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const i=e.length,a=e[0].length,l=new xe(a,i);for(let s=0;s<i;s++){const o=e[s];for(let c=0;c<a;c++)o[c]&&l.set(c,s)}return l}static parseFromString(e,i,a){if(e===null)throw new Z("stringRepresentation cannot be null");const l=new Array(e.length);let s=0,o=0,c=-1,h=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(s>o){if(c===-1)c=s-o;else if(s-o!==c)throw new Z("row lengths do not match");o=s,h++}g++}else if(e.substring(g,g+i.length)===i)g+=i.length,l[s]=!0,s++;else if(e.substring(g,g+a.length)===a)g+=a.length,l[s]=!1,s++;else throw new Z("illegal character encountered: "+e.substring(g));if(s>o){if(c===-1)c=s-o;else if(s-o!==c)throw new Z("row lengths do not match");h++}const x=new xe(c,h);for(let w=0;w<s;w++)l[w]&&x.set(Math.floor(w%c),Math.floor(w/c));return x}get(e,i){const a=i*this.rowSize+Math.floor(e/32);return(this.bits[a]>>>(e&31)&1)!==0}set(e,i){const a=i*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(e&31)&4294967295}unset(e,i){const a=i*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(e&31)&4294967295)}flip(e,i){const a=i*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Z("input matrix dimensions do not match");const i=new Dt(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,o=this.height;s<o;s++){const c=s*a,h=e.getRow(s,i).getBitArray();for(let g=0;g<a;g++)l[c+g]^=h[g]}}clear(){const e=this.bits,i=e.length;for(let a=0;a<i;a++)e[a]=0}setRegion(e,i,a,l){if(i<0||e<0)throw new Z("Left and top must be nonnegative");if(l<1||a<1)throw new Z("Height and width must be at least 1");const s=e+a,o=i+l;if(o>this.height||s>this.width)throw new Z("The region must fit inside the matrix");const c=this.rowSize,h=this.bits;for(let g=i;g<o;g++){const x=g*c;for(let w=e;w<s;w++)h[x+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(e,i){i==null||i.getSize()<this.width?i=new Dt(this.width):i.clear();const a=this.rowSize,l=this.bits,s=e*a;for(let o=0;o<a;o++)i.setBulk(o*32,l[s+o]);return i}setRow(e,i){It.arraycopy(i.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),i=this.getHeight();let a=new Dt(e),l=new Dt(e);for(let s=0,o=Math.floor((i+1)/2);s<o;s++)a=this.getRow(s,a),l=this.getRow(i-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(i-1-s,a)}getEnclosingRectangle(){const e=this.width,i=this.height,a=this.rowSize,l=this.bits;let s=e,o=i,c=-1,h=-1;for(let g=0;g<i;g++)for(let x=0;x<a;x++){const w=l[g*a+x];if(w!==0){if(g<o&&(o=g),g>h&&(h=g),x*32<s){let S=0;for(;(w<<31-S&4294967295)===0;)S++;x*32+S<s&&(s=x*32+S)}if(x*32+31>c){let S=31;for(;!(w>>>S);)S--;x*32+S>c&&(c=x*32+S)}}}return c<s||h<o?null:Int32Array.from([s,o,c-s+1,h-o+1])}getTopLeftOnBit(){const e=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const l=a/e;let s=a%e*32;const o=i[a];let c=0;for(;(o<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,l])}getBottomRightOnBit(){const e=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/e);let s=Math.floor(a%e)*32;const o=i[a];let c=31;for(;!(o>>>c);)c--;return s+=c,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof xe))return!1;const i=e;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&xt.equals(this.bits,i.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+xt.hashCode(this.bits),e}toString(e="X ",i="  ",a=`
`){return this.buildToString(e,i,a)}buildToString(e,i,a){let l=new Xt;for(let s=0,o=this.height;s<o;s++){for(let c=0,h=this.width;c<h;c++)l.append(this.get(c,s)?e:i);l.append(a)}return l.toString()}clone(){return new xe(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends T{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class Q extends Rt{constructor(e){super(e),this.luminances=Q.EMPTY,this.buckets=new Int32Array(Q.LUMINANCE_BUCKETS)}getBlackRow(e,i){const a=this.getLuminanceSource(),l=a.getWidth();i==null||i.getSize()<l?i=new Dt(l):i.clear(),this.initArrays(l);const s=a.getRow(e,this.luminances),o=this.buckets;for(let h=0;h<l;h++)o[(s[h]&255)>>Q.LUMINANCE_SHIFT]++;const c=Q.estimateBlackPoint(o);if(l<3)for(let h=0;h<l;h++)(s[h]&255)<c&&i.set(h);else{let h=s[0]&255,g=s[1]&255;for(let x=1;x<l-1;x++){const w=s[x+1]&255;(g*4-h-w)/2<c&&i.set(x),h=g,g=w}}return i}getBlackMatrix(){const e=this.getLuminanceSource(),i=e.getWidth(),a=e.getHeight(),l=new xe(i,a);this.initArrays(i);const s=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(a*h/5),x=e.getRow(g,this.luminances),w=Math.floor(i*4/5);for(let S=Math.floor(i/5);S<w;S++){const N=x[S]&255;s[N>>Q.LUMINANCE_SHIFT]++}}const o=Q.estimateBlackPoint(s),c=e.getMatrix();for(let h=0;h<a;h++){const g=h*i;for(let x=0;x<i;x++)(c[g+x]&255)<o&&l.set(x,h)}return l}createBinarizer(e){return new Q(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const i=this.buckets;for(let a=0;a<Q.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(e){const i=e.length;let a=0,l=0,s=0;for(let x=0;x<i;x++)e[x]>s&&(l=x,s=e[x]),e[x]>a&&(a=e[x]);let o=0,c=0;for(let x=0;x<i;x++){const w=x-l,S=e[x]*w*w;S>c&&(o=x,c=S)}if(l>o){const x=l;l=o,o=x}if(o-l<=i/16)throw new G;let h=o-1,g=-1;for(let x=o-1;x>l;x--){const w=x-l,S=w*w*(o-x)*(a-e[x]);S>g&&(h=x,g=S)}return h<<Q.LUMINANCE_SHIFT}}Q.LUMINANCE_BITS=5,Q.LUMINANCE_SHIFT=8-Q.LUMINANCE_BITS,Q.LUMINANCE_BUCKETS=1<<Q.LUMINANCE_BITS,Q.EMPTY=Uint8ClampedArray.from([0]);class et extends Q{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),i=e.getWidth(),a=e.getHeight();if(i>=et.MINIMUM_DIMENSION&&a>=et.MINIMUM_DIMENSION){const l=e.getMatrix();let s=i>>et.BLOCK_SIZE_POWER;(i&et.BLOCK_SIZE_MASK)!==0&&s++;let o=a>>et.BLOCK_SIZE_POWER;(a&et.BLOCK_SIZE_MASK)!==0&&o++;const c=et.calculateBlackPoints(l,s,o,i,a),h=new xe(i,a);et.calculateThresholdForBlock(l,s,o,i,a,c,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new et(e)}static calculateThresholdForBlock(e,i,a,l,s,o,c){const h=s-et.BLOCK_SIZE,g=l-et.BLOCK_SIZE;for(let x=0;x<a;x++){let w=x<<et.BLOCK_SIZE_POWER;w>h&&(w=h);const S=et.cap(x,2,a-3);for(let N=0;N<i;N++){let I=N<<et.BLOCK_SIZE_POWER;I>g&&(I=g);const M=et.cap(N,2,i-3);let U=0;for(let st=-2;st<=2;st++){const ut=o[S+st];U+=ut[M-2]+ut[M-1]+ut[M]+ut[M+1]+ut[M+2]}const X=U/25;et.thresholdBlock(e,I,w,X,l,c)}}}static cap(e,i,a){return e<i?i:e>a?a:e}static thresholdBlock(e,i,a,l,s,o){for(let c=0,h=a*s+i;c<et.BLOCK_SIZE;c++,h+=s)for(let g=0;g<et.BLOCK_SIZE;g++)(e[h+g]&255)<=l&&o.set(i+g,a+c)}static calculateBlackPoints(e,i,a,l,s){const o=s-et.BLOCK_SIZE,c=l-et.BLOCK_SIZE,h=new Array(a);for(let g=0;g<a;g++){h[g]=new Int32Array(i);let x=g<<et.BLOCK_SIZE_POWER;x>o&&(x=o);for(let w=0;w<i;w++){let S=w<<et.BLOCK_SIZE_POWER;S>c&&(S=c);let N=0,I=255,M=0;for(let X=0,st=x*l+S;X<et.BLOCK_SIZE;X++,st+=l){for(let ut=0;ut<et.BLOCK_SIZE;ut++){const lt=e[st+ut]&255;N+=lt,lt<I&&(I=lt),lt>M&&(M=lt)}if(M-I>et.MIN_DYNAMIC_RANGE)for(X++,st+=l;X<et.BLOCK_SIZE;X++,st+=l)for(let ut=0;ut<et.BLOCK_SIZE;ut++)N+=e[st+ut]&255}let U=N>>et.BLOCK_SIZE_POWER*2;if(M-I<=et.MIN_DYNAMIC_RANGE&&(U=I/2,g>0&&w>0)){const X=(h[g-1][w]+2*h[g][w-1]+h[g-1][w-1])/4;I<X&&(U=X)}h[g][w]=U}}return h}}et.BLOCK_SIZE_POWER=3,et.BLOCK_SIZE=1<<et.BLOCK_SIZE_POWER,et.BLOCK_SIZE_MASK=et.BLOCK_SIZE-1,et.MINIMUM_DIMENSION=et.BLOCK_SIZE*5,et.MIN_DYNAMIC_RANGE=24;class _t{constructor(e,i){this.width=e,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,i,a,l){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let i=new Xt;for(let a=0;a<this.height;a++){const l=this.getRow(a,e);for(let s=0;s<this.width;s++){const o=l[s]&255;let c;o<64?c="#":o<128?c="+":o<192?c=".":c=" ",i.append(c)}i.append(`
`)}return i.toString()}}class Jt extends _t{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,i){const a=this.delegate.getRow(e,i),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const e=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let l=0;l<i;l++)a[l]=255-(e[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(e,i,a,l){return new Jt(this.delegate.crop(e,i,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Jt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Jt(this.delegate.rotateCounterClockwise45())}}class D extends _t{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=D.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const i=e.getContext("2d").getImageData(0,0,e.width,e.height);return D.toGrayscaleBuffer(i.data,e.width,e.height)}static toGrayscaleBuffer(e,i,a){const l=new Uint8ClampedArray(i*a);for(let s=0,o=0,c=e.length;s<c;s+=4,o++){let h;if(e[s+3]===0)h=255;else{const x=e[s],w=e[s+1],S=e[s+2];h=306*x+601*w+117*S+512>>10}l[o]=h}return l}getRow(e,i){if(e<0||e>=this.getHeight())throw new Z("Requested row is outside the image: "+e);const a=this.getWidth(),l=e*a;return i===null?i=this.buffer.slice(l,l+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(l,l+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,i,a,l){return super.crop(e,i,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const i=this.getTempCanvasElement(),a=i.getContext("2d"),l=e*D.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*o),h=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*o);return i.width=c,i.height=h,a.translate(c/2,h/2),a.rotate(l),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=D.makeBufferFromCanvasImageData(i),this}invert(){return new Jt(this)}}D.DEGREE_TO_RADIANS=Math.PI/180;class rt{constructor(e,i,a){this.deviceId=e,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ct=(globalThis||Au||self||window||void 0)&&(globalThis||Au||self||window||void 0).__awaiter||function(E,e,i,a){function l(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function c(x){try{g(a.next(x))}catch(w){o(w)}}function h(x){try{g(a.throw(x))}catch(w){o(w)}}function g(x){x.done?s(x.value):l(x.value).then(c,h)}g((a=a.apply(E,e||[])).next())})};class ht{constructor(e,i=500,a){this.reader=e,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ct(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of e){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,o=a.label||`Video device ${i.length+1}`,c=a.groupId,h={deviceId:s,label:o,kind:l,groupId:c};i.push(h)}return i})}getVideoInputDevices(){return ct(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new rt(i.deviceId,i.label))})}findDeviceById(e){return ct(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===e):null})}decodeFromInputVideoDevice(e,i){return ct(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,i)})}decodeOnceFromVideoDevice(e,i){return ct(this,void 0,void 0,function*(){this.reset();let a;e?a={deviceId:{exact:e}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(e,i){return ct(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(e,i){return ct(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(e,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(e,i,a){return ct(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,i,a)})}decodeFromVideoDevice(e,i,a){return ct(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,i,a)})}decodeFromConstraints(e,i,a){return ct(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,i,a)})}decodeFromStream(e,i,a){return ct(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,i);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,i){return ct(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,e),this.videoElement=a,this.stream=e,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(e){return new Promise((i,a)=>this.playVideoOnLoad(e,()=>i()))}playVideoOnLoad(e,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",i),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ct(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,i){const a=document.getElementById(e);if(!a)throw new P(`element with id '${e}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new P(`element with id '${e}' must be an ${i} element`);return a}decodeFromImage(e,i){if(!e&&!i)throw new P("either imageElement with a src set or an url must be provided");return i&&!e?this.decodeFromImageUrl(i):this.decodeFromImageElement(e)}decodeFromVideo(e,i){if(!e&&!i)throw new P("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,i,a){if(e===void 0&&i===void 0)throw new P("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(e,a)}decodeFromImageElement(e){if(!e)throw new P("An image element must be provided.");this.reset();const i=this.prepareImageElement(e);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(e){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(e,i){const a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(e){if(!e)throw new P("A video element must be provided.");this.reset();const i=this.prepareVideoElement(e);return this.videoElement=i,i}decodeFromImageUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=e,a}decodeFromVideoUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=e,a}decodeFromVideoUrlContinuously(e,i){if(!e)throw new P("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,i);return a.src=e,l}_decodeOnLoadImage(e){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(i,a),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ct(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,i){return ct(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,i)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let i;return typeof e>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(i=e),i}prepareVideoElement(e){let i;return!e&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(i=e),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(e,i=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,o)=>{if(this._stopAsyncDecode){o(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);s(c)}catch(c){const h=i&&c instanceof G,x=(c instanceof St||c instanceof tt)&&a;if(h||x)return setTimeout(l,this._timeBetweenDecodingAttempts,s,o);o(c)}};return new Promise((s,o)=>l(s,o))}decodeContinuously(e,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);i(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){i(null,l);const s=l instanceof St||l instanceof tt,o=l instanceof G;(s||o)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(e){const i=this.createBinaryBitmap(e);return this.decodeBitmap(i)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,i,a){i||(i={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(e,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const i=this.getCaptureCanvas(e),a=new D(i),l=new et(a);return new Et(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const i=this.createCaptureCanvas(e);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),i.style.width=a+"px",i.style.height=l+"px",i.width=a,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,i){try{e.srcObject=i}catch{e.src=URL.createObjectURL(i)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class gt{constructor(e,i,a=i==null?0:8*i.length,l,s,o=It.currentTimeMillis()){this.text=e,this.rawBytes=i,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=o,this.text=e,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,o==null?this.timestamp=It.currentTimeMillis():this.timestamp=o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,i)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const i=this.resultPoints;if(i===null)this.resultPoints=e;else if(e!==null&&e.length>0){const a=new Array(i.length+e.length);It.arraycopy(i,0,a,0,i.length),It.arraycopy(e,0,a,i.length,e.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qt;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qt||(qt={}));var K=qt,kt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(kt||(kt={}));var Tt=kt;class ze{constructor(e,i,a,l,s=-1,o=-1){this.rawBytes=e,this.text=i,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pi{exp(e){return this.expTable[e]}log(e){if(e===0)throw new Z;return this.logTable[e]}static addOrSubtract(e,i){return e^i}}class un{constructor(e,i){if(i.length===0)throw new Z;this.field=e;const a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),It.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(e===1){a=0;for(let o=0,c=i.length;o!==c;o++){const h=i[o];a=Pi.addOrSubtract(a,h)}return a}a=i[0];const l=i.length,s=this.field;for(let o=1;o<l;o++)a=Pi.addOrSubtract(s.multiply(e,a),i[o]);return a}addOrSubtract(e){if(!this.field.equals(e.field))throw new Z("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,a=e.coefficients;if(i.length>a.length){const o=i;i=a,a=o}let l=new Int32Array(a.length);const s=a.length-i.length;It.arraycopy(a,0,l,0,s);for(let o=s;o<a.length;o++)l[o]=Pi.addOrSubtract(i[o-s],a[o]);return new un(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new Z("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,l=e.coefficients,s=l.length,o=new Int32Array(a+s-1),c=this.field;for(let h=0;h<a;h++){const g=i[h];for(let x=0;x<s;x++)o[h+x]=Pi.addOrSubtract(o[h+x],c.multiply(g,l[x]))}return new un(c,o)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const i=this.coefficients.length,a=this.field,l=new Int32Array(i),s=this.coefficients;for(let o=0;o<i;o++)l[o]=a.multiply(s[o],e);return new un(a,l)}multiplyByMonomial(e,i){if(e<0)throw new Z;if(i===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+e),o=this.field;for(let c=0;c<l;c++)s[c]=o.multiply(a[c],i);return new un(o,s)}divide(e){if(!this.field.equals(e.field))throw new Z("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Z("Divide by 0");const i=this.field;let a=i.getZero(),l=this;const s=e.getCoefficient(e.getDegree()),o=i.inverse(s);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const c=l.getDegree()-e.getDegree(),h=i.multiply(l.getCoefficient(l.getDegree()),o),g=e.multiplyByMonomial(c,h),x=i.buildMonomial(c,h);a=a.addOrSubtract(x),l=l.addOrSubtract(g)}return[a,l]}toString(){let e="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),i===0||a!==1){const l=this.field.log(a);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}i!==0&&(i===1?e+="x":(e+="x^",e+=i))}}return e}}class oa extends T{}oa.kind="ArithmeticException";class le extends Pi{constructor(e,i,a){super(),this.primitive=e,this.size=i,this.generatorBase=a;const l=new Int32Array(i);let s=1;for(let c=0;c<i;c++)l[c]=s,s*=2,s>=i&&(s^=e,s&=i-1);this.expTable=l;const o=new Int32Array(i);for(let c=0;c<i-1;c++)o[l[c]]=c;this.logTable=o,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new Z;if(i===0)return this.zero;const a=new Int32Array(e+1);return a[0]=i,new un(this,a)}inverse(e){if(e===0)throw new oa;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ot.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}le.AZTEC_DATA_12=new le(4201,4096,1),le.AZTEC_DATA_10=new le(1033,1024,1),le.AZTEC_DATA_6=new le(67,64,1),le.AZTEC_PARAM=new le(19,16,1),le.QR_CODE_FIELD_256=new le(285,256,0),le.DATA_MATRIX_FIELD_256=new le(301,256,1),le.AZTEC_DATA_8=le.DATA_MATRIX_FIELD_256,le.MAXICODE_FIELD_64=le.AZTEC_DATA_6;class bi extends T{}bi.kind="ReedSolomonException";class ai extends T{}ai.kind="IllegalStateException";class Ga{constructor(e){this.field=e}decode(e,i){const a=this.field,l=new un(a,e),s=new Int32Array(i);let o=!0;for(let N=0;N<i;N++){const I=l.evaluateAt(a.exp(N+a.getGeneratorBase()));s[s.length-1-N]=I,I!==0&&(o=!1)}if(o)return;const c=new un(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(i,1),c,i),g=h[0],x=h[1],w=this.findErrorLocations(g),S=this.findErrorMagnitudes(x,w);for(let N=0;N<w.length;N++){const I=e.length-1-a.log(w[N]);if(I<0)throw new bi("Bad error location");e[I]=le.addOrSubtract(e[I],S[N])}}runEuclideanAlgorithm(e,i,a){if(e.getDegree()<i.getDegree()){const N=e;e=i,i=N}const l=this.field;let s=e,o=i,c=l.getZero(),h=l.getOne();for(;o.getDegree()>=(a/2|0);){let N=s,I=c;if(s=o,c=h,s.isZero())throw new bi("r_{i-1} was zero");o=N;let M=l.getZero();const U=s.getCoefficient(s.getDegree()),X=l.inverse(U);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){const st=o.getDegree()-s.getDegree(),ut=l.multiply(o.getCoefficient(o.getDegree()),X);M=M.addOrSubtract(l.buildMonomial(st,ut)),o=o.addOrSubtract(s.multiplyByMonomial(st,ut))}if(h=M.multiply(c).addOrSubtract(I),o.getDegree()>=s.getDegree())throw new ai("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new bi("sigmaTilde(0) was zero");const x=l.inverse(g),w=h.multiplyScalar(x),S=o.multiplyScalar(x);return[w,S]}findErrorLocations(e){const i=e.getDegree();if(i===1)return Int32Array.from([e.getCoefficient(1)]);const a=new Int32Array(i);let l=0;const s=this.field;for(let o=1;o<s.getSize()&&l<i;o++)e.evaluateAt(o)===0&&(a[l]=s.inverse(o),l++);if(l!==i)throw new bi("Error locator degree does not match number of roots");return a}findErrorMagnitudes(e,i){const a=i.length,l=new Int32Array(a),s=this.field;for(let o=0;o<a;o++){const c=s.inverse(i[o]);let h=1;for(let g=0;g<a;g++)if(o!==g){const x=s.multiply(i[g],c),w=(x&1)===0?x|1:x&-2;h=s.multiply(h,w)}l[o]=s.multiply(e.evaluateAt(c),s.inverse(h)),s.getGeneratorBase()!==0&&(l[o]=s.multiply(l[o],c))}return l}}var Te;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Te||(Te={}));class ve{decode(e){this.ddata=e;let i=e.getBits(),a=this.extractBits(i),l=this.correctBits(a),s=ve.convertBoolArrayToByteArray(l),o=ve.getEncodedData(l),c=new ze(s,o,null,null);return c.setNumBits(l.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let i=e.length,a=Te.UPPER,l=Te.UPPER,s="",o=0;for(;o<i;)if(l===Te.BINARY){if(i-o<5)break;let c=ve.readCode(e,o,5);if(o+=5,c===0){if(i-o<11)break;c=ve.readCode(e,o,11)+31,o+=11}for(let h=0;h<c;h++){if(i-o<8){o=i;break}const g=ve.readCode(e,o,8);s+=mt.castAsNonUtf8Char(g),o+=8}l=a}else{let c=l===Te.DIGIT?4:5;if(i-o<c)break;let h=ve.readCode(e,o,c);o+=c;let g=ve.getCharacter(l,h);g.startsWith("CTRL_")?(a=l,l=ve.getTable(g.charAt(5)),g.charAt(6)==="L"&&(a=l)):(s+=g,l=a)}return s}static getTable(e){switch(e){case"L":return Te.LOWER;case"P":return Te.PUNCT;case"M":return Te.MIXED;case"D":return Te.DIGIT;case"B":return Te.BINARY;case"U":default:return Te.UPPER}}static getCharacter(e,i){switch(e){case Te.UPPER:return ve.UPPER_TABLE[i];case Te.LOWER:return ve.LOWER_TABLE[i];case Te.MIXED:return ve.MIXED_TABLE[i];case Te.PUNCT:return ve.PUNCT_TABLE[i];case Te.DIGIT:return ve.DIGIT_TABLE[i];default:throw new ai("Bad table")}}correctBits(e){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=le.AZTEC_DATA_10):(a=12,i=le.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=e.length/a;if(s<l)throw new tt;let o=e.length%a,c=new Int32Array(s);for(let S=0;S<s;S++,o+=a)c[S]=ve.readCode(e,o,a);try{new Ga(i).decode(c,s-l)}catch(S){throw new tt(S)}let h=(1<<a)-1,g=0;for(let S=0;S<l;S++){let N=c[S];if(N===0||N===h)throw new tt;(N===1||N===h-1)&&g++}let x=new Array(l*a-g),w=0;for(let S=0;S<l;S++){let N=c[S];if(N===1||N===h-1)x.fill(N>1,w,w+a-1),w+=a-1;else for(let I=a-1;I>=0;--I)x[w++]=(N&1<<I)!==0}return x}extractBits(e){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(i?11:14)+a*4,s=new Int32Array(l),o=new Array(this.totalBitsInLayer(a,i));if(i)for(let c=0;c<s.length;c++)s[c]=c;else{let c=l+1+2*ot.truncDivision(ot.truncDivision(l,2)-1,15),h=l/2,g=ot.truncDivision(c,2);for(let x=0;x<h;x++){let w=x+ot.truncDivision(x,15);s[h-x-1]=g-w-1,s[h+x]=g+w+1}}for(let c=0,h=0;c<a;c++){let g=(a-c)*4+(i?9:12),x=c*2,w=l-1-x;for(let S=0;S<g;S++){let N=S*2;for(let I=0;I<2;I++)o[h+N+I]=e.get(s[x+I],s[x+S]),o[h+2*g+N+I]=e.get(s[x+S],s[w-I]),o[h+4*g+N+I]=e.get(s[w-I],s[w-S]),o[h+6*g+N+I]=e.get(s[w-S],s[x+I])}h+=g*8}return o}static readCode(e,i,a){let l=0;for(let s=i;s<i+a;s++)l<<=1,e[s]&&(l|=1);return l}static readByte(e,i){let a=e.length-i;return a>=8?ve.readCode(e,i,8):ve.readCode(e,i,a)<<8-a}static convertBoolArrayToByteArray(e){let i=new Uint8Array((e.length+7)/8);for(let a=0;a<i.length;a++)i[a]=ve.readByte(e,8*a);return i}totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}ve.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ve.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ve.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ve.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ve.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ae{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,i,a,l){const s=e-a,o=i-l;return Math.sqrt(s*s+o*o)}static sum(e){let i=0;for(let a=0,l=e.length;a!==l;a++){const s=e[a];i+=s}return i}}class Va{static floatToIntBits(e){return e}}Va.MAX_VALUE=Number.MAX_SAFE_INTEGER;class yt{constructor(e,i){this.x=e,this.y=i}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof yt){const i=e;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Va.floatToIntBits(this.x)+Va.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const i=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let s,o,c;if(a>=i&&a>=l?(o=e[0],s=e[1],c=e[2]):l>=a&&l>=i?(o=e[1],s=e[0],c=e[2]):(o=e[2],s=e[0],c=e[1]),this.crossProductZ(s,o,c)<0){const h=s;s=c,c=h}e[0]=s,e[1]=o,e[2]=c}static distance(e,i){return ae.distance(e.x,e.y,i.x,i.y)}static crossProductZ(e,i,a){const l=i.x,s=i.y;return(a.x-l)*(e.y-s)-(a.y-s)*(e.x-l)}}class mr{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ll extends mr{constructor(e,i,a,l,s){super(e,i),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class gi{constructor(e,i,a,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),i==null&&(i=gi.INIT_SIZE),a==null&&(a=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const s=i/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let e=this.leftInit,i=this.rightInit,a=this.upInit,l=this.downInit,s=!1,o=!0,c=!1,h=!1,g=!1,x=!1,w=!1;const S=this.width,N=this.height;for(;o;){o=!1;let I=!0;for(;(I||!h)&&i<S;)I=this.containsBlackPoint(a,l,i,!1),I?(i++,o=!0,h=!0):h||i++;if(i>=S){s=!0;break}let M=!0;for(;(M||!g)&&l<N;)M=this.containsBlackPoint(e,i,l,!0),M?(l++,o=!0,g=!0):g||l++;if(l>=N){s=!0;break}let U=!0;for(;(U||!x)&&e>=0;)U=this.containsBlackPoint(a,l,e,!1),U?(e--,o=!0,x=!0):x||e--;if(e<0){s=!0;break}let X=!0;for(;(X||!w)&&a>=0;)X=this.containsBlackPoint(e,i,a,!0),X?(a--,o=!0,w=!0):w||a--;if(a<0){s=!0;break}o&&(c=!0)}if(!s&&c){const I=i-e;let M=null;for(let ut=1;M===null&&ut<I;ut++)M=this.getBlackPointOnSegment(e,l-ut,e+ut,l);if(M==null)throw new G;let U=null;for(let ut=1;U===null&&ut<I;ut++)U=this.getBlackPointOnSegment(e,a+ut,e+ut,a);if(U==null)throw new G;let X=null;for(let ut=1;X===null&&ut<I;ut++)X=this.getBlackPointOnSegment(i,a+ut,i-ut,a);if(X==null)throw new G;let st=null;for(let ut=1;st===null&&ut<I;ut++)st=this.getBlackPointOnSegment(i,l-ut,i-ut,l);if(st==null)throw new G;return this.centerEdges(st,M,X,U)}else throw new G}getBlackPointOnSegment(e,i,a,l){const s=ae.round(ae.distance(e,i,a,l)),o=(a-e)/s,c=(l-i)/s,h=this.image;for(let g=0;g<s;g++){const x=ae.round(e+g*o),w=ae.round(i+g*c);if(h.get(x,w))return new yt(x,w)}return null}centerEdges(e,i,a,l){const s=e.getX(),o=e.getY(),c=i.getX(),h=i.getY(),g=a.getX(),x=a.getY(),w=l.getX(),S=l.getY(),N=gi.CORR;return s<this.width/2?[new yt(w-N,S+N),new yt(c+N,h+N),new yt(g-N,x-N),new yt(s+N,o-N)]:[new yt(w+N,S+N),new yt(c+N,h-N),new yt(g-N,x+N),new yt(s-N,o-N)]}containsBlackPoint(e,i,a,l){const s=this.image;if(l){for(let o=e;o<=i;o++)if(s.get(o,a))return!0}else for(let o=e;o<=i;o++)if(s.get(a,o))return!0;return!1}}gi.INIT_SIZE=10,gi.CORR=1;class sl{static checkAndNudgePoints(e,i){const a=e.getWidth(),l=e.getHeight();let s=!0;for(let o=0;o<i.length&&s;o+=2){const c=Math.floor(i[o]),h=Math.floor(i[o+1]);if(c<-1||c>a||h<-1||h>l)throw new G;s=!1,c===-1?(i[o]=0,s=!0):c===a&&(i[o]=a-1,s=!0),h===-1?(i[o+1]=0,s=!0):h===l&&(i[o+1]=l-1,s=!0)}s=!0;for(let o=i.length-2;o>=0&&s;o-=2){const c=Math.floor(i[o]),h=Math.floor(i[o+1]);if(c<-1||c>a||h<-1||h>l)throw new G;s=!1,c===-1?(i[o]=0,s=!0):c===a&&(i[o]=a-1,s=!0),h===-1?(i[o+1]=0,s=!0):h===l&&(i[o+1]=l-1,s=!0)}}}class Sn{constructor(e,i,a,l,s,o,c,h,g){this.a11=e,this.a21=i,this.a31=a,this.a12=l,this.a22=s,this.a32=o,this.a13=c,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(e,i,a,l,s,o,c,h,g,x,w,S,N,I,M,U){const X=Sn.quadrilateralToSquare(e,i,a,l,s,o,c,h);return Sn.squareToQuadrilateral(g,x,w,S,N,I,M,U).times(X)}transformPoints(e){const i=e.length,a=this.a11,l=this.a12,s=this.a13,o=this.a21,c=this.a22,h=this.a23,g=this.a31,x=this.a32,w=this.a33;for(let S=0;S<i;S+=2){const N=e[S],I=e[S+1],M=s*N+h*I+w;e[S]=(a*N+o*I+g)/M,e[S+1]=(l*N+c*I+x)/M}}transformPointsWithValues(e,i){const a=this.a11,l=this.a12,s=this.a13,o=this.a21,c=this.a22,h=this.a23,g=this.a31,x=this.a32,w=this.a33,S=e.length;for(let N=0;N<S;N++){const I=e[N],M=i[N],U=s*I+h*M+w;e[N]=(a*I+o*M+g)/U,i[N]=(l*I+c*M+x)/U}}static squareToQuadrilateral(e,i,a,l,s,o,c,h){const g=e-a+s-c,x=i-l+o-h;if(g===0&&x===0)return new Sn(a-e,s-a,e,l-i,o-l,i,0,0,1);{const w=a-s,S=c-s,N=l-o,I=h-o,M=w*I-S*N,U=(g*I-S*x)/M,X=(w*x-g*N)/M;return new Sn(a-e+U*a,c-e+X*c,e,l-i+U*l,h-i+X*h,i,U,X,1)}}static quadrilateralToSquare(e,i,a,l,s,o,c,h){return Sn.squareToQuadrilateral(e,i,a,l,s,o,c,h).buildAdjoint()}buildAdjoint(){return new Sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Sn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class On extends sl{sampleGrid(e,i,a,l,s,o,c,h,g,x,w,S,N,I,M,U,X,st,ut){const lt=Sn.quadrilateralToQuadrilateral(l,s,o,c,h,g,x,w,S,N,I,M,U,X,st,ut);return this.sampleGridWithTransform(e,i,a,lt)}sampleGridWithTransform(e,i,a,l){if(i<=0||a<=0)throw new G;const s=new xe(i,a),o=new Float32Array(2*i);for(let c=0;c<a;c++){const h=o.length,g=c+.5;for(let x=0;x<h;x+=2)o[x]=x/2+.5,o[x+1]=g;l.transformPoints(o),sl.checkAndNudgePoints(e,o);try{for(let x=0;x<h;x+=2)e.get(Math.floor(o[x]),Math.floor(o[x+1]))&&s.set(x/2,c)}catch{throw new G}}return s}}class pn{static setGridSampler(e){pn.gridSampler=e}static getInstance(){return pn.gridSampler}}pn.gridSampler=new On;class we{constructor(e,i){this.x=e,this.y=i}toResultPoint(){return new yt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ls{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(e){let o=a[0];a[0]=a[2],a[2]=o}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new ll(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new G;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],i),this.sampleLine(e[1],e[2],i),this.sampleLine(e[2],e[3],i),this.sampleLine(e[3],e[0],i)]);this.shift=this.getRotation(a,i);let l=0;for(let o=0;o<4;o++){let c=a[(this.shift+o)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,i){let a=0;e.forEach((l,s,o)=>{let c=(l>>i-2<<1)+(l&1);a=(a<<3)+c}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(ot.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new G}getCorrectedParameterData(e,i){let a,l;i?(a=7,l=2):(a=10,l=4);let s=a-l,o=new Int32Array(a);for(let h=a-1;h>=0;--h)o[h]=e&15,e>>=4;try{new Ga(le.AZTEC_PARAM).decode(o,s)}catch{throw new G}let c=0;for(let h=0;h<l;h++)c=(c<<4)+o[h];return c}getBullsEyeCorners(e){let i=e,a=e,l=e,s=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(i,o,1,-1),S=this.getFirstDifferent(a,o,1,1),N=this.getFirstDifferent(l,o,-1,1),I=this.getFirstDifferent(s,o,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(I,w)*this.nbCenterLayers/(this.distancePoint(s,i)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(w,S,N,I))break}i=w,a=S,l=N,s=I,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let c=new yt(i.getX()+.5,i.getY()-.5),h=new yt(a.getX()+.5,a.getY()+.5),g=new yt(l.getX()-.5,l.getY()+.5),x=new yt(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,h,g,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,i,a,l;try{let c=new gi(this.image).detect();e=c[0],i=c[1],a=c[2],l=c[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new we(h+7,g-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new we(h+7,g+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new we(h-7,g+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new we(h-7,g-7),!1,-1,-1).toResultPoint()}let s=ae.round((e.getX()+l.getX()+i.getX()+a.getX())/4),o=ae.round((e.getY()+l.getY()+i.getY()+a.getY())/4);try{let c=new gi(this.image,15,s,o).detect();e=c[0],i=c[1],a=c[2],l=c[3]}catch{e=this.getFirstDifferent(new we(s+7,o-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new we(s+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new we(s-7,o+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new we(s-7,o-7),!1,-1,-1).toResultPoint()}return s=ae.round((e.getX()+l.getX()+i.getX()+a.getX())/4),o=ae.round((e.getY()+l.getY()+i.getY()+a.getY())/4),new we(s,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,i,a,l,s){let o=pn.getInstance(),c=this.getDimension(),h=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return o.sampleGrid(e,c,c,h,h,g,h,g,g,h,g,i.getX(),i.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(e,i,a){let l=0,s=this.distanceResultPoint(e,i),o=s/a,c=e.getX(),h=e.getY(),g=o*(i.getX()-e.getX())/s,x=o*(i.getY()-e.getY())/s;for(let w=0;w<a;w++)this.image.get(ae.round(c+w*g),ae.round(h+w*x))&&(l|=1<<a-w-1);return l}isWhiteOrBlackRectangle(e,i,a,l){let s=3;e=new we(e.getX()-s,e.getY()+s),i=new we(i.getX()-s,i.getY()-s),a=new we(a.getX()+s,a.getY()-s),l=new we(l.getX()+s,l.getY()+s);let o=this.getColor(l,e);if(o===0)return!1;let c=this.getColor(e,i);return c!==o||(c=this.getColor(i,a),c!==o)?!1:(c=this.getColor(a,l),c===o)}getColor(e,i){let a=this.distancePoint(e,i),l=(i.getX()-e.getX())/a,s=(i.getY()-e.getY())/a,o=0,c=e.getX(),h=e.getY(),g=this.image.get(e.getX(),e.getY()),x=Math.ceil(a);for(let S=0;S<x;S++)c+=l,h+=s,this.image.get(ae.round(c),ae.round(h))!==g&&o++;let w=o/a;return w>.1&&w<.9?0:w<=.1===g?1:-1}getFirstDifferent(e,i,a,l){let s=e.getX()+a,o=e.getY()+l;for(;this.isValid(s,o)&&this.image.get(s,o)===i;)s+=a,o+=l;for(s-=a,o-=l;this.isValid(s,o)&&this.image.get(s,o)===i;)s+=a;for(s-=a;this.isValid(s,o)&&this.image.get(s,o)===i;)o+=l;return o-=l,new we(s,o)}expandSquare(e,i,a){let l=a/(2*i),s=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,h=(e[0].getY()+e[2].getY())/2,g=new yt(c+l*s,h+l*o),x=new yt(c-l*s,h-l*o);s=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,h=(e[1].getY()+e[3].getY())/2;let w=new yt(c+l*s,h+l*o),S=new yt(c-l*s,h-l*o);return[g,w,x,S]}isValid(e,i){return e>=0&&e<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(e){let i=ae.round(e.getX()),a=ae.round(e.getY());return this.isValid(i,a)}distancePoint(e,i){return ae.distance(e.getX(),e.getY(),i.getX(),i.getY())}distanceResultPoint(e,i){return ae.distance(e.getX(),e.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ot.truncDivision(this.nbLayers-4,8)+1)+15}}class Ar{decode(e,i=null){let a=null,l=new ls(e.getBlackMatrix()),s=null,o=null;try{let x=l.detectMirror(!1);s=x.getPoints(),this.reportFoundResultPoints(i,s),o=new ve().decode(x)}catch(x){a=x}if(o==null)try{let x=l.detectMirror(!0);s=x.getPoints(),this.reportFoundResultPoints(i,s),o=new ve().decode(x)}catch(x){throw a??x}let c=new gt(o.getText(),o.getRawBytes(),o.getNumBits(),s,K.AZTEC,It.currentTimeMillis()),h=o.getByteSegments();h!=null&&c.putMetadata(Tt.BYTE_SEGMENTS,h);let g=o.getECLevel();return g!=null&&c.putMetadata(Tt.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,i){if(e!=null){let a=e.get(Mt.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((l,s,o)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class bu extends ht{constructor(e=500){super(new Ar,e)}}class ke{decode(e,i){try{return this.doDecode(e,i)}catch{if(i&&i.get(Mt.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),o=this.doDecode(s,i),c=o.getResultMetadata();let h=270;c!==null&&c.get(Tt.ORIENTATION)===!0&&(h=h+c.get(Tt.ORIENTATION)%360),o.putMetadata(Tt.ORIENTATION,h);const g=o.getResultPoints();if(g!==null){const x=s.getHeight();for(let w=0;w<g.length;w++)g[w]=new yt(x-g[w].getY()-1,g[w].getX())}return o}else throw new G}}reset(){}doDecode(e,i){const a=e.getWidth(),l=e.getHeight();let s=new Dt(a);const o=i&&i.get(Mt.TRY_HARDER)===!0,c=Math.max(1,l>>(o?8:5));let h;o?h=l:h=15;const g=Math.trunc(l/2);for(let x=0;x<h;x++){const w=Math.trunc((x+1)/2),S=(x&1)===0,N=g+c*(S?w:-w);if(N<0||N>=l)break;try{s=e.getBlackRow(N,s)}catch{continue}for(let I=0;I<2;I++){if(I===1&&(s.reverse(),i&&i.get(Mt.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;i.forEach((U,X)=>M.set(X,U)),M.delete(Mt.NEED_RESULT_POINT_CALLBACK),i=M}try{const M=this.decodeRow(N,s,i);if(I===1){M.putMetadata(Tt.ORIENTATION,180);const U=M.getResultPoints();U!==null&&(U[0]=new yt(a-U[0].getX()-1,U[0].getY()),U[1]=new yt(a-U[1].getX()-1,U[1].getY()))}return M}catch{}}}throw new G}static recordPattern(e,i,a){const l=a.length;for(let g=0;g<l;g++)a[g]=0;const s=e.getSize();if(i>=s)throw new G;let o=!e.get(i),c=0,h=i;for(;h<s;){if(e.get(h)!==o)a[c]++;else{if(++c===l)break;a[c]=1,o=!o}h++}if(!(c===l||c===l-1&&h===s))throw new G}static recordPatternInReverse(e,i,a){let l=a.length,s=e.get(i);for(;i>0&&l>=0;)e.get(--i)!==s&&(l--,s=!s);if(l>=0)throw new G;ke.recordPattern(e,i+1,a)}static patternMatchVariance(e,i,a){const l=e.length;let s=0,o=0;for(let g=0;g<l;g++)s+=e[g],o+=i[g];if(s<o)return Number.POSITIVE_INFINITY;const c=s/o;a*=c;let h=0;for(let g=0;g<l;g++){const x=e[g],w=i[g]*c,S=x>w?x-w:w-x;if(S>a)return Number.POSITIVE_INFINITY;h+=S}return h/s}}class ft extends ke{static findStartPattern(e){const i=e.getSize(),a=e.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1;const h=6;for(let g=a;g<i;g++)if(e.get(g)!==c)s[l]++;else{if(l===h-1){let x=ft.MAX_AVG_VARIANCE,w=-1;for(let S=ft.CODE_START_A;S<=ft.CODE_START_C;S++){const N=ke.patternMatchVariance(s,ft.CODE_PATTERNS[S],ft.MAX_INDIVIDUAL_VARIANCE);N<x&&(x=N,w=S)}if(w>=0&&e.isRange(Math.max(0,o-(g-o)/2),o,!1))return Int32Array.from([o,g,w]);o+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new G}static decodeCode(e,i,a){ke.recordPattern(e,a,i);let l=ft.MAX_AVG_VARIANCE,s=-1;for(let o=0;o<ft.CODE_PATTERNS.length;o++){const c=ft.CODE_PATTERNS[o],h=this.patternMatchVariance(i,c,ft.MAX_INDIVIDUAL_VARIANCE);h<l&&(l=h,s=o)}if(s>=0)return s;throw new G}decodeRow(e,i,a){const l=a&&a.get(Mt.ASSUME_GS1)===!0,s=ft.findStartPattern(i),o=s[2];let c=0;const h=new Uint8Array(20);h[c++]=o;let g;switch(o){case ft.CODE_START_A:g=ft.CODE_CODE_A;break;case ft.CODE_START_B:g=ft.CODE_CODE_B;break;case ft.CODE_START_C:g=ft.CODE_CODE_C;break;default:throw new tt}let x=!1,w=!1,S="",N=s[0],I=s[1];const M=Int32Array.from([0,0,0,0,0,0]);let U=0,X=0,st=o,ut=0,lt=!0,Vt=!1,Pt=!1;for(;!x;){const Li=w;switch(w=!1,U=X,X=ft.decodeCode(i,M,I),h[c++]=X,X!==ft.CODE_STOP&&(lt=!0),X!==ft.CODE_STOP&&(ut++,st+=ut*X),N=I,I+=M.reduce((Wn,As)=>Wn+As,0),X){case ft.CODE_START_A:case ft.CODE_START_B:case ft.CODE_START_C:throw new tt}switch(g){case ft.CODE_CODE_A:if(X<64)Pt===Vt?S+=String.fromCharCode(32+X):S+=String.fromCharCode(32+X+128),Pt=!1;else if(X<96)Pt===Vt?S+=String.fromCharCode(X-64):S+=String.fromCharCode(X+64),Pt=!1;else switch(X!==ft.CODE_STOP&&(lt=!1),X){case ft.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ft.CODE_FNC_2:case ft.CODE_FNC_3:break;case ft.CODE_FNC_4_A:!Vt&&Pt?(Vt=!0,Pt=!1):Vt&&Pt?(Vt=!1,Pt=!1):Pt=!0;break;case ft.CODE_SHIFT:w=!0,g=ft.CODE_CODE_B;break;case ft.CODE_CODE_B:g=ft.CODE_CODE_B;break;case ft.CODE_CODE_C:g=ft.CODE_CODE_C;break;case ft.CODE_STOP:x=!0;break}break;case ft.CODE_CODE_B:if(X<96)Pt===Vt?S+=String.fromCharCode(32+X):S+=String.fromCharCode(32+X+128),Pt=!1;else switch(X!==ft.CODE_STOP&&(lt=!1),X){case ft.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ft.CODE_FNC_2:case ft.CODE_FNC_3:break;case ft.CODE_FNC_4_B:!Vt&&Pt?(Vt=!0,Pt=!1):Vt&&Pt?(Vt=!1,Pt=!1):Pt=!0;break;case ft.CODE_SHIFT:w=!0,g=ft.CODE_CODE_A;break;case ft.CODE_CODE_A:g=ft.CODE_CODE_A;break;case ft.CODE_CODE_C:g=ft.CODE_CODE_C;break;case ft.CODE_STOP:x=!0;break}break;case ft.CODE_CODE_C:if(X<100)X<10&&(S+="0"),S+=X;else switch(X!==ft.CODE_STOP&&(lt=!1),X){case ft.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ft.CODE_CODE_A:g=ft.CODE_CODE_A;break;case ft.CODE_CODE_B:g=ft.CODE_CODE_B;break;case ft.CODE_STOP:x=!0;break}break}Li&&(g=g===ft.CODE_CODE_A?ft.CODE_CODE_B:ft.CODE_CODE_A)}const Tn=I-N;if(I=i.getNextUnset(I),!i.isRange(I,Math.min(i.getSize(),I+(I-N)/2),!1))throw new G;if(st-=ut*U,st%103!==U)throw new St;const Vn=S.length;if(Vn===0)throw new G;Vn>0&&lt&&(g===ft.CODE_CODE_C?S=S.substring(0,Vn-2):S=S.substring(0,Vn-1));const Mn=(s[1]+s[0])/2,be=N+Tn/2,gn=h.length,Bn=new Uint8Array(gn);for(let Li=0;Li<gn;Li++)Bn[Li]=h[Li];const qi=[new yt(Mn,e),new yt(be,e)];return new gt(S,Bn,0,qi,K.CODE_128,new Date().getTime())}}ft.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ft.MAX_AVG_VARIANCE=.25,ft.MAX_INDIVIDUAL_VARIANCE=.7,ft.CODE_SHIFT=98,ft.CODE_CODE_C=99,ft.CODE_CODE_B=100,ft.CODE_CODE_A=101,ft.CODE_FNC_1=102,ft.CODE_FNC_2=97,ft.CODE_FNC_3=96,ft.CODE_FNC_4_A=101,ft.CODE_FNC_4_B=100,ft.CODE_START_A=103,ft.CODE_START_B=104,ft.CODE_START_C=105,ft.CODE_STOP=106;class De extends ke{constructor(e=!1,i=!1){super(),this.usingCheckDigit=e,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,i,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=De.findAsteriskPattern(i,l),o=i.getNextSet(s[1]),c=i.getSize(),h,g;do{De.recordPattern(i,o,l);let M=De.toNarrowWidePattern(l);if(M<0)throw new G;h=De.patternToChar(M),this.decodeRowResult+=h,g=o;for(let U of l)o+=U;o=i.getNextSet(o)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let M of l)x+=M;let w=o-g-x;if(o!==c&&w*2<x)throw new G;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,U=0;for(let X=0;X<M;X++)U+=De.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(M)!==De.ALPHABET_STRING.charAt(U%43))throw new St;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new G;let S;this.extendedMode?S=De.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let N=(s[1]+s[0])/2,I=g+x/2;return new gt(S,null,0,[new yt(N,e),new yt(I,e)],K.CODE_39,new Date().getTime())}static findAsteriskPattern(e,i){let a=e.getSize(),l=e.getNextSet(0),s=0,o=l,c=!1,h=i.length;for(let g=l;g<a;g++)if(e.get(g)!==c)i[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(i)===De.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((g-o)/2)),o,!1))return[o,g];o+=i[0]+i[1],i.copyWithin(0,2,2+s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new G}static toNarrowWidePattern(e){let i=e.length,a=0,l;do{let s=2147483647;for(let h of e)h<s&&h>a&&(s=h);a=s,l=0;let o=0,c=0;for(let h=0;h<i;h++){let g=e[h];g>a&&(c|=1<<i-1-h,l++,o+=g)}if(l===3){for(let h=0;h<i&&l>0;h++){let g=e[h];if(g>a&&(l--,g*2>=o))return-1}return c}}while(l>3);return-1}static patternToChar(e){for(let i=0;i<De.CHARACTER_ENCODINGS.length;i++)if(De.CHARACTER_ENCODINGS[i]===e)return De.ALPHABET_STRING.charAt(i);if(e===De.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(e){let i=e.length,a="";for(let l=0;l<i;l++){let s=e.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let o=e.charAt(l+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new tt;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new tt;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new tt;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new tt;break}a+=c,l++}else a+=s}return a}}De.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",De.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],De.ASTERISK_ENCODING=148;class he extends ke{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,i,a){let l=this.decodeStart(i),s=this.decodeEnd(i),o=new Xt;he.decodeMiddle(i,l[1],s[0],o);let c=o.toString(),h=null;a!=null&&(h=a.get(Mt.ALLOWED_LENGTHS)),h==null&&(h=he.DEFAULT_ALLOWED_LENGTHS);let g=c.length,x=!1,w=0;for(let I of h){if(g===I){x=!0;break}I>w&&(w=I)}if(!x&&g>w&&(x=!0),!x)throw new tt;const S=[new yt(l[1],e),new yt(s[0],e)];return new gt(c,null,0,S,K.ITF,new Date().getTime())}static decodeMiddle(e,i,a,l){let s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);i<a;){ke.recordPattern(e,i,s);for(let g=0;g<5;g++){let x=2*g;o[g]=s[x],c[g]=s[x+1]}let h=he.decodeDigit(o);l.append(h.toString()),h=this.decodeDigit(c),l.append(h.toString()),s.forEach(function(g){i+=g})}}decodeStart(e){let i=he.skipWhiteSpace(e),a=he.findGuardPattern(e,i,he.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(e,a[0]),a}validateQuietZone(e,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let l=i-1;a>0&&l>=0&&!e.get(l);l--)a--;if(a!==0)throw new G}static skipWhiteSpace(e){const i=e.getSize(),a=e.getNextSet(0);if(a===i)throw new G;return a}decodeEnd(e){e.reverse();try{let i=he.skipWhiteSpace(e),a;try{a=he.findGuardPattern(e,i,he.END_PATTERN_REVERSED[0])}catch(s){s instanceof G&&(a=he.findGuardPattern(e,i,he.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,a[0]);let l=a[0];return a[0]=e.getSize()-a[1],a[1]=e.getSize()-l,a}finally{e.reverse()}}static findGuardPattern(e,i,a){let l=a.length,s=new Int32Array(l),o=e.getSize(),c=!1,h=0,g=i;s.fill(0);for(let x=i;x<o;x++)if(e.get(x)!==c)s[h]++;else{if(h===l-1){if(ke.patternMatchVariance(s,a,he.MAX_INDIVIDUAL_VARIANCE)<he.MAX_AVG_VARIANCE)return[g,x];g+=s[0]+s[1],It.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new G}static decodeDigit(e){let i=he.MAX_AVG_VARIANCE,a=-1,l=he.PATTERNS.length;for(let s=0;s<l;s++){let o=he.PATTERNS[s],c=ke.patternMatchVariance(e,o,he.MAX_INDIVIDUAL_VARIANCE);c<i?(i=c,a=s):c===i&&(a=-1)}if(a>=0)return a%10;throw new G}}he.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],he.MAX_AVG_VARIANCE=.38,he.MAX_INDIVIDUAL_VARIANCE=.5,he.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],he.START_PATTERN=Int32Array.from([1,1,1,1]),he.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _e extends ke{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let i=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!i;){s=Int32Array.from([0,0,0]),a=_e.findGuardPattern(e,l,!1,this.START_END_PATTERN,s);let o=a[0];l=a[1];let c=o-(l-o);c>=0&&(i=e.isRange(c,o,!1))}return a}static checkChecksum(e){return _e.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let a=parseInt(e.charAt(i-1),10);return _e.getStandardUPCEANChecksum(e.substring(0,i-1))===a}static getStandardUPCEANChecksum(e){let i=e.length,a=0;for(let l=i-1;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new tt;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new tt;a+=s}return(1e3-a)%10}static decodeEnd(e,i){return _e.findGuardPattern(e,i,!1,_e.START_END_PATTERN,new Int32Array(_e.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,i,a,l){return this.findGuardPattern(e,i,a,l,new Int32Array(l.length))}static findGuardPattern(e,i,a,l,s){let o=e.getSize();i=a?e.getNextUnset(i):e.getNextSet(i);let c=0,h=i,g=l.length,x=a;for(let w=i;w<o;w++)if(e.get(w)!==x)s[c]++;else{if(c===g-1){if(ke.patternMatchVariance(s,l,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE)return Int32Array.from([h,w]);h+=s[0]+s[1];let S=s.slice(2,s.length-1);for(let N=0;N<c-1;N++)s[N]=S[N];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,x=!x}throw new G}static decodeDigit(e,i,a,l){this.recordPattern(e,a,i);let s=this.MAX_AVG_VARIANCE,o=-1,c=l.length;for(let h=0;h<c;h++){let g=l[h],x=ke.patternMatchVariance(i,g,_e.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,o=h)}if(o>=0)return o;throw new G}}_e.MAX_AVG_VARIANCE=.48,_e.MAX_INDIVIDUAL_VARIANCE=.7,_e.START_END_PATTERN=Int32Array.from([1,1,1]),_e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),o=l.toString(),c=Xa.parseExtensionString(o),h=[new yt((a[0]+a[1])/2,e),new yt(s,e)],g=new gt(o,null,0,h,K.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),o=i[1],c=0;for(let g=0;g<5&&o<s;g++){let x=_e.decodeDigit(e,l,o,_e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let w of l)o+=w;x>=10&&(c|=1<<4-g),g!==4&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(a.length!==5)throw new G;let h=this.determineCheckDigit(c);if(Xa.extensionChecksum(a.toString())!==h)throw new G;return o}static extensionChecksum(e){let i=e.length,a=0;for(let l=i-2;l>=0;l-=2)a+=e.charAt(l).charCodeAt(0)-48;a*=3;for(let l=i-1;l>=0;l-=2)a+=e.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(e){for(let i=0;i<10;i++)if(e===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new G}static parseExtensionString(e){if(e.length!==5)return null;let i=Xa.parseExtension5String(e);return i==null?null:new Map([[Tt.SUGGESTED_PRICE,i]])}static parseExtension5String(e){let i;switch(e.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(e.substring(1)),l=(a/100).toString(),s=a%100,o=s<10?"0"+s:s.toString();return i+l+"."+o}}class Er{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),o=l.toString(),c=Er.parseExtensionString(o),h=[new yt((a[0]+a[1])/2,e),new yt(s,e)],g=new gt(o,null,0,h,K.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),o=i[1],c=0;for(let h=0;h<2&&o<s;h++){let g=_e.decodeDigit(e,l,o,_e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+g%10);for(let x of l)o+=x;g>=10&&(c|=1<<1-h),h!==1&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(a.length!==2)throw new G;if(parseInt(a.toString())%4!==c)throw new G;return o}static parseExtensionString(e){return e.length!==2?null:new Map([[Tt.ISSUE_NUMBER,parseInt(e)]])}}class ul{static decodeRow(e,i,a){let l=_e.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xa().decodeRow(e,i,l)}catch{return new Er().decodeRow(e,i,l)}}}ul.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class se extends _e{constructor(){super(),this.decodeRowStringBuffer="",se.L_AND_G_PATTERNS=se.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let i=se.L_PATTERNS[e-10],a=new Int32Array(i.length);for(let l=0;l<i.length;l++)a[l]=i[i.length-l-1];se.L_AND_G_PATTERNS[e]=a}}decodeRow(e,i,a){let l=se.findStartGuardPattern(i),s=a==null?null:a.get(Mt.NEED_RESULT_POINT_CALLBACK);if(s!=null){const lt=new yt((l[0]+l[1])/2,e);s.foundPossibleResultPoint(lt)}let o=this.decodeMiddle(i,l,this.decodeRowStringBuffer),c=o.rowOffset,h=o.resultString;if(s!=null){const lt=new yt(c,e);s.foundPossibleResultPoint(lt)}let g=this.decodeEnd(i,c);if(s!=null){const lt=new yt((g[0]+g[1])/2,e);s.foundPossibleResultPoint(lt)}let x=g[1],w=x+(x-g[0]);if(w>=i.getSize()||!i.isRange(x,w,!1))throw new G;let S=h.toString();if(S.length<8)throw new tt;if(!se.checkChecksum(S))throw new St;let N=(l[1]+l[0])/2,I=(g[1]+g[0])/2,M=this.getBarcodeFormat(),U=[new yt(N,e),new yt(I,e)],X=new gt(S,null,0,U,M,new Date().getTime()),st=0;try{let lt=ul.decodeRow(e,i,g[1]);X.putMetadata(Tt.UPC_EAN_EXTENSION,lt.getText()),X.putAllMetadata(lt.getResultMetadata()),X.addResultPoints(lt.getResultPoints()),st=lt.getText().length}catch{}let ut=a==null?null:a.get(Mt.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let lt=!1;for(let Vt in ut)if(st.toString()===Vt){lt=!0;break}if(!lt)throw new G}return X}decodeEnd(e,i){return se.findGuardPattern(e,i,!1,se.START_END_PATTERN,new Int32Array(se.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return se.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let a=parseInt(e.charAt(i-1),10);return se.getStandardUPCEANChecksum(e.substring(0,i-1))===a}static getStandardUPCEANChecksum(e){let i=e.length,a=0;for(let l=i-1;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new tt;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new tt;a+=s}return(1e3-a)%10}}class jn extends se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),o=i[1],c=0;for(let g=0;g<6&&o<s;g++){let x=se.decodeDigit(e,l,o,se.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let w of l)o+=w;x>=10&&(c|=1<<5-g)}a=jn.determineFirstDigit(a,c),o=se.findGuardPattern(e,o,!0,se.MIDDLE_PATTERN,new Int32Array(se.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&o<s;g++){let x=se.decodeDigit(e,l,o,se.L_PATTERNS);a+=String.fromCharCode(48+x);for(let w of l)o+=w}return{rowOffset:o,resultString:a}}getBarcodeFormat(){return K.EAN_13}static determineFirstDigit(e,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return e=String.fromCharCode(48+a)+e,e;throw new G}}jn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ss extends se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),o=i[1];for(let h=0;h<4&&o<s;h++){let g=se.decodeDigit(e,l,o,se.L_PATTERNS);a+=String.fromCharCode(48+g);for(let x of l)o+=x}o=se.findGuardPattern(e,o,!0,se.MIDDLE_PATTERN,new Int32Array(se.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&o<s;h++){let g=se.decodeDigit(e,l,o,se.L_PATTERNS);a+=String.fromCharCode(48+g);for(let x of l)o+=x}return{rowOffset:o,resultString:a}}getBarcodeFormat(){return K.EAN_8}}class ol extends se{constructor(){super(...arguments),this.ean13Reader=new jn}getBarcodeFormat(){return K.UPC_A}decode(e,i){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,i,a))}decodeMiddle(e,i,a){return this.ean13Reader.decodeMiddle(e,i,a)}maybeReturnResult(e){let i=e.getText();if(i.charAt(0)==="0"){let a=new gt(i.substring(1),null,null,e.getResultPoints(),K.UPC_A);return e.getResultMetadata()!=null&&a.putAllMetadata(e.getResultMetadata()),a}else throw new G}reset(){this.ean13Reader.reset()}}class zn extends se{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,i,a){const l=this.decodeMiddleCounters.map(g=>g);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=e.getSize();let o=i[1],c=0;for(let g=0;g<6&&o<s;g++){const x=zn.decodeDigit(e,l,o,zn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let w of l)o+=w;x>=10&&(c|=1<<5-g)}let h=zn.determineNumSysAndCheckDigit(a,c);return{rowOffset:o,resultString:h}}decodeEnd(e,i){return zn.findGuardPatternWithoutCounters(e,i,!0,zn.MIDDLE_END_PATTERN)}checkChecksum(e){return se.checkChecksum(zn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,i){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),o=String.fromCharCode(48+l);return s+e+o}throw G.getNotFoundInstance()}getBarcodeFormat(){return K.UPC_E}static convertUPCEtoUPCA(e){const i=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new Xt;a.append(e.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(l),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(l);break}return e.length>=8&&a.append(e.charAt(7)),a.toString()}}zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ya extends ke{constructor(e){super();let i=e==null?null:e.get(Mt.POSSIBLE_FORMATS),a=[];b(i)?(a.push(new jn),a.push(new ol),a.push(new ss),a.push(new zn)):(i.indexOf(K.EAN_13)>-1&&a.push(new jn),i.indexOf(K.UPC_A)>-1&&a.push(new ol),i.indexOf(K.EAN_8)>-1&&a.push(new ss),i.indexOf(K.UPC_E)>-1&&a.push(new zn)),this.readers=a}decodeRow(e,i,a){for(let l of this.readers)try{const s=l.decodeRow(e,i,a),o=s.getBarcodeFormat()===K.EAN_13&&s.getText().charAt(0)==="0",c=a==null?null:a.get(Mt.POSSIBLE_FORMATS),h=c==null||c.includes(K.UPC_A);if(o&&h){const g=s.getRawBytes(),x=new gt(s.getText().substring(1),g,g?g.length:null,s.getResultPoints(),K.UPC_A);return x.putAllMetadata(s.getResultMetadata()),x}return s}catch{}throw new G}reset(){for(let e of this.readers)e.reset()}}class an extends ke{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,i){for(let a=0;a<i.length;a++)if(ke.patternMatchVariance(e,i[a],an.MAX_INDIVIDUAL_VARIANCE)<an.MAX_AVG_VARIANCE)return a;throw new G}static count(e){return ae.sum(new Int32Array(e))}static increment(e,i){let a=0,l=i[0];for(let s=1;s<e.length;s++)i[s]>l&&(l=i[s],a=s);e[a]++}static decrement(e,i){let a=0,l=i[0];for(let s=1;s<e.length;s++)i[s]<l&&(l=i[s],a=s);e[a]--}static isFinderPattern(e){let i=e[0]+e[1],a=i+e[2]+e[3],l=i/a;if(l>=an.MIN_FINDER_PATTERN_RATIO&&l<=an.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let c of e)c>o&&(o=c),c<s&&(s=c);return o<10*s}return!1}}an.MAX_AVG_VARIANCE=.2,an.MAX_INDIVIDUAL_VARIANCE=.45,an.MIN_FINDER_PATTERN_RATIO=9.5/12,an.MAX_FINDER_PATTERN_RATIO=12.5/14;class Gi{constructor(e,i){this.value=e,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Gi))return!1;const i=e;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wr{constructor(e,i,a,l,s){this.value=e,this.startEnd=i,this.value=e,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new yt(a,s)),this.resultPoints.push(new yt(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof wr))return!1;const i=e;return this.value===i.value}hashCode(){return this.value}}class on{constructor(){}static getRSSvalue(e,i,a){let l=0;for(let h of e)l+=h;let s=0,o=0,c=e.length;for(let h=0;h<c-1;h++){let g;for(g=1,o|=1<<h;g<e[h];g++,o&=~(1<<h)){let x=on.combins(l-g-1,c-h-2);if(a&&o===0&&l-g-(c-h-1)>=c-h-1&&(x-=on.combins(l-g-(c-h),c-h-2)),c-h-1>1){let w=0;for(let S=l-g-(c-h-2);S>i;S--)w+=on.combins(l-g-S-1,c-h-3);x-=w*(c-1-h)}else l-g>i&&x--;s+=x}l-=g}return s}static combins(e,i){let a,l;e-i>i?(l=i,a=e-i):(l=e-i,a=i);let s=1,o=1;for(let c=e;c>a;c--)s*=c,o<=l&&(s/=o,o++);for(;o<=l;)s/=o,o++;return s}}class An{static buildBitArray(e){let i=e.length*2-1;e[e.length-1].getRightChar()==null&&(i-=1);let a=12*i,l=new Dt(a),s=0,c=e[0].getRightChar().getValue();for(let h=11;h>=0;--h)(c&1<<h)!=0&&l.set(s),s++;for(let h=1;h<e.length;++h){let g=e[h],x=g.getLeftChar().getValue();for(let w=11;w>=0;--w)(x&1<<w)!=0&&l.set(s),s++;if(g.getRightChar()!=null){let w=g.getRightChar().getValue();for(let S=11;S>=0;--S)(w&1<<S)!=0&&l.set(s),s++}}return l}}class Ze{constructor(e,i){i?this.decodedInformation=null:(this.finished=e,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Si{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class En extends Si{constructor(e,i){super(e),this.value=i}getValue(){return this.value}isFNC1(){return this.value===En.FNC1}}En.FNC1="$";class Vi extends Si{constructor(e,i,a){super(e),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Pn extends Si{constructor(e,i,a){if(super(e),i<0||i>10||a<0||a>10)throw new tt;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Pn.FNC1}isAnyFNC1(){return this.firstDigit===Pn.FNC1||this.secondDigit===Pn.FNC1}}Pn.FNC1=10;class At{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new G;let i=e.substring(0,2);for(let s of At.TWO_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===At.VARIABLE_LENGTH?At.processVariableAI(2,s[2],e):At.processFixedAI(2,s[1],e);if(e.length<3)throw new G;let a=e.substring(0,3);for(let s of At.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===At.VARIABLE_LENGTH?At.processVariableAI(3,s[2],e):At.processFixedAI(3,s[1],e);for(let s of At.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===At.VARIABLE_LENGTH?At.processVariableAI(4,s[2],e):At.processFixedAI(4,s[1],e);if(e.length<4)throw new G;let l=e.substring(0,4);for(let s of At.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===At.VARIABLE_LENGTH?At.processVariableAI(4,s[2],e):At.processFixedAI(4,s[1],e);throw new G}static processFixedAI(e,i,a){if(a.length<e)throw new G;let l=a.substring(0,e);if(a.length<e+i)throw new G;let s=a.substring(e,e+i),o=a.substring(e+i),c="("+l+")"+s,h=At.parseFieldsInGeneralPurpose(o);return h==null?c:c+h}static processVariableAI(e,i,a){let l=a.substring(0,e),s;a.length<e+i?s=a.length:s=e+i;let o=a.substring(e,s),c=a.substring(s),h="("+l+")"+o,g=At.parseFieldsInGeneralPurpose(c);return g==null?h:h+g}}At.VARIABLE_LENGTH=[],At.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",At.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",At.VARIABLE_LENGTH,20],["22",At.VARIABLE_LENGTH,29],["30",At.VARIABLE_LENGTH,8],["37",At.VARIABLE_LENGTH,8],["90",At.VARIABLE_LENGTH,30],["91",At.VARIABLE_LENGTH,30],["92",At.VARIABLE_LENGTH,30],["93",At.VARIABLE_LENGTH,30],["94",At.VARIABLE_LENGTH,30],["95",At.VARIABLE_LENGTH,30],["96",At.VARIABLE_LENGTH,30],["97",At.VARIABLE_LENGTH,3],["98",At.VARIABLE_LENGTH,30],["99",At.VARIABLE_LENGTH,30]],At.THREE_DIGIT_DATA_LENGTH=[["240",At.VARIABLE_LENGTH,30],["241",At.VARIABLE_LENGTH,30],["242",At.VARIABLE_LENGTH,6],["250",At.VARIABLE_LENGTH,30],["251",At.VARIABLE_LENGTH,30],["253",At.VARIABLE_LENGTH,17],["254",At.VARIABLE_LENGTH,20],["400",At.VARIABLE_LENGTH,30],["401",At.VARIABLE_LENGTH,30],["402",17],["403",At.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",At.VARIABLE_LENGTH,20],["421",At.VARIABLE_LENGTH,15],["422",3],["423",At.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],At.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",At.VARIABLE_LENGTH,15],["391",At.VARIABLE_LENGTH,18],["392",At.VARIABLE_LENGTH,15],["393",At.VARIABLE_LENGTH,18],["703",At.VARIABLE_LENGTH,30]],At.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",At.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",At.VARIABLE_LENGTH,20],["8003",At.VARIABLE_LENGTH,30],["8004",At.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",At.VARIABLE_LENGTH,30],["8008",At.VARIABLE_LENGTH,12],["8018",18],["8020",At.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",At.VARIABLE_LENGTH,70],["8200",At.VARIABLE_LENGTH,70]];class ri{constructor(e){this.buffer=new Xt,this.information=e}decodeAllCodes(e,i){let a=i,l=null;do{let s=this.decodeGeneralPurposeField(a,l),o=At.parseFieldsInGeneralPurpose(s.getNewString());if(o!=null&&e.append(o),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let i=e;i<e+3;++i)if(this.information.get(i))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),s-1,Pn.FNC1)}let i=this.extractNumericValueFromBitArray(e,7),a=(i-8)/11,l=(i-8)%11;return new Pn(e+7,a,l)}extractNumericValueFromBitArray(e,i){return ri.extractNumericValueFromBitArray(this.information,e,i)}static extractNumericValueFromBitArray(e,i,a){let l=0;for(let s=0;s<a;++s)e.get(i+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(e,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(e);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Vi(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Vi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),e=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),e=i.isFinished()):(i=this.parseNumericBlock(),e=i.isFinished()),!(a!==this.current.getPosition())&&!e)break}while(!e);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let i;return e.isSecondDigitFNC1()?i=new Vi(this.current.getPosition(),this.buffer.toString()):i=new Vi(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ze(!0,i)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let i=new Vi(this.current.getPosition(),this.buffer.toString());return new Ze(!0,i)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ze(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new Vi(this.current.getPosition(),this.buffer.toString());return new Ze(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ze(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new Vi(this.current.getPosition(),this.buffer.toString());return new Ze(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ze(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new En(e+5,En.FNC1);if(i>=5&&i<15)return new En(e+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new En(e+7,""+(a+1));if(a>=90&&a<116)return new En(e+7,""+(a+7));let l=this.extractNumericValueFromBitArray(e,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new tt}return new En(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63}decodeAlphanumeric(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new En(e+5,En.FNC1);if(i>=5&&i<15)return new En(e+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new En(e+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new ai("Decoding invalid alphanumeric value: "+a)}return new En(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<5&&i+e<this.information.getSize();++i)if(i===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+i))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let i=e;i<e+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<4&&i+e<this.information.getSize();++i)if(this.information.get(e+i))return!1;return!0}}class Za{constructor(e){this.information=e,this.generalDecoder=new ri(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ke extends Za{constructor(e){super(e)}encodeCompressedGtin(e,i){e.append("(01)");let a=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,i,a)}encodeCompressedGtinWithoutAI(e,i,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);s/100===0&&e.append("0"),s/10===0&&e.append("0"),e.append(s)}Ke.appendCheckDigit(e,a)}static appendCheckDigit(e,i){let a=0;for(let l=0;l<13;l++){let s=e.charAt(l+i).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),e.append(a)}}Ke.GTIN_SIZE=40;class qn extends Ke{constructor(e){super(e)}parseInformation(){let e=new Xt;e.append("(01)");let i=e.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE,4);return e.append(a),this.encodeCompressedGtinWithoutAI(e,qn.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(e,qn.HEADER_SIZE+44)}}qn.HEADER_SIZE=4;class pi extends Za{constructor(e){super(e)}parseInformation(){let e=new Xt;return this.getGeneralDecoder().decodeAllCodes(e,pi.HEADER_SIZE)}}pi.HEADER_SIZE=5;class xi extends Ke{constructor(e){super(e)}encodeCompressedWeight(e,i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(e,l);let s=this.checkWeight(l),o=1e5;for(let c=0;c<5;++c)s/o===0&&e.append("0"),o/=10;e.append(s)}}class ye extends xi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=ye.HEADER_SIZE+xi.GTIN_SIZE+ye.WEIGHT_SIZE)throw new G;let e=new Xt;return this.encodeCompressedGtin(e,ye.HEADER_SIZE),this.encodeCompressedWeight(e,ye.HEADER_SIZE+xi.GTIN_SIZE,ye.WEIGHT_SIZE),e.toString()}}ye.HEADER_SIZE=5,ye.WEIGHT_SIZE=15;class us extends ye{constructor(e){super(e)}addWeightCode(e,i){e.append("(3103)")}checkWeight(e){return e}}class os extends ye{constructor(e){super(e)}addWeightCode(e,i){i<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class wn extends Ke{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+Ke.GTIN_SIZE)throw new G;let e=new Xt;this.encodeCompressedGtin(e,wn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Ke.GTIN_SIZE,wn.LAST_DIGIT_SIZE);e.append("(392"),e.append(i),e.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+Ke.GTIN_SIZE+wn.LAST_DIGIT_SIZE,null);return e.append(a.getNewString()),e.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2;class je extends Ke{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<je.HEADER_SIZE+Ke.GTIN_SIZE)throw new G;let e=new Xt;this.encodeCompressedGtin(e,je.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(je.HEADER_SIZE+Ke.GTIN_SIZE,je.LAST_DIGIT_SIZE);e.append("(393"),e.append(i),e.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(je.HEADER_SIZE+Ke.GTIN_SIZE+je.LAST_DIGIT_SIZE,je.FIRST_THREE_DIGITS_SIZE);a/100==0&&e.append("0"),a/10==0&&e.append("0"),e.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(je.HEADER_SIZE+Ke.GTIN_SIZE+je.LAST_DIGIT_SIZE+je.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}je.HEADER_SIZE=8,je.LAST_DIGIT_SIZE=2,je.FIRST_THREE_DIGITS_SIZE=10;class Le extends xi{constructor(e,i,a){super(e),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Le.HEADER_SIZE+Le.GTIN_SIZE+Le.WEIGHT_SIZE+Le.DATE_SIZE)throw new G;let e=new Xt;return this.encodeCompressedGtin(e,Le.HEADER_SIZE),this.encodeCompressedWeight(e,Le.HEADER_SIZE+Le.GTIN_SIZE,Le.WEIGHT_SIZE),this.encodeCompressedDate(e,Le.HEADER_SIZE+Le.GTIN_SIZE+Le.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Le.DATE_SIZE);if(a==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let o=a;o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,i){e.append("("),e.append(this.firstAIdigits),e.append(i/1e5),e.append(")")}checkWeight(e){return e%1e5}}Le.HEADER_SIZE=8,Le.WEIGHT_SIZE=20,Le.DATE_SIZE=16;function cl(E){try{if(E.get(1))return new qn(E);if(!E.get(2))return new pi(E);switch(ri.extractNumericValueFromBitArray(E,1,4)){case 4:return new us(E);case 5:return new os(E)}switch(ri.extractNumericValueFromBitArray(E,1,5)){case 12:return new wn(E);case 13:return new je(E)}switch(ri.extractNumericValueFromBitArray(E,1,7)){case 56:return new Le(E,"310","11");case 57:return new Le(E,"320","11");case 58:return new Le(E,"310","13");case 59:return new Le(E,"320","13");case 60:return new Le(E,"310","15");case 61:return new Le(E,"320","15");case 62:return new Le(E,"310","17");case 63:return new Le(E,"320","17")}}catch(e){throw console.log(e),new ai("unknown decoder: "+E)}}class mi{constructor(e,i,a,l){this.leftchar=e,this.rightchar=i,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,i){return e instanceof mi?mi.equalsOrNull(e.leftchar,i.leftchar)&&mi.equalsOrNull(e.rightchar,i.rightchar)&&mi.equalsOrNull(e.finderpattern,i.finderpattern):!1}static equalsOrNull(e,i){return e===null?i===null:mi.equals(e,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fl{constructor(e,i,a){this.pairs=e,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,i){return e instanceof fl?this.checkEqualitity(e,i)&&e.wasReversed===i.wasReversed:!1}checkEqualitity(e,i){if(!e||!i)return;let a;return e.forEach((l,s)=>{i.forEach(o=>{l.getLeftChar().getValue()===o.getLeftChar().getValue()&&l.getRightChar().getValue()===o.getRightChar().getValue()&&l.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(a=!0)})}),a}}class it extends an{constructor(e){super(...arguments),this.pairs=new Array(it.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,i,a){this.pairs.length=0,this.startFromEven=!1;try{return it.constructResult(this.decodeRow2pairs(e,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,it.constructResult(this.decodeRow2pairs(e,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,e))}catch(s){if(s instanceof G){if(!this.pairs.length)throw new G;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new G}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return e&&(this.rows=this.rows.reverse()),i}checkRows(e,i){for(let a=i;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let o of e)this.pairs.push(o.getPairs());if(this.pairs.push(l.getPairs()),!it.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(l);try{return this.checkRows(s,a+1)}catch(o){this.verbose&&console.log(o)}}throw new G}static isValidSequence(e){for(let i of it.FINDER_PATTERN_SEQUENCES){if(e.length>i.length)continue;let a=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=i[l]){a=!1;break}if(a)return!0}return!1}storeRow(e,i){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let o=this.rows[a];if(o.getRowNumber()>e){s=o.isEquivalent(this.pairs);break}l=o.isEquivalent(this.pairs),a++}s||l||it.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new fl(this.pairs,e,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,i){for(let a of i)if(a.getPairs().length!==e.length){for(let l of a.getPairs())for(let s of e)if(mi.equals(l,s))break}}static isPartialRow(e,i){for(let a of i){let l=!0;for(let s of e){let o=!1;for(let c of a.getPairs())if(s.equals(c)){o=!0;break}if(!o){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let i=An.buildBitArray(e),l=cl(i).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),o=e[e.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new gt(l,null,null,c,K.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),i=e.getLeftChar(),a=e.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let h=this.pairs.get(c);l+=h.getLeftChar().getChecksumPortion(),s++;let g=h.getRightChar();g!=null&&(l+=g.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==i.getValue()}static getNextSecondBar(e,i){let a;return e.get(i)?(a=e.getNextUnset(i),a=e.getNextSet(a)):(a=e.getNextSet(i),a=e.getNextUnset(a)),a}retrieveNextPair(e,i,a){let l=i.length%2==0;this.startFromEven&&(l=!l);let s,o=!0,c=-1;do this.findNextPair(e,i,c),s=this.parseFoundFinderPattern(e,a,l),s==null?c=it.getNextSecondBar(e,this.startEnd[0]):o=!1;while(o);let h=this.decodeDataCharacter(e,s,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new G;let g;try{g=this.decodeDataCharacter(e,s,l,!1)}catch(x){g=null,this.verbose&&console.log(x)}return new mi(h,g,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),o;a>=0?o=a:this.isEmptyPair(i)?o=0:o=i[i.length-1].getFinderPattern().getStartEnd()[1];let c=i.length%2!=0;this.startFromEven&&(c=!c);let h=!1;for(;o<s&&(h=!e.get(o),!!h);)o++;let g=0,x=o;for(let w=o;w<s;w++)if(e.get(w)!=h)l[g]++;else{if(g==3){if(c&&it.reverseCounters(l),it.isFinderPattern(l)){this.startEnd[0]=x,this.startEnd[1]=w;return}c&&it.reverseCounters(l),x+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,h=!h}throw new G}static reverseCounters(e){let i=e.length;for(let a=0;a<i/2;++a){let l=e[a];e[a]=e[i-a-1],e[i-a-1]=l}}parseFoundFinderPattern(e,i,a){let l,s,o;if(a){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,l=this.startEnd[0]-g,s=g,o=this.startEnd[1]}else s=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),l=o-this.startEnd[1];let c=this.getDecodeFinderCounters();It.arraycopy(c,0,c,1,c.length-1),c[0]=l;let h;try{h=this.parseFinderValue(c,it.FINDER_PATTERNS)}catch{return null}return new wr(h,[s,o],s,o,i)}decodeDataCharacter(e,i,a,l){let s=this.getDataCharacterCounters();for(let be=0;be<s.length;be++)s[be]=0;if(l)it.recordPatternInReverse(e,i.getStartEnd()[0],s);else{it.recordPattern(e,i.getStartEnd()[1],s);for(let be=0,gn=s.length-1;be<gn;be++,gn--){let Bn=s[be];s[be]=s[gn],s[gn]=Bn}}let o=17,c=ae.sum(new Int32Array(s))/o,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new G;let g=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let be=0;be<s.length;be++){let gn=1*s[be]/c,Bn=gn+.5;if(Bn<1){if(gn<.3)throw new G;Bn=1}else if(Bn>8){if(gn>8.7)throw new G;Bn=8}let qi=be/2;(be&1)==0?(g[qi]=Bn,w[qi]=gn-Bn):(x[qi]=Bn,S[qi]=gn-Bn)}this.adjustOddEvenCounts(o);let N=4*i.getValue()+(a?0:2)+(l?0:1)-1,I=0,M=0;for(let be=g.length-1;be>=0;be--){if(it.isNotA1left(i,a,l)){let gn=it.WEIGHTS[N][2*be];M+=g[be]*gn}I+=g[be]}let U=0;for(let be=x.length-1;be>=0;be--)if(it.isNotA1left(i,a,l)){let gn=it.WEIGHTS[N][2*be+1];U+=x[be]*gn}let X=M+U;if((I&1)!=0||I>13||I<4)throw new G;let st=(13-I)/2,ut=it.SYMBOL_WIDEST[st],lt=9-ut,Vt=on.getRSSvalue(g,ut,!0),Pt=on.getRSSvalue(x,lt,!1),Tn=it.EVEN_TOTAL_SUBSET[st],Vn=it.GSUM[st],Mn=Vt*Tn+Pt+Vn;return new Gi(Mn,X)}static isNotA1left(e,i,a){return!(e.getValue()==0&&i&&a)}adjustOddEvenCounts(e){let i=ae.sum(new Int32Array(this.getOddCounts())),a=ae.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;i>13?s=!0:i<4&&(l=!0);let o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);let h=i+a-e,g=(i&1)==1,x=(a&1)==0;if(h==1)if(g){if(x)throw new G;s=!0}else{if(!x)throw new G;c=!0}else if(h==-1)if(g){if(x)throw new G;l=!0}else{if(!x)throw new G;o=!0}else if(h==0){if(g){if(!x)throw new G;i<a?(l=!0,c=!0):(s=!0,o=!0)}else if(x)throw new G}else throw new G;if(l){if(s)throw new G;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new G;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.SYMBOL_WIDEST=[7,5,4,3,1],it.EVEN_TOTAL_SUBSET=[4,20,52,104,204],it.GSUM=[0,348,1388,2948,3988],it.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],it.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],it.FINDER_PAT_A=0,it.FINDER_PAT_B=1,it.FINDER_PAT_C=2,it.FINDER_PAT_D=3,it.FINDER_PAT_E=4,it.FINDER_PAT_F=5,it.FINDER_PATTERN_SEQUENCES=[[it.FINDER_PAT_A,it.FINDER_PAT_A],[it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B],[it.FINDER_PAT_A,it.FINDER_PAT_C,it.FINDER_PAT_B,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_C],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F]],it.MAX_PAIRS=11;class yr extends Gi{constructor(e,i,a){super(e,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class de extends an{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,i,a){const l=this.decodePair(i,!1,e,a);de.addOrTally(this.possibleLeftPairs,l),i.reverse();let s=this.decodePair(i,!0,e,a);de.addOrTally(this.possibleRightPairs,s),i.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&de.checkChecksum(o,c))return de.constructResult(o,c)}throw new G}static addOrTally(e,i){if(i==null)return;let a=!1;for(let l of e)if(l.getValue()===i.getValue()){l.incrementCount(),a=!0;break}a||e.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,i){let a=4537077*e.getValue()+i.getValue(),l=new String(a).toString(),s=new Xt;for(let g=13-l.length;g>0;g--)s.append("0");s.append(l);let o=0;for(let g=0;g<13;g++){let x=s.charAt(g).charCodeAt(0)-48;o+=(g&1)===0?3*x:x}o=10-o%10,o===10&&(o=0),s.append(o.toString());let c=e.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new gt(s.toString(),null,0,[c[0],c[1],h[0],h[1]],K.RSS_14,new Date().getTime())}static checkChecksum(e,i){let a=(e.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(e,i,a,l){try{let s=this.findFinderPattern(e,i),o=this.parseFoundFinderPattern(e,a,i,s),c=l==null?null:l.get(Mt.NEED_RESULT_POINT_CALLBACK);if(c!=null){let x=(s[0]+s[1])/2;i&&(x=e.getSize()-1-x),c.foundPossibleResultPoint(new yt(x,a))}let h=this.decodeDataCharacter(e,o,!0),g=this.decodeDataCharacter(e,o,!1);return new yr(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),o)}catch{return null}}decodeDataCharacter(e,i,a){let l=this.getDataCharacterCounters();for(let U=0;U<l.length;U++)l[U]=0;if(a)ke.recordPatternInReverse(e,i.getStartEnd()[0],l);else{ke.recordPattern(e,i.getStartEnd()[1]+1,l);for(let U=0,X=l.length-1;U<X;U++,X--){let st=l[U];l[U]=l[X],l[X]=st}}let s=a?16:15,o=ae.sum(new Int32Array(l))/s,c=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let U=0;U<l.length;U++){let X=l[U]/o,st=Math.floor(X+.5);st<1?st=1:st>8&&(st=8);let ut=Math.floor(U/2);(U&1)===0?(c[ut]=st,g[ut]=X-st):(h[ut]=st,x[ut]=X-st)}this.adjustOddEvenCounts(a,s);let w=0,S=0;for(let U=c.length-1;U>=0;U--)S*=9,S+=c[U],w+=c[U];let N=0,I=0;for(let U=h.length-1;U>=0;U--)N*=9,N+=h[U],I+=h[U];let M=S+3*N;if(a){if((w&1)!==0||w>12||w<4)throw new G;let U=(12-w)/2,X=de.OUTSIDE_ODD_WIDEST[U],st=9-X,ut=on.getRSSvalue(c,X,!1),lt=on.getRSSvalue(h,st,!0),Vt=de.OUTSIDE_EVEN_TOTAL_SUBSET[U],Pt=de.OUTSIDE_GSUM[U];return new Gi(ut*Vt+lt+Pt,M)}else{if((I&1)!==0||I>10||I<4)throw new G;let U=(10-I)/2,X=de.INSIDE_ODD_WIDEST[U],st=9-X,ut=on.getRSSvalue(c,X,!0),lt=on.getRSSvalue(h,st,!1),Vt=de.INSIDE_ODD_TOTAL_SUBSET[U],Pt=de.INSIDE_GSUM[U];return new Gi(lt*Vt+ut+Pt,M)}}findFinderPattern(e,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=e.getSize(),s=!1,o=0;for(;o<l&&(s=!e.get(o),i!==s);)o++;let c=0,h=o;for(let g=o;g<l;g++)if(e.get(g)!==s)a[c]++;else{if(c===3){if(an.isFinderPattern(a))return[h,g];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new G}parseFoundFinderPattern(e,i,a,l){let s=e.get(l[0]),o=l[0]-1;for(;o>=0&&s!==e.get(o);)o--;o++;const c=l[0]-o,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);It.arraycopy(h,0,g,1,h.length-1),g[0]=c;const x=this.parseFinderValue(g,de.FINDER_PATTERNS);let w=o,S=l[1];return a&&(w=e.getSize()-1-w,S=e.getSize()-1-S),new wr(x,[o,l[1]],w,S,i)}adjustOddEvenCounts(e,i){let a=ae.sum(new Int32Array(this.getOddCounts())),l=ae.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,h=!1;e?(a>12?o=!0:a<4&&(s=!0),l>12?h=!0:l<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),l>10?h=!0:l<4&&(c=!0));let g=a+l-i,x=(a&1)===(e?1:0),w=(l&1)===1;if(g===1)if(x){if(w)throw new G;o=!0}else{if(!w)throw new G;h=!0}else if(g===-1)if(x){if(w)throw new G;s=!0}else{if(!w)throw new G;c=!0}else if(g===0){if(x){if(!w)throw new G;a<l?(s=!0,h=!0):(o=!0,c=!0)}else if(w)throw new G}else throw new G;if(s){if(o)throw new G;an.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&an.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new G;an.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&an.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],de.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],de.OUTSIDE_GSUM=[0,161,961,2015,2715],de.INSIDE_GSUM=[0,336,1036,1516],de.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],de.INSIDE_ODD_WIDEST=[2,4,6,8],de.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ti extends ke{constructor(e,i){super(),this.readers=[],this.verbose=i===!0;const a=e?e.get(Mt.POSSIBLE_FORMATS):null,l=e&&e.get(Mt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(K.EAN_13)||a.includes(K.UPC_A)||a.includes(K.EAN_8)||a.includes(K.UPC_E))&&this.readers.push(new Ya(e)),a.includes(K.CODE_39)&&this.readers.push(new De(l)),a.includes(K.CODE_128)&&this.readers.push(new ft),a.includes(K.ITF)&&this.readers.push(new he),a.includes(K.RSS_14)&&this.readers.push(new de),a.includes(K.RSS_EXPANDED)&&this.readers.push(new it(this.verbose))):(this.readers.push(new Ya(e)),this.readers.push(new De),this.readers.push(new Ya(e)),this.readers.push(new ft),this.readers.push(new he),this.readers.push(new de),this.readers.push(new it(this.verbose)))}decodeRow(e,i,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,i,a)}catch{}throw new G}reset(){this.readers.forEach(e=>e.reset())}}class cs extends ht{constructor(e=500,i){super(new Ti(i),e,i)}}class ee{constructor(e,i,a){this.ecCodewords=e,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ue{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qt{constructor(e,i,a,l,s,o){this.versionNumber=e,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=o;let c=0;const h=o.getECCodewords(),g=o.getECBlocks();for(let x of g)c+=x.getCount()*(x.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,i){if((e&1)!==0||(i&1)!==0)throw new tt;for(let a of Qt.VERSIONS)if(a.symbolSizeRows===e&&a.symbolSizeColumns===i)return a;throw new tt}toString(){return""+this.versionNumber}static buildVersions(){return[new Qt(1,10,10,8,8,new ee(5,new ue(1,3))),new Qt(2,12,12,10,10,new ee(7,new ue(1,5))),new Qt(3,14,14,12,12,new ee(10,new ue(1,8))),new Qt(4,16,16,14,14,new ee(12,new ue(1,12))),new Qt(5,18,18,16,16,new ee(14,new ue(1,18))),new Qt(6,20,20,18,18,new ee(18,new ue(1,22))),new Qt(7,22,22,20,20,new ee(20,new ue(1,30))),new Qt(8,24,24,22,22,new ee(24,new ue(1,36))),new Qt(9,26,26,24,24,new ee(28,new ue(1,44))),new Qt(10,32,32,14,14,new ee(36,new ue(1,62))),new Qt(11,36,36,16,16,new ee(42,new ue(1,86))),new Qt(12,40,40,18,18,new ee(48,new ue(1,114))),new Qt(13,44,44,20,20,new ee(56,new ue(1,144))),new Qt(14,48,48,22,22,new ee(68,new ue(1,174))),new Qt(15,52,52,24,24,new ee(42,new ue(2,102))),new Qt(16,64,64,14,14,new ee(56,new ue(2,140))),new Qt(17,72,72,16,16,new ee(36,new ue(4,92))),new Qt(18,80,80,18,18,new ee(48,new ue(4,114))),new Qt(19,88,88,20,20,new ee(56,new ue(4,144))),new Qt(20,96,96,22,22,new ee(68,new ue(4,174))),new Qt(21,104,104,24,24,new ee(56,new ue(6,136))),new Qt(22,120,120,18,18,new ee(68,new ue(6,175))),new Qt(23,132,132,20,20,new ee(62,new ue(8,163))),new Qt(24,144,144,22,22,new ee(62,new ue(8,156),new ue(2,155))),new Qt(25,8,18,6,16,new ee(7,new ue(1,5))),new Qt(26,8,32,6,14,new ee(11,new ue(1,10))),new Qt(27,12,26,10,24,new ee(14,new ue(1,16))),new Qt(28,12,36,10,16,new ee(18,new ue(1,22))),new Qt(29,16,36,14,16,new ee(24,new ue(1,32))),new Qt(30,16,48,14,22,new ee(28,new ue(1,49)))]}}Qt.VERSIONS=Qt.buildVersions();class hl{constructor(e){const i=e.getHeight();if(i<8||i>144||(i&1)!==0)throw new tt;this.version=hl.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new xe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const i=e.getHeight(),a=e.getWidth();return Qt.getVersionForDimensions(i,a)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let c=!1,h=!1,g=!1,x=!1;do if(a===s&&l===0&&!c)e[i++]=this.readCorner1(s,o)&255,a-=2,l+=2,c=!0;else if(a===s-2&&l===0&&(o&3)!==0&&!h)e[i++]=this.readCorner2(s,o)&255,a-=2,l+=2,h=!0;else if(a===s+4&&l===2&&(o&7)===0&&!g)e[i++]=this.readCorner3(s,o)&255,a-=2,l+=2,g=!0;else if(a===s-2&&l===0&&(o&7)===4&&!x)e[i++]=this.readCorner4(s,o)&255,a-=2,l+=2,x=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(e[i++]=this.readUtah(a,l,s,o)&255),a-=2,l+=2;while(a>=0&&l<o);a+=1,l+=3;do a>=0&&l<o&&!this.readMappingMatrix.get(l,a)&&(e[i++]=this.readUtah(a,l,s,o)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<o);if(i!==this.version.getTotalCodewords())throw new tt;return e}readModule(e,i,a,l){return e<0&&(e+=a,i+=4-(a+4&7)),i<0&&(i+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(i,e),this.mappingBitMatrix.get(i,e)}readUtah(e,i,a,l){let s=0;return this.readModule(e-2,i-2,a,l)&&(s|=1),s<<=1,this.readModule(e-2,i-1,a,l)&&(s|=1),s<<=1,this.readModule(e-1,i-2,a,l)&&(s|=1),s<<=1,this.readModule(e-1,i-1,a,l)&&(s|=1),s<<=1,this.readModule(e-1,i,a,l)&&(s|=1),s<<=1,this.readModule(e,i-2,a,l)&&(s|=1),s<<=1,this.readModule(e,i-1,a,l)&&(s|=1),s<<=1,this.readModule(e,i,a,l)&&(s|=1),s}readCorner1(e,i){let a=0;return this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,1,e,i)&&(a|=1),a<<=1,this.readModule(e-1,2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a<<=1,this.readModule(2,i-1,e,i)&&(a|=1),a<<=1,this.readModule(3,i-1,e,i)&&(a|=1),a}readCorner2(e,i){let a=0;return this.readModule(e-3,0,e,i)&&(a|=1),a<<=1,this.readModule(e-2,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(0,i-4,e,i)&&(a|=1),a<<=1,this.readModule(0,i-3,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a}readCorner3(e,i){let a=0;return this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,i-1,e,i)&&(a|=1),a<<=1,this.readModule(0,i-3,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-3,e,i)&&(a|=1),a<<=1,this.readModule(1,i-2,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a}readCorner4(e,i){let a=0;return this.readModule(e-3,0,e,i)&&(a|=1),a<<=1,this.readModule(e-2,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a<<=1,this.readModule(2,i-1,e,i)&&(a|=1),a<<=1,this.readModule(3,i-1,e,i)&&(a|=1),a}extractDataRegion(e){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==i)throw new Z("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),o=i/l|0,c=a/s|0,h=o*l,g=c*s,x=new xe(g,h);for(let w=0;w<o;++w){const S=w*l;for(let N=0;N<c;++N){const I=N*s;for(let M=0;M<l;++M){const U=w*(l+2)+1+M,X=S+M;for(let st=0;st<s;++st){const ut=N*(s+2)+1+st;if(e.get(ut,U)){const lt=I+st;x.set(lt,X)}}}}}return x}}class Cr{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i){const a=i.getECBlocks();let l=0;const s=a.getECBlocks();for(let M of s)l+=M.getCount();const o=new Array(l);let c=0;for(let M of s)for(let U=0;U<M.getCount();U++){const X=M.getDataCodewords(),st=a.getECCodewords()+X;o[c++]=new Cr(X,new Uint8Array(st))}const g=o[0].codewords.length-a.getECCodewords(),x=g-1;let w=0;for(let M=0;M<x;M++)for(let U=0;U<c;U++)o[U].codewords[M]=e[w++];const S=i.getVersionNumber()===24,N=S?8:c;for(let M=0;M<N;M++)o[M].codewords[g-1]=e[w++];const I=o[0].codewords.length;for(let M=g;M<I;M++)for(let U=0;U<c;U++){const X=S?(U+8)%c:U,st=S&&X>7?M-1:M;o[X].codewords[st]=e[w++]}if(w!==e.length)throw new Z;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Rn{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new Z(""+e);let i=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const o=8-a,c=e<o?e:o,h=o-c,g=255>>8-c<<h;i=(s[l]&g)>>h,e-=c,a+=c,a===8&&(a=0,l++)}if(e>0){for(;e>=8;)i=i<<8|s[l]&255,l++,e-=8;if(e>0){const o=8-e,c=255>>o<<o;i=i<<e|(s[l]&c)>>o,a+=e}}return this.bitOffset=a,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var qe;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(qe||(qe={}));class vi{static decode(e){const i=new Rn(e),a=new Xt,l=new Xt,s=new Array;let o=qe.ASCII_ENCODE;do if(o===qe.ASCII_ENCODE)o=this.decodeAsciiSegment(i,a,l);else{switch(o){case qe.C40_ENCODE:this.decodeC40Segment(i,a);break;case qe.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case qe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case qe.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case qe.BASE256_ENCODE:this.decodeBase256Segment(i,a,s);break;default:throw new tt}o=qe.ASCII_ENCODE}while(o!==qe.PAD_ENCODE&&i.available()>0);return l.length()>0&&a.append(l.toString()),new ze(e,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,i,a){let l=!1;do{let s=e.readBits(8);if(s===0)throw new tt;if(s<=128)return l&&(s+=128),i.append(String.fromCharCode(s-1)),qe.ASCII_ENCODE;if(s===129)return qe.PAD_ENCODE;if(s<=229){const o=s-130;o<10&&i.append("0"),i.append(""+o)}else switch(s){case 230:return qe.C40_ENCODE;case 231:return qe.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return qe.ANSIX12_ENCODE;case 239:return qe.TEXT_ENCODE;case 240:return qe.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new tt;break}}while(e.available()>0);return qe.ASCII_ENCODE}static decodeC40Segment(e,i){let a=!1;const l=[];let s=0;do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else throw new tt;break;case 1:a?(i.append(String.fromCharCode(h+128)),a=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else switch(h){case 27:i.append("");break;case 30:a=!0;break;default:throw new tt}s=0;break;case 3:a?(i.append(String.fromCharCode(h+224)),a=!1):i.append(String.fromCharCode(h+96)),s=0;break;default:throw new tt}}}while(e.available()>0)}static decodeTextSegment(e,i){let a=!1,l=[],s=0;do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else throw new tt;break;case 1:a?(i.append(String.fromCharCode(h+128)),a=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else switch(h){case 27:i.append("");break;case 30:a=!0;break;default:throw new tt}s=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g),s=0}else throw new tt;break;default:throw new tt}}}while(e.available()>0)}static decodeAnsiX12Segment(e,i){const a=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(let s=0;s<3;s++){const o=a[s];switch(o){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(o<14)i.append(String.fromCharCode(o+44));else if(o<40)i.append(String.fromCharCode(o+51));else throw new tt;break}}}while(e.available()>0)}static parseTwoBytes(e,i,a){let l=(e<<8)+i-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(e,i){do{if(e.available()<=16)return;for(let a=0;a<4;a++){let l=e.readBits(6);if(l===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,i,a){let l=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),l++);let o;if(s===0?o=e.available()/8|0:s<250?o=s:o=250*(s-249)+this.unrandomize255State(e.readBits(8),l++),o<0)throw new tt;const c=new Uint8Array(o);for(let h=0;h<o;h++){if(e.available()<8)throw new tt;c[h]=this.unrandomize255State(e.readBits(8),l++)}a.push(c);try{i.append(jt.decode(c,mt.ISO88591))}catch(h){throw new ai("Platform does not support required encoding: "+h.message)}}static unrandomize255State(e,i){const a=149*i%255+1,l=e-a;return l>=0?l:l+256}}vi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],vi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],vi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],vi.TEXT_SHIFT2_SET_CHARS=vi.C40_SHIFT2_SET_CHARS,vi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class br{constructor(){this.rsDecoder=new Ga(le.DATA_MATRIX_FIELD_256)}decode(e){const i=new hl(e),a=i.getVersion(),l=i.readCodewords(),s=Cr.getDataBlocks(l,a);let o=0;for(let g of s)o+=g.getNumDataCodewords();const c=new Uint8Array(o),h=s.length;for(let g=0;g<h;g++){const x=s[g],w=x.getCodewords(),S=x.getNumDataCodewords();this.correctErrors(w,S);for(let N=0;N<S;N++)c[N*h+g]=w[N]}return vi.decode(c)}correctErrors(e,i){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-i)}catch{throw new St}for(let l=0;l<i;l++)e[l]=a[l]}}class Pe{constructor(e){this.image=e,this.rectangleDetector=new gi(this.image)}detect(){const e=this.rectangleDetector.detect();let i=this.detectSolid1(e);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new G;i=this.shiftToModuleCenter(i);const a=i[0],l=i[1],s=i[2],o=i[3];let c=this.transitionsBetween(a,o)+1,h=this.transitionsBetween(s,o)+1;(c&1)===1&&(c+=1),(h&1)===1&&(h+=1),4*c<7*h&&4*h<7*c&&(c=h=Math.max(c,h));let g=Pe.sampleGrid(this.image,a,l,s,o,c,h);return new mr(g,[a,l,s,o])}static shiftPoint(e,i,a){let l=(i.getX()-e.getX())/(a+1),s=(i.getY()-e.getY())/(a+1);return new yt(e.getX()+l,e.getY()+s)}static moveAway(e,i,a){let l=e.getX(),s=e.getY();return l<i?l-=1:l+=1,s<a?s-=1:s+=1,new yt(l,s)}detectSolid1(e){let i=e[0],a=e[1],l=e[3],s=e[2],o=this.transitionsBetween(i,a),c=this.transitionsBetween(a,l),h=this.transitionsBetween(l,s),g=this.transitionsBetween(s,i),x=o,w=[s,i,a,l];return x>c&&(x=c,w[0]=i,w[1]=a,w[2]=l,w[3]=s),x>h&&(x=h,w[0]=a,w[1]=l,w[2]=s,w[3]=i),x>g&&(w[0]=l,w[1]=s,w[2]=i,w[3]=a),w}detectSolid2(e){let i=e[0],a=e[1],l=e[2],s=e[3],o=this.transitionsBetween(i,s),c=Pe.shiftPoint(a,l,(o+1)*4),h=Pe.shiftPoint(l,a,(o+1)*4),g=this.transitionsBetween(c,i),x=this.transitionsBetween(h,s);return g<x?(e[0]=i,e[1]=a,e[2]=l,e[3]=s):(e[0]=a,e[1]=l,e[2]=s,e[3]=i),e}correctTopRight(e){let i=e[0],a=e[1],l=e[2],s=e[3],o=this.transitionsBetween(i,s),c=this.transitionsBetween(a,s),h=Pe.shiftPoint(i,a,(c+1)*4),g=Pe.shiftPoint(l,a,(o+1)*4);o=this.transitionsBetween(h,s),c=this.transitionsBetween(g,s);let x=new yt(s.getX()+(l.getX()-a.getX())/(o+1),s.getY()+(l.getY()-a.getY())/(o+1)),w=new yt(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1));if(!this.isValid(x))return this.isValid(w)?w:null;if(!this.isValid(w))return x;let S=this.transitionsBetween(h,x)+this.transitionsBetween(g,x),N=this.transitionsBetween(h,w)+this.transitionsBetween(g,w);return S>N?x:w}shiftToModuleCenter(e){let i=e[0],a=e[1],l=e[2],s=e[3],o=this.transitionsBetween(i,s)+1,c=this.transitionsBetween(l,s)+1,h=Pe.shiftPoint(i,a,c*4),g=Pe.shiftPoint(l,a,o*4);o=this.transitionsBetween(h,s)+1,c=this.transitionsBetween(g,s)+1,(o&1)===1&&(o+=1),(c&1)===1&&(c+=1);let x=(i.getX()+a.getX()+l.getX()+s.getX())/4,w=(i.getY()+a.getY()+l.getY()+s.getY())/4;i=Pe.moveAway(i,x,w),a=Pe.moveAway(a,x,w),l=Pe.moveAway(l,x,w),s=Pe.moveAway(s,x,w);let S,N;return h=Pe.shiftPoint(i,a,c*4),h=Pe.shiftPoint(h,s,o*4),S=Pe.shiftPoint(a,i,c*4),S=Pe.shiftPoint(S,l,o*4),g=Pe.shiftPoint(l,s,c*4),g=Pe.shiftPoint(g,a,o*4),N=Pe.shiftPoint(s,l,c*4),N=Pe.shiftPoint(N,i,o*4),[h,S,g,N]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,i,a,l,s,o,c){return pn.getInstance().sampleGrid(e,o,c,.5,.5,o-.5,.5,o-.5,c-.5,.5,c-.5,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(e,i){let a=Math.trunc(e.getX()),l=Math.trunc(e.getY()),s=Math.trunc(i.getX()),o=Math.trunc(i.getY()),c=Math.abs(o-l)>Math.abs(s-a);if(c){let M=a;a=l,l=M,M=s,s=o,o=M}let h=Math.abs(s-a),g=Math.abs(o-l),x=-h/2,w=l<o?1:-1,S=a<s?1:-1,N=0,I=this.image.get(c?l:a,c?a:l);for(let M=a,U=l;M!==s;M+=S){let X=this.image.get(c?U:M,c?M:U);if(X!==I&&(N++,I=X),x+=g,x>0){if(U===o)break;U+=w,x-=h}}return N}}class Qn{constructor(){this.decoder=new br}decode(e,i=null){let a,l;if(i!=null&&i.has(Mt.PURE_BARCODE)){const g=Qn.extractPureBits(e.getBlackMatrix());a=this.decoder.decode(g),l=Qn.NO_POINTS}else{const g=new Pe(e.getBlackMatrix()).detect();a=this.decoder.decode(g.getBits()),l=g.getPoints()}const s=a.getRawBytes(),o=new gt(a.getText(),s,8*s.length,l,K.DATA_MATRIX,It.currentTimeMillis()),c=a.getByteSegments();c!=null&&o.putMetadata(Tt.BYTE_SEGMENTS,c);const h=a.getECLevel();return h!=null&&o.putMetadata(Tt.ERROR_CORRECTION_LEVEL,h),o}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(i==null||a==null)throw new G;const l=this.moduleSize(i,e);let s=i[1];const o=a[1];let c=i[0];const g=(a[0]-c+1)/l,x=(o-s+1)/l;if(g<=0||x<=0)throw new G;const w=l/2;s+=w,c+=w;const S=new xe(g,x);for(let N=0;N<x;N++){const I=s+N*l;for(let M=0;M<g;M++)e.get(c+M*l,I)&&S.set(M,N)}return S}static moduleSize(e,i){const a=i.getWidth();let l=e[0];const s=e[1];for(;l<a&&i.get(l,s);)l++;if(l===a)throw new G;const o=l-e[0];if(o===0)throw new G;return o}}Qn.NO_POINTS=[];class Su extends ht{constructor(e=500){super(new Qn,e)}}var cn;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(cn||(cn={}));class Ae{constructor(e,i,a){this.value=e,this.stringValue=i,this.bits=a,Ae.FOR_BITS.set(a,this),Ae.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Ae.L;case"M":return Ae.M;case"Q":return Ae.Q;case"H":return Ae.H;default:throw new P(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Ae))return!1;const i=e;return this.value===i.value}static forBits(e){if(e<0||e>=Ae.FOR_BITS.size)throw new Z;return Ae.FOR_BITS.get(e)}}Ae.FOR_BITS=new Map,Ae.FOR_VALUE=new Map,Ae.L=new Ae(cn.L,"L",1),Ae.M=new Ae(cn.M,"M",0),Ae.Q=new Ae(cn.Q,"Q",3),Ae.H=new Ae(cn.H,"H",2);class fn{constructor(e){this.errorCorrectionLevel=Ae.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,i){return ot.bitCount(e^i)}static decodeFormatInformation(e,i){const a=fn.doDecodeFormatInformation(e,i);return a!==null?a:fn.doDecodeFormatInformation(e^fn.FORMAT_INFO_MASK_QR,i^fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,i){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of fn.FORMAT_INFO_DECODE_LOOKUP){const o=s[0];if(o===e||o===i)return new fn(s[1]);let c=fn.numBitsDiffering(e,o);c<a&&(l=s[1],a=c),e!==i&&(c=fn.numBitsDiffering(i,o),c<a&&(l=s[1],a=c))}return a<=3?new fn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof fn))return!1;const i=e;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}fn.FORMAT_INFO_MASK_QR=21522,fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class k{constructor(e,...i){this.ecCodewordsPerBlock=e,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const i=this.ecBlocks;for(const a of i)e+=a.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(e,i,...a){this.versionNumber=e,this.alignmentPatternCenters=i,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),o=a[0].getECBlocks();for(const c of o)l+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new tt;try{return this.getVersionForNumber((e-17)/4)}catch{throw new tt}}static getVersionForNumber(e){if(e<1||e>40)throw new Z;return vt.VERSIONS[e-1]}static decodeVersionInformation(e){let i=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<vt.VERSION_DECODE_INFO.length;l++){const s=vt.VERSION_DECODE_INFO[l];if(s===e)return vt.getVersionForNumber(l+7);const o=fn.numBitsDiffering(e,s);o<i&&(a=l+7,i=o)}return i<=3?vt.getVersionForNumber(a):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),i=new xe(e);i.setRegion(0,0,9,9),i.setRegion(e-8,0,8,9),i.setRegion(0,e-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let o=0;o<a;o++)l===0&&(o===0||o===a-1)||l===a-1&&o===0||i.setRegion(this.alignmentPatternCenters[o]-2,s,5,5)}return i.setRegion(6,9,1,e-17),i.setRegion(9,6,e-17,1),this.versionNumber>6&&(i.setRegion(e-11,0,3,6),i.setRegion(0,e-11,6,3)),i}toString(){return""+this.versionNumber}}vt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vt.VERSIONS=[new vt(1,new Int32Array(0),new k(7,new _(1,19)),new k(10,new _(1,16)),new k(13,new _(1,13)),new k(17,new _(1,9))),new vt(2,Int32Array.from([6,18]),new k(10,new _(1,34)),new k(16,new _(1,28)),new k(22,new _(1,22)),new k(28,new _(1,16))),new vt(3,Int32Array.from([6,22]),new k(15,new _(1,55)),new k(26,new _(1,44)),new k(18,new _(2,17)),new k(22,new _(2,13))),new vt(4,Int32Array.from([6,26]),new k(20,new _(1,80)),new k(18,new _(2,32)),new k(26,new _(2,24)),new k(16,new _(4,9))),new vt(5,Int32Array.from([6,30]),new k(26,new _(1,108)),new k(24,new _(2,43)),new k(18,new _(2,15),new _(2,16)),new k(22,new _(2,11),new _(2,12))),new vt(6,Int32Array.from([6,34]),new k(18,new _(2,68)),new k(16,new _(4,27)),new k(24,new _(4,19)),new k(28,new _(4,15))),new vt(7,Int32Array.from([6,22,38]),new k(20,new _(2,78)),new k(18,new _(4,31)),new k(18,new _(2,14),new _(4,15)),new k(26,new _(4,13),new _(1,14))),new vt(8,Int32Array.from([6,24,42]),new k(24,new _(2,97)),new k(22,new _(2,38),new _(2,39)),new k(22,new _(4,18),new _(2,19)),new k(26,new _(4,14),new _(2,15))),new vt(9,Int32Array.from([6,26,46]),new k(30,new _(2,116)),new k(22,new _(3,36),new _(2,37)),new k(20,new _(4,16),new _(4,17)),new k(24,new _(4,12),new _(4,13))),new vt(10,Int32Array.from([6,28,50]),new k(18,new _(2,68),new _(2,69)),new k(26,new _(4,43),new _(1,44)),new k(24,new _(6,19),new _(2,20)),new k(28,new _(6,15),new _(2,16))),new vt(11,Int32Array.from([6,30,54]),new k(20,new _(4,81)),new k(30,new _(1,50),new _(4,51)),new k(28,new _(4,22),new _(4,23)),new k(24,new _(3,12),new _(8,13))),new vt(12,Int32Array.from([6,32,58]),new k(24,new _(2,92),new _(2,93)),new k(22,new _(6,36),new _(2,37)),new k(26,new _(4,20),new _(6,21)),new k(28,new _(7,14),new _(4,15))),new vt(13,Int32Array.from([6,34,62]),new k(26,new _(4,107)),new k(22,new _(8,37),new _(1,38)),new k(24,new _(8,20),new _(4,21)),new k(22,new _(12,11),new _(4,12))),new vt(14,Int32Array.from([6,26,46,66]),new k(30,new _(3,115),new _(1,116)),new k(24,new _(4,40),new _(5,41)),new k(20,new _(11,16),new _(5,17)),new k(24,new _(11,12),new _(5,13))),new vt(15,Int32Array.from([6,26,48,70]),new k(22,new _(5,87),new _(1,88)),new k(24,new _(5,41),new _(5,42)),new k(30,new _(5,24),new _(7,25)),new k(24,new _(11,12),new _(7,13))),new vt(16,Int32Array.from([6,26,50,74]),new k(24,new _(5,98),new _(1,99)),new k(28,new _(7,45),new _(3,46)),new k(24,new _(15,19),new _(2,20)),new k(30,new _(3,15),new _(13,16))),new vt(17,Int32Array.from([6,30,54,78]),new k(28,new _(1,107),new _(5,108)),new k(28,new _(10,46),new _(1,47)),new k(28,new _(1,22),new _(15,23)),new k(28,new _(2,14),new _(17,15))),new vt(18,Int32Array.from([6,30,56,82]),new k(30,new _(5,120),new _(1,121)),new k(26,new _(9,43),new _(4,44)),new k(28,new _(17,22),new _(1,23)),new k(28,new _(2,14),new _(19,15))),new vt(19,Int32Array.from([6,30,58,86]),new k(28,new _(3,113),new _(4,114)),new k(26,new _(3,44),new _(11,45)),new k(26,new _(17,21),new _(4,22)),new k(26,new _(9,13),new _(16,14))),new vt(20,Int32Array.from([6,34,62,90]),new k(28,new _(3,107),new _(5,108)),new k(26,new _(3,41),new _(13,42)),new k(30,new _(15,24),new _(5,25)),new k(28,new _(15,15),new _(10,16))),new vt(21,Int32Array.from([6,28,50,72,94]),new k(28,new _(4,116),new _(4,117)),new k(26,new _(17,42)),new k(28,new _(17,22),new _(6,23)),new k(30,new _(19,16),new _(6,17))),new vt(22,Int32Array.from([6,26,50,74,98]),new k(28,new _(2,111),new _(7,112)),new k(28,new _(17,46)),new k(30,new _(7,24),new _(16,25)),new k(24,new _(34,13))),new vt(23,Int32Array.from([6,30,54,78,102]),new k(30,new _(4,121),new _(5,122)),new k(28,new _(4,47),new _(14,48)),new k(30,new _(11,24),new _(14,25)),new k(30,new _(16,15),new _(14,16))),new vt(24,Int32Array.from([6,28,54,80,106]),new k(30,new _(6,117),new _(4,118)),new k(28,new _(6,45),new _(14,46)),new k(30,new _(11,24),new _(16,25)),new k(30,new _(30,16),new _(2,17))),new vt(25,Int32Array.from([6,32,58,84,110]),new k(26,new _(8,106),new _(4,107)),new k(28,new _(8,47),new _(13,48)),new k(30,new _(7,24),new _(22,25)),new k(30,new _(22,15),new _(13,16))),new vt(26,Int32Array.from([6,30,58,86,114]),new k(28,new _(10,114),new _(2,115)),new k(28,new _(19,46),new _(4,47)),new k(28,new _(28,22),new _(6,23)),new k(30,new _(33,16),new _(4,17))),new vt(27,Int32Array.from([6,34,62,90,118]),new k(30,new _(8,122),new _(4,123)),new k(28,new _(22,45),new _(3,46)),new k(30,new _(8,23),new _(26,24)),new k(30,new _(12,15),new _(28,16))),new vt(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new _(3,117),new _(10,118)),new k(28,new _(3,45),new _(23,46)),new k(30,new _(4,24),new _(31,25)),new k(30,new _(11,15),new _(31,16))),new vt(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new _(7,116),new _(7,117)),new k(28,new _(21,45),new _(7,46)),new k(30,new _(1,23),new _(37,24)),new k(30,new _(19,15),new _(26,16))),new vt(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new _(5,115),new _(10,116)),new k(28,new _(19,47),new _(10,48)),new k(30,new _(15,24),new _(25,25)),new k(30,new _(23,15),new _(25,16))),new vt(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new _(13,115),new _(3,116)),new k(28,new _(2,46),new _(29,47)),new k(30,new _(42,24),new _(1,25)),new k(30,new _(23,15),new _(28,16))),new vt(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new _(17,115)),new k(28,new _(10,46),new _(23,47)),new k(30,new _(10,24),new _(35,25)),new k(30,new _(19,15),new _(35,16))),new vt(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new _(17,115),new _(1,116)),new k(28,new _(14,46),new _(21,47)),new k(30,new _(29,24),new _(19,25)),new k(30,new _(11,15),new _(46,16))),new vt(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new _(13,115),new _(6,116)),new k(28,new _(14,46),new _(23,47)),new k(30,new _(44,24),new _(7,25)),new k(30,new _(59,16),new _(1,17))),new vt(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new _(12,121),new _(7,122)),new k(28,new _(12,47),new _(26,48)),new k(30,new _(39,24),new _(14,25)),new k(30,new _(22,15),new _(41,16))),new vt(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new _(6,121),new _(14,122)),new k(28,new _(6,47),new _(34,48)),new k(30,new _(46,24),new _(10,25)),new k(30,new _(2,15),new _(64,16))),new vt(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new _(17,122),new _(4,123)),new k(28,new _(29,46),new _(14,47)),new k(30,new _(49,24),new _(10,25)),new k(30,new _(24,15),new _(46,16))),new vt(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new _(4,122),new _(18,123)),new k(28,new _(13,46),new _(32,47)),new k(30,new _(48,24),new _(14,25)),new k(30,new _(42,15),new _(32,16))),new vt(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new _(20,117),new _(4,118)),new k(28,new _(40,47),new _(7,48)),new k(30,new _(43,24),new _(22,25)),new k(30,new _(10,15),new _(67,16))),new vt(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new _(19,118),new _(6,119)),new k(28,new _(18,47),new _(31,48)),new k(30,new _(34,24),new _(34,25)),new k(30,new _(20,15),new _(61,16)))];var Je;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(Je||(Je={}));class hn{constructor(e,i){this.value=e,this.isMasked=i}unmaskBitMatrix(e,i){for(let a=0;a<i;a++)for(let l=0;l<i;l++)this.isMasked(a,l)&&e.flip(l,a)}}hn.values=new Map([[Je.DATA_MASK_000,new hn(Je.DATA_MASK_000,(E,e)=>(E+e&1)===0)],[Je.DATA_MASK_001,new hn(Je.DATA_MASK_001,(E,e)=>(E&1)===0)],[Je.DATA_MASK_010,new hn(Je.DATA_MASK_010,(E,e)=>e%3===0)],[Je.DATA_MASK_011,new hn(Je.DATA_MASK_011,(E,e)=>(E+e)%3===0)],[Je.DATA_MASK_100,new hn(Je.DATA_MASK_100,(E,e)=>(Math.floor(E/2)+Math.floor(e/3)&1)===0)],[Je.DATA_MASK_101,new hn(Je.DATA_MASK_101,(E,e)=>E*e%6===0)],[Je.DATA_MASK_110,new hn(Je.DATA_MASK_110,(E,e)=>E*e%6<3)],[Je.DATA_MASK_111,new hn(Je.DATA_MASK_111,(E,e)=>(E+e+E*e%3&1)===0)]]);class pu{constructor(e){const i=e.getHeight();if(i<21||(i&3)!==1)throw new tt;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const i=this.bitMatrix.getHeight();let a=0;const l=i-7;for(let s=i-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=i-8;s<i;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=fn.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new tt}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),i=Math.floor((e-17)/4);if(i<=6)return vt.getVersionForNumber(i);let a=0;const l=e-11;for(let o=5;o>=0;o--)for(let c=e-9;c>=l;c--)a=this.copyBit(c,o,a);let s=vt.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;a=0;for(let o=5;o>=0;o--)for(let c=e-9;c>=l;c--)a=this.copyBit(o,c,a);if(s=vt.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new tt}copyBit(e,i,a){return(this.isMirror?this.bitMatrix.get(i,e):this.bitMatrix.get(e,i))?a<<1|1:a<<1}readCodewords(){const e=this.readFormatInformation(),i=this.readVersion(),a=hn.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=i.buildFunctionPattern();let o=!0;const c=new Uint8Array(i.getTotalCodewords());let h=0,g=0,x=0;for(let w=l-1;w>0;w-=2){w===6&&w--;for(let S=0;S<l;S++){const N=o?l-1-S:S;for(let I=0;I<2;I++)s.get(w-I,N)||(x++,g<<=1,this.bitMatrix.get(w-I,N)&&(g|=1),x===8&&(c[h++]=g,x=0,g=0))}o=!o}if(h!==i.getTotalCodewords())throw new tt;return c}remask(){if(this.parsedFormatInfo===null)return;const e=hn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,i)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let i=0,a=e.getWidth();i<a;i++)for(let l=i+1,s=e.getHeight();l<s;l++)e.get(i,l)!==e.get(l,i)&&(e.flip(l,i),e.flip(i,l))}}class Sr{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i,a){if(e.length!==i.getTotalCodewords())throw new Z;const l=i.getECBlocksForLevel(a);let s=0;const o=l.getECBlocks();for(const I of o)s+=I.getCount();const c=new Array(s);let h=0;for(const I of o)for(let M=0;M<I.getCount();M++){const U=I.getDataCodewords(),X=l.getECCodewordsPerBlock()+U;c[h++]=new Sr(U,new Uint8Array(X))}const g=c[0].codewords.length;let x=c.length-1;for(;x>=0&&c[x].codewords.length!==g;)x--;x++;const w=g-l.getECCodewordsPerBlock();let S=0;for(let I=0;I<w;I++)for(let M=0;M<h;M++)c[M].codewords[I]=e[S++];for(let I=x;I<h;I++)c[I].codewords[w]=e[S++];const N=c[0].codewords.length;for(let I=w;I<N;I++)for(let M=0;M<h;M++){const U=M<x?I:I+1;c[M].codewords[U]=e[S++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(kn||(kn={}));class Nt{constructor(e,i,a,l){this.value=e,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=l,Nt.FOR_BITS.set(l,this),Nt.FOR_VALUE.set(e,this)}static forBits(e){const i=Nt.FOR_BITS.get(e);if(i===void 0)throw new Z;return i}getCharacterCountBits(e){const i=e.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Nt))return!1;const i=e;return this.value===i.value}toString(){return this.stringValue}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.TERMINATOR=new Nt(kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Nt.NUMERIC=new Nt(kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Nt.ALPHANUMERIC=new Nt(kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Nt.STRUCTURED_APPEND=new Nt(kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Nt.BYTE=new Nt(kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Nt.ECI=new Nt(kn.ECI,"ECI",Int32Array.from([0,0,0]),7),Nt.KANJI=new Nt(kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Nt.FNC1_FIRST_POSITION=new Nt(kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Nt.FNC1_SECOND_POSITION=new Nt(kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Nt.HANZI=new Nt(kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Fe{static decode(e,i,a,l){const s=new Rn(e);let o=new Xt;const c=new Array;let h=-1,g=-1;try{let x=null,w=!1,S;do{if(s.available()<4)S=Nt.TERMINATOR;else{const N=s.readBits(4);S=Nt.forBits(N)}switch(S){case Nt.TERMINATOR:break;case Nt.FNC1_FIRST_POSITION:case Nt.FNC1_SECOND_POSITION:w=!0;break;case Nt.STRUCTURED_APPEND:if(s.available()<16)throw new tt;h=s.readBits(8),g=s.readBits(8);break;case Nt.ECI:const N=Fe.parseECIValue(s);if(x=W.getCharacterSetECIByValue(N),x===null)throw new tt;break;case Nt.HANZI:const I=s.readBits(4),M=s.readBits(S.getCharacterCountBits(i));I===Fe.GB2312_SUBSET&&Fe.decodeHanziSegment(s,o,M);break;default:const U=s.readBits(S.getCharacterCountBits(i));switch(S){case Nt.NUMERIC:Fe.decodeNumericSegment(s,o,U);break;case Nt.ALPHANUMERIC:Fe.decodeAlphanumericSegment(s,o,U,w);break;case Nt.BYTE:Fe.decodeByteSegment(s,o,U,x,c,l);break;case Nt.KANJI:Fe.decodeKanjiSegment(s,o,U);break;default:throw new tt}break}}while(S!==Nt.TERMINATOR)}catch{throw new tt}return new ze(e,o.toString(),c.length===0?null:c,a===null?null:a.toString(),h,g)}static decodeHanziSegment(e,i,a){if(a*13>e.available())throw new tt;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const o=e.readBits(13);let c=o/96<<8&4294967295|o%96;c<959?c+=41377:c+=42657,l[s]=c>>8&255,l[s+1]=c&255,s+=2,a--}try{i.append(jt.decode(l,mt.GB2312))}catch(o){throw new tt(o)}}static decodeKanjiSegment(e,i,a){if(a*13>e.available())throw new tt;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const o=e.readBits(13);let c=o/192<<8&4294967295|o%192;c<7936?c+=33088:c+=49472,l[s]=c>>8,l[s+1]=c,s+=2,a--}try{i.append(jt.decode(l,mt.SHIFT_JIS))}catch(o){throw new tt(o)}}static decodeByteSegment(e,i,a,l,s,o){if(8*a>e.available())throw new tt;const c=new Uint8Array(a);for(let g=0;g<a;g++)c[g]=e.readBits(8);let h;l===null?h=mt.guessEncoding(c,o):h=l.getName();try{i.append(jt.decode(c,h))}catch(g){throw new tt(g)}s.push(c)}static toAlphaNumericChar(e){if(e>=Fe.ALPHANUMERIC_CHARS.length)throw new tt;return Fe.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,i,a,l){const s=i.length();for(;a>1;){if(e.available()<11)throw new tt;const o=e.readBits(11);i.append(Fe.toAlphaNumericChar(Math.floor(o/45))),i.append(Fe.toAlphaNumericChar(o%45)),a-=2}if(a===1){if(e.available()<6)throw new tt;i.append(Fe.toAlphaNumericChar(e.readBits(6)))}if(l)for(let o=s;o<i.length();o++)i.charAt(o)==="%"&&(o<i.length()-1&&i.charAt(o+1)==="%"?i.deleteCharAt(o+1):i.setCharAt(o,""))}static decodeNumericSegment(e,i,a){for(;a>=3;){if(e.available()<10)throw new tt;const l=e.readBits(10);if(l>=1e3)throw new tt;i.append(Fe.toAlphaNumericChar(Math.floor(l/100))),i.append(Fe.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Fe.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(e.available()<7)throw new tt;const l=e.readBits(7);if(l>=100)throw new tt;i.append(Fe.toAlphaNumericChar(Math.floor(l/10))),i.append(Fe.toAlphaNumericChar(l%10))}else if(a===1){if(e.available()<4)throw new tt;const l=e.readBits(4);if(l>=10)throw new tt;i.append(Fe.toAlphaNumericChar(l))}}static parseECIValue(e){const i=e.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=e.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=e.readBits(16);return(i&31)<<16&4294967295|a}throw new tt}}Fe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Fe.GB2312_SUBSET=1;class fs{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const i=e[0];e[0]=e[2],e[2]=i}}class pr{constructor(){this.rsDecoder=new Ga(le.QR_CODE_FIELD_256)}decodeBooleanArray(e,i){return this.decodeBitMatrix(xe.parseFromBooleanArray(e),i)}decodeBitMatrix(e,i){const a=new pu(e);let l=null;try{return this.decodeBitMatrixParser(a,i)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,i);return s.setOther(new fs(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(e,i){const a=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),o=Sr.getDataBlocks(s,a,l);let c=0;for(const x of o)c+=x.getNumDataCodewords();const h=new Uint8Array(c);let g=0;for(const x of o){const w=x.getCodewords(),S=x.getNumDataCodewords();this.correctErrors(w,S);for(let N=0;N<S;N++)h[g++]=w[N]}return Fe.decode(h,a,l,i)}correctErrors(e,i){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-i)}catch{throw new St}for(let l=0;l<i;l++)e[l]=a[l]}}class ja extends yt{constructor(e,i,a){super(e,i),this.estimatedModuleSize=a}aboutEquals(e,i,a){if(Math.abs(i-this.getY())<=e&&Math.abs(a-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,i,a){const l=(this.getX()+i)/2,s=(this.getY()+e)/2,o=(this.estimatedModuleSize+a)/2;return new ja(l,s,o)}}class ca{constructor(e,i,a,l,s,o,c){this.image=e,this.startX=i,this.startY=a,this.width=l,this.height=s,this.moduleSize=o,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,i=this.height,a=this.width,l=e+a,s=this.startY+i/2,o=new Int32Array(3),c=this.image;for(let h=0;h<i;h++){const g=s+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));o[0]=0,o[1]=0,o[2]=0;let x=e;for(;x<l&&!c.get(x,g);)x++;let w=0;for(;x<l;){if(c.get(x,g))if(w===1)o[1]++;else if(w===2){if(this.foundPatternCross(o)){const S=this.handlePossibleCenter(o,g,x);if(S!==null)return S}o[0]=o[2],o[1]=1,o[2]=0,w=1}else o[++w]++;else w===1&&w++,o[w]++;x++}if(this.foundPatternCross(o)){const S=this.handlePossibleCenter(o,g,l);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(e,i){return i-e[2]-e[1]/2}foundPatternCross(e){const i=this.moduleSize,a=i/2;for(let l=0;l<3;l++)if(Math.abs(i-e[l])>=a)return!1;return!0}crossCheckVertical(e,i,a,l){const s=this.image,o=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let h=e;for(;h>=0&&s.get(i,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&!s.get(i,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=e+1;h<o&&s.get(i,h)&&c[1]<=a;)c[1]++,h++;if(h===o||c[1]>a)return NaN;for(;h<o&&!s.get(i,h)&&c[2]<=a;)c[2]++,h++;if(c[2]>a)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-l)>=2*l?NaN:this.foundPatternCross(c)?ca.centerFromEnd(c,h):NaN}handlePossibleCenter(e,i,a){const l=e[0]+e[1]+e[2],s=ca.centerFromEnd(e,a),o=this.crossCheckVertical(i,s,2*e[1],l);if(!isNaN(o)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,o,s))return g.combineEstimate(o,s,c);const h=new ja(s,o,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class _i extends yt{constructor(e,i,a,l){super(e,i),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,i,a){if(Math.abs(i-this.getY())<=e&&Math.abs(a-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,i,a){const l=this.count+1,s=(this.count*this.getX()+i)/l,o=(this.count*this.getY()+e)/l,c=(this.count*this.estimatedModuleSize+a)/l;return new _i(s,o,c,l)}}class fa{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $e{constructor(e,i){this.image=e,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const i=e!=null&&e.get(Mt.TRY_HARDER)!==void 0,a=e!=null&&e.get(Mt.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),o=l.getWidth();let c=Math.floor(3*s/(4*$e.MAX_MODULES));(c<$e.MIN_SKIP||i)&&(c=$e.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let w=c-1;w<s&&!h;w+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let S=0;for(let N=0;N<o;N++)if(l.get(N,w))(S&1)===1&&S++,g[S]++;else if((S&1)===0)if(S===4)if($e.foundPatternCross(g)){if(this.handlePossibleCenter(g,w,N,a)===!0)if(c=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>g[2]&&(w+=M-g[2]-c,N=o-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;continue}S=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;else g[++S]++;else g[S]++;$e.foundPatternCross(g)&&this.handlePossibleCenter(g,w,o,a)===!0&&(c=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return yt.orderBestPatterns(x),new fa(x)}static centerFromEnd(e,i){return i-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let i=0;for(let s=0;s<5;s++){const o=e[s];if(o===0)return!1;i+=o}if(i<7)return!1;const a=i/7,l=a/2;return Math.abs(a-e[0])<l&&Math.abs(a-e[1])<l&&Math.abs(3*a-e[2])<3*l&&Math.abs(a-e[3])<l&&Math.abs(a-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,i,a,l){const s=this.getCrossCheckStateCount();let o=0;const c=this.image;for(;e>=o&&i>=o&&c.get(i-o,e-o);)s[2]++,o++;if(e<o||i<o)return!1;for(;e>=o&&i>=o&&!c.get(i-o,e-o)&&s[1]<=a;)s[1]++,o++;if(e<o||i<o||s[1]>a)return!1;for(;e>=o&&i>=o&&c.get(i-o,e-o)&&s[0]<=a;)s[0]++,o++;if(s[0]>a)return!1;const h=c.getHeight(),g=c.getWidth();for(o=1;e+o<h&&i+o<g&&c.get(i+o,e+o);)s[2]++,o++;if(e+o>=h||i+o>=g)return!1;for(;e+o<h&&i+o<g&&!c.get(i+o,e+o)&&s[3]<a;)s[3]++,o++;if(e+o>=h||i+o>=g||s[3]>=a)return!1;for(;e+o<h&&i+o<g&&c.get(i+o,e+o)&&s[4]<a;)s[4]++,o++;if(s[4]>=a)return!1;const x=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(x-l)<2*l&&$e.foundPatternCross(s)}crossCheckVertical(e,i,a,l){const s=this.image,o=s.getHeight(),c=this.getCrossCheckStateCount();let h=e;for(;h>=0&&s.get(i,h);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(i,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(i,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=e+1;h<o&&s.get(i,h);)c[2]++,h++;if(h===o)return NaN;for(;h<o&&!s.get(i,h)&&c[3]<a;)c[3]++,h++;if(h===o||c[3]>=a)return NaN;for(;h<o&&s.get(i,h)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-l)>=2*l?NaN:$e.foundPatternCross(c)?$e.centerFromEnd(c,h):NaN}crossCheckHorizontal(e,i,a,l){const s=this.image,o=s.getWidth(),c=this.getCrossCheckStateCount();let h=e;for(;h>=0&&s.get(h,i);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,i)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(h,i)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=e+1;h<o&&s.get(h,i);)c[2]++,h++;if(h===o)return NaN;for(;h<o&&!s.get(h,i)&&c[3]<a;)c[3]++,h++;if(h===o||c[3]>=a)return NaN;for(;h<o&&s.get(h,i)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-l)>=l?NaN:$e.foundPatternCross(c)?$e.centerFromEnd(c,h):NaN}handlePossibleCenter(e,i,a,l){const s=e[0]+e[1]+e[2]+e[3]+e[4];let o=$e.centerFromEnd(e,a),c=this.crossCheckVertical(i,Math.floor(o),e[2],s);if(!isNaN(c)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(c),e[2],s),!isNaN(o)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(o),e[2],s)))){const h=s/7;let g=!1;const x=this.possibleCenters;for(let w=0,S=x.length;w<S;w++){const N=x[w];if(N.aboutEquals(h,c,o)){x[w]=N.combineEstimate(c,o,h),g=!0;break}}if(!g){const w=new _i(o,c,h);x.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=$e.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,i=0;const a=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=$e.CENTER_QUORUM&&(e++,i+=o.getEstimatedModuleSize());if(e<3)return!1;const l=i/a;let s=0;for(const o of this.possibleCenters)s+=Math.abs(o.getEstimatedModuleSize()-l);return s<=.05*i}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new G;const i=this.possibleCenters;let a;if(e>3){let l=0,s=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();l+=g,s+=g*g}a=l/e;let o=Math.sqrt(s/e-a*a);i.sort((h,g)=>{const x=Math.abs(g.getEstimatedModuleSize()-a),w=Math.abs(h.getEstimatedModuleSize()-a);return x<w?-1:x>w?1:0});const c=Math.max(.2*a,o);for(let h=0;h<i.length&&i.length>3;h++){const g=i[h];Math.abs(g.getEstimatedModuleSize()-a)>c&&(i.splice(h,1),h--)}}if(i.length>3){let l=0;for(const s of i)l+=s.getEstimatedModuleSize();a=l/i.length,i.sort((s,o)=>{if(o.getCount()===s.getCount()){const c=Math.abs(o.getEstimatedModuleSize()-a),h=Math.abs(s.getEstimatedModuleSize()-a);return c<h?1:c>h?-1:0}else return o.getCount()-s.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}$e.CENTER_QUORUM=2,$e.MIN_SKIP=3,$e.MAX_MODULES=57;class Xi{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Mt.NEED_RESULT_POINT_CALLBACK);const a=new $e(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(a)}processFinderPatternInfo(e){const i=e.getTopLeft(),a=e.getTopRight(),l=e.getBottomLeft(),s=this.calculateModuleSize(i,a,l);if(s<1)throw new G("No pattern found in proccess finder.");const o=Xi.computeDimension(i,a,l,s),c=vt.getProvisionalVersionForDimension(o),h=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const N=a.getX()-i.getX()+l.getX(),I=a.getY()-i.getY()+l.getY(),M=1-3/h,U=Math.floor(i.getX()+M*(N-i.getX())),X=Math.floor(i.getY()+M*(I-i.getY()));for(let st=4;st<=16;st<<=1)try{g=this.findAlignmentInRegion(s,U,X,st);break}catch(ut){if(!(ut instanceof G))throw ut}}const x=Xi.createTransform(i,a,l,g,o),w=Xi.sampleGrid(this.image,x,o);let S;return g===null?S=[l,i,a]:S=[l,i,a,g],new mr(w,S)}static createTransform(e,i,a,l,s){const o=s-3.5;let c,h,g,x;return l!==null?(c=l.getX(),h=l.getY(),g=o-3,x=g):(c=i.getX()-e.getX()+a.getX(),h=i.getY()-e.getY()+a.getY(),g=o,x=o),Sn.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,g,x,3.5,o,e.getX(),e.getY(),i.getX(),i.getY(),c,h,a.getX(),a.getY())}static sampleGrid(e,i,a){return pn.getInstance().sampleGridWithTransform(e,a,a,i)}static computeDimension(e,i,a,l){const s=ae.round(yt.distance(e,i)/l),o=ae.round(yt.distance(e,a)/l);let c=Math.floor((s+o)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new G("Dimensions could be not found.")}return c}calculateModuleSize(e,i,a){return(this.calculateModuleSizeOneWay(e,i)+this.calculateModuleSizeOneWay(e,a))/2}calculateModuleSizeOneWay(e,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,i,a,l){let s=this.sizeOfBlackWhiteBlackRun(e,i,a,l),o=1,c=e-(a-e);c<0?(o=e/(e-c),c=0):c>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let h=Math.floor(i-(l-i)*o);return o=1,h<0?(o=i/(i-h),h=0):h>=this.image.getHeight()&&(o=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),c=Math.floor(e+(c-e)*o),s+=this.sizeOfBlackWhiteBlackRun(e,i,c,h),s-1}sizeOfBlackWhiteBlackRun(e,i,a,l){const s=Math.abs(l-i)>Math.abs(a-e);if(s){let N=e;e=i,i=N,N=a,a=l,l=N}const o=Math.abs(a-e),c=Math.abs(l-i);let h=-o/2;const g=e<a?1:-1,x=i<l?1:-1;let w=0;const S=a+g;for(let N=e,I=i;N!==S;N+=g){const M=s?I:N,U=s?N:I;if(w===1===this.image.get(M,U)){if(w===2)return ae.distance(N,I,e,i);w++}if(h+=c,h>0){if(I===l)break;I+=x,h-=o}}return w===2?ae.distance(a+g,l,e,i):NaN}findAlignmentInRegion(e,i,a,l){const s=Math.floor(l*e),o=Math.max(0,i-s),c=Math.min(this.image.getWidth()-1,i+s);if(c-o<e*3)throw new G("Alignment top exceeds estimated module size.");const h=Math.max(0,a-s),g=Math.min(this.image.getHeight()-1,a+s);if(g-h<e*3)throw new G("Alignment bottom exceeds estimated module size.");return new ca(this.image,o,h,c-o,g-h,e,this.resultPointCallback).find()}}class Ai{constructor(){this.decoder=new pr}getDecoder(){return this.decoder}decode(e,i){let a,l;if(i!=null&&i.get(Mt.PURE_BARCODE)!==void 0){const h=Ai.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(h,i),l=Ai.NO_POINTS}else{const h=new Xi(e.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(h.getBits(),i),l=h.getPoints()}a.getOther()instanceof fs&&a.getOther().applyMirroredCorrection(l);const s=new gt(a.getText(),a.getRawBytes(),void 0,l,K.QR_CODE,void 0),o=a.getByteSegments();o!==null&&s.putMetadata(Tt.BYTE_SEGMENTS,o);const c=a.getECLevel();return c!==null&&s.putMetadata(Tt.ERROR_CORRECTION_LEVEL,c),a.hasStructuredAppend()&&(s.putMetadata(Tt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(Tt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(i===null||a===null)throw new G;const l=this.moduleSize(i,e);let s=i[1],o=a[1],c=i[0],h=a[0];if(c>=h||s>=o)throw new G;if(o-s!==h-c&&(h=c+(o-s),h>=e.getWidth()))throw new G;const g=Math.round((h-c+1)/l),x=Math.round((o-s+1)/l);if(g<=0||x<=0)throw new G;if(x!==g)throw new G;const w=Math.floor(l/2);s+=w,c+=w;const S=c+Math.floor((g-1)*l)-h;if(S>0){if(S>w)throw new G;c-=S}const N=s+Math.floor((x-1)*l)-o;if(N>0){if(N>w)throw new G;s-=N}const I=new xe(g,x);for(let M=0;M<x;M++){const U=s+Math.floor(M*l);for(let X=0;X<g;X++)e.get(c+Math.floor(X*l),U)&&I.set(X,M)}return I}static moduleSize(e,i){const a=i.getHeight(),l=i.getWidth();let s=e[0],o=e[1],c=!0,h=0;for(;s<l&&o<a;){if(c!==i.get(s,o)){if(++h===5)break;c=!c}s++,o++}if(s===l||o===a)throw new G;return(s-e[0])/7}}Ai.NO_POINTS=new Array;class Bt{PDF417Common(){}static getBitCountSum(e){return ae.sum(e)}static toIntArray(e){if(e==null||!e.length)return Bt.EMPTY_INT_ARRAY;const i=new Int32Array(e.length);let a=0;for(const l of e)i[a++]=l;return i}static getCodeword(e){const i=xt.binarySearch(Bt.SYMBOL_TABLE,e&262143);return i<0?-1:(Bt.CODEWORD_TABLE[i]-1)%Bt.NUMBER_OF_CODEWORDS}}Bt.NUMBER_OF_CODEWORDS=929,Bt.MAX_CODEWORDS_IN_BARCODE=Bt.NUMBER_OF_CODEWORDS-1,Bt.MIN_ROWS_IN_BARCODE=3,Bt.MAX_ROWS_IN_BARCODE=90,Bt.MODULES_IN_CODEWORD=17,Bt.MODULES_IN_STOP_PATTERN=18,Bt.BARS_IN_MODULE=8,Bt.EMPTY_INT_ARRAY=new Int32Array([]),Bt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Bt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ei{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Gt{static detectMultiple(e,i,a){let l=e.getBlackMatrix(),s=Gt.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=Gt.detect(a,l)),new Ei(l,s)}static detect(e,i){const a=new Array;let l=0,s=0,o=!1;for(;l<i.getHeight();){const c=Gt.findVertices(i,l,s);if(c[0]==null&&c[3]==null){if(!o)break;o=!1,s=0;for(const h of a)h[1]!=null&&(l=Math.trunc(Math.max(l,h[1].getY()))),h[3]!=null&&(l=Math.max(l,Math.trunc(h[3].getY())));l+=Gt.ROW_STEP;continue}if(o=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return a}static findVertices(e,i,a){const l=e.getHeight(),s=e.getWidth(),o=new Array(8);return Gt.copyToResult(o,Gt.findRowsWithPattern(e,l,s,i,a,Gt.START_PATTERN),Gt.INDEXES_START_PATTERN),o[4]!=null&&(a=Math.trunc(o[4].getX()),i=Math.trunc(o[4].getY())),Gt.copyToResult(o,Gt.findRowsWithPattern(e,l,s,i,a,Gt.STOP_PATTERN),Gt.INDEXES_STOP_PATTERN),o}static copyToResult(e,i,a){for(let l=0;l<a.length;l++)e[a[l]]=i[l]}static findRowsWithPattern(e,i,a,l,s,o){const c=new Array(4);let h=!1;const g=new Int32Array(o.length);for(;l<i;l+=Gt.ROW_STEP){let w=Gt.findGuardPattern(e,s,l,a,!1,o,g);if(w!=null){for(;l>0;){const S=Gt.findGuardPattern(e,s,--l,a,!1,o,g);if(S!=null)w=S;else{l++;break}}c[0]=new yt(w[0],l),c[1]=new yt(w[1],l),h=!0;break}}let x=l+1;if(h){let w=0,S=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;x<i;x++){const N=Gt.findGuardPattern(e,S[0],x,a,!1,o,g);if(N!=null&&Math.abs(S[0]-N[0])<Gt.MAX_PATTERN_DRIFT&&Math.abs(S[1]-N[1])<Gt.MAX_PATTERN_DRIFT)S=N,w=0;else{if(w>Gt.SKIPPED_ROW_COUNT_MAX)break;w++}}x-=w+1,c[2]=new yt(S[0],x),c[3]=new yt(S[1],x)}return x-l<Gt.BARCODE_MIN_HEIGHT&&xt.fill(c,null),c}static findGuardPattern(e,i,a,l,s,o,c){xt.fillWithin(c,0,c.length,0);let h=i,g=0;for(;e.get(h,a)&&h>0&&g++<Gt.MAX_PIXEL_DRIFT;)h--;let x=h,w=0,S=o.length;for(let N=s;x<l;x++)if(e.get(x,a)!==N)c[w]++;else{if(w===S-1){if(Gt.patternMatchVariance(c,o,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return new Int32Array([h,x]);h+=c[0]+c[1],It.arraycopy(c,2,c,0,w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,N=!N}return w===S-1&&Gt.patternMatchVariance(c,o,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE?new Int32Array([h,x-1]):null}static patternMatchVariance(e,i,a){let l=e.length,s=0,o=0;for(let g=0;g<l;g++)s+=e[g],o+=i[g];if(s<o)return 1/0;let c=s/o;a*=c;let h=0;for(let g=0;g<l;g++){let x=e[g],w=i[g]*c,S=x>w?x-w:w-x;if(S>a)return 1/0;h+=S}return h/s}}Gt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Gt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Gt.MAX_AVG_VARIANCE=.42,Gt.MAX_INDIVIDUAL_VARIANCE=.8,Gt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Gt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Gt.MAX_PIXEL_DRIFT=3,Gt.MAX_PATTERN_DRIFT=5,Gt.SKIPPED_ROW_COUNT_MAX=25,Gt.ROW_STEP=5,Gt.BARCODE_MIN_HEIGHT=10;class Xe{constructor(e,i){if(i.length===0)throw new Z;this.field=e;let a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),It.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let i=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)i=this.field.add(this.field.multiply(e,i),this.coefficients[l]);return i}add(e){if(!this.field.equals(e.field))throw new Z("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,a=e.coefficients;if(i.length>a.length){let o=i;i=a,a=o}let l=new Int32Array(a.length),s=a.length-i.length;It.arraycopy(a,0,l,0,s);for(let o=s;o<a.length;o++)l[o]=this.field.add(i[o-s],a[o]);return new Xe(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new Z("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Xe?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new Z("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Xe(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,l=e.coefficients,s=l.length,o=new Int32Array(a+s-1);for(let c=0;c<a;c++){let h=i[c];for(let g=0;g<s;g++)o[c+g]=this.field.add(o[c+g],this.field.multiply(h,l[g]))}return new Xe(this.field,o)}negative(){let e=this.coefficients.length,i=new Int32Array(e);for(let a=0;a<e;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new Xe(this.field,i)}multiplyScalar(e){if(e===0)return new Xe(this.field,new Int32Array([0]));if(e===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.multiply(this.coefficients[l],e);return new Xe(this.field,a)}multiplyByMonomial(e,i){if(e<0)throw new Z;if(i===0)return new Xe(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+e);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],i);return new Xe(this.field,l)}toString(){let e=new Xt;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(i===0||a!==1)&&e.append(a),i!==0&&(i===1?e.append("x"):(e.append("x^"),e.append(i))))}return e.toString()}}class Ni{add(e,i){return(e+i)%this.modulus}subtract(e,i){return(this.modulus+e-i)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new Z;return this.logTable[e]}inverse(e){if(e===0)throw new oa;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class qa extends Ni{constructor(e,i){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let a=1;for(let l=0;l<e;l++)this.expTable[l]=a,a=a*i%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Xe(this,new Int32Array([0])),this.one=new Xe(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new Z;if(i===0)return this.zero;let a=new Int32Array(e+1);return a[0]=i,new Xe(this,a)}}qa.PDF417_GF=new qa(Bt.NUMBER_OF_CODEWORDS,3);class Qa{constructor(){this.field=qa.PDF417_GF}decode(e,i,a){let l=new Xe(this.field,e),s=new Int32Array(i),o=!1;for(let I=i;I>0;I--){let M=l.evaluateAt(this.field.exp(I));s[i-I]=M,M!==0&&(o=!0)}if(!o)return 0;let c=this.field.getOne();if(a!=null)for(const I of a){let M=this.field.exp(e.length-1-I),U=new Xe(this.field,new Int32Array([this.field.subtract(0,M),1]));c=c.multiply(U)}let h=new Xe(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),x=g[0],w=g[1],S=this.findErrorLocations(x),N=this.findErrorMagnitudes(w,x,S);for(let I=0;I<S.length;I++){let M=e.length-1-this.field.log(S[I]);if(M<0)throw St.getChecksumInstance();e[M]=this.field.subtract(e[M],N[I])}return S.length}runEuclideanAlgorithm(e,i,a){if(e.getDegree()<i.getDegree()){let S=e;e=i,i=S}let l=e,s=i,o=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let S=l,N=o;if(l=s,o=c,l.isZero())throw St.getChecksumInstance();s=S;let I=this.field.getZero(),M=l.getCoefficient(l.getDegree()),U=this.field.inverse(M);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let X=s.getDegree()-l.getDegree(),st=this.field.multiply(s.getCoefficient(s.getDegree()),U);I=I.add(this.field.buildMonomial(X,st)),s=s.subtract(l.multiplyByMonomial(X,st))}c=I.multiply(o).subtract(N).negative()}let h=c.getCoefficient(0);if(h===0)throw St.getChecksumInstance();let g=this.field.inverse(h),x=c.multiply(g),w=s.multiply(g);return[x,w]}findErrorLocations(e){let i=e.getDegree(),a=new Int32Array(i),l=0;for(let s=1;s<this.field.getSize()&&l<i;s++)e.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==i)throw St.getChecksumInstance();return a}findErrorMagnitudes(e,i,a){let l=i.getDegree(),s=new Int32Array(l);for(let g=1;g<=l;g++)s[l-g]=this.field.multiply(g,i.getCoefficient(g));let o=new Xe(this.field,s),c=a.length,h=new Int32Array(c);for(let g=0;g<c;g++){let x=this.field.inverse(a[g]),w=this.field.subtract(0,e.evaluateAt(x)),S=this.field.inverse(o.evaluateAt(x));h[g]=this.field.multiply(w,S)}return h}}class Oi{constructor(e,i,a,l,s){e instanceof Oi?this.constructor_2(e):this.constructor_1(e,i,a,l,s)}constructor_1(e,i,a,l,s){const o=i==null||a==null,c=l==null||s==null;if(o&&c)throw new G;o?(i=new yt(0,l.getY()),a=new yt(0,s.getY())):c&&(l=new yt(e.getWidth()-1,i.getY()),s=new yt(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=i,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,i){return e==null?i:i==null?e:new Oi(e.image,e.topLeft,e.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(e,i,a){let l=this.topLeft,s=this.bottomLeft,o=this.topRight,c=this.bottomRight;if(e>0){let h=a?this.topLeft:this.topRight,g=Math.trunc(h.getY()-e);g<0&&(g=0);let x=new yt(h.getX(),g);a?l=x:o=x}if(i>0){let h=a?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+i);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let x=new yt(h.getX(),g);a?s=x:c=x}return new Oi(this.image,l,s,o,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Tr{constructor(e,i,a,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ri{constructor(){this.buffer=""}static form(e,i){let a=-1;function l(o,c,h,g,x,w){if(o==="%%")return"%";if(i[++a]===void 0)return;o=g?parseInt(g.substr(1)):void 0;let S=x?parseInt(x.substr(1)):void 0,N;switch(w){case"s":N=i[a];break;case"c":N=i[a][0];break;case"f":N=parseFloat(i[a]).toFixed(o);break;case"p":N=parseFloat(i[a]).toPrecision(o);break;case"e":N=parseFloat(i[a]).toExponential(o);break;case"x":N=parseInt(i[a]).toString(S||16);break;case"d":N=parseFloat(parseInt(i[a],S||10).toPrecision(o)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(S);let I=parseInt(h),M=h&&h[0]+""=="0"?"0":" ";for(;N.length<I;)N=c!==void 0?N+M:M+N;return N}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,l)}format(e,...i){this.buffer+=Ri.form(e,i)}toString(){return this.buffer}}class ha{constructor(e){this.boundingBox=new Oi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let i=this.getCodeword(e);if(i!=null)return i;for(let a=1;a<ha.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(e)-a;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(e)+a,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,i){this.codewords[this.imageRowToCodewordIndex(e)]=i}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ri;let i=0;for(const a of this.codewords){if(a==null){e.format("%3d:    |   %n",i++);continue}e.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return e.toString()}}ha.MAX_NEARBY_DISTANCE=5;class rn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let i=this.values.get(e);i==null&&(i=0),i++,this.values.set(e,i)}getValue(){let e=-1,i=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>e?(e=s.getValue(),i=[],i.push(s.getKey())):s.getValue()===e&&i.push(s.getKey())}return Bt.toIntArray(i)}getConfidence(e){return this.values.get(e)}}class Ii extends ha{constructor(e,i){super(e),this._isLeft=i}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,e);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,g=1,x=0;for(let w=o;w<c;w++){if(i[w]==null)continue;let S=i[w],N=S.getRowNumber()-h;if(N===0)x++;else if(N===1)g=Math.max(g,x),x=1,h=S.getRowNumber();else if(N<0||S.getRowNumber()>=e.getRowCount()||N>w)i[w]=null;else{let I;g>2?I=(g-2)*N:I=N;let M=I>=w;for(let U=1;U<=I&&!M;U++)M=i[w-U]!=null;M?i[w]=null:(h=S.getRowNumber(),x=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let i=new Int32Array(e.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(e){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),h=-1;for(let g=s;g<o;g++){if(c[g]==null)continue;let x=c[g];x.setRowNumberAsRowIndicatorColumn();let w=x.getRowNumber()-h;w===0||(w===1?h=x.getRowNumber():x.getRowNumber()>=e.getRowCount()?c[g]=null:h=x.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),i=new rn,a=new rn,l=new rn,s=new rn;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let h=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(h*3+1);break;case 1:s.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Bt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Bt.MAX_ROWS_IN_BARCODE)return null;let o=new Tr(i.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,i){for(let a=0;a<e.length;a++){let l=e[a];if(e[a]==null)continue;let s=l.getValue()%30,o=l.getRowNumber();if(o>i.getRowCount()){e[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==i.getRowCountUpperPart()&&(e[a]=null);break;case 1:(Math.trunc(s/3)!==i.getErrorCorrectionLevel()||s%3!==i.getRowCountLowerPart())&&(e[a]=null);break;case 2:s+1!==i.getColumnCount()&&(e[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Di{constructor(e,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Bt.MAX_CODEWORDS_IN_BARCODE,i;do i=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,a))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<e.length;a++)if(e[a]!=null&&i[a]!=null&&e[a].getRowNumber()===i[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(e[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let o=this.barcodeColumnCount+1;o>0&&s<this.ADJUST_ROW_NUMBER_SKIP;o--){let c=this.detectionResultColumns[o].getCodewords()[a];c!=null&&(s=Di.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let o=1;o<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;o++){let c=this.detectionResultColumns[o].getCodewords()[a];c!=null&&(s=Di.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),i=0):++i),i}adjustRowNumbers(e,i,a){if(!this.detectionResultColumns[e-1])return;let l=a[i],s=this.detectionResultColumns[e-1].getCodewords(),o=s;this.detectionResultColumns[e+1]!=null&&(o=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=s[i],c[3]=o[i],i>0&&(c[0]=a[i-1],c[4]=s[i-1],c[5]=o[i-1]),i>1&&(c[8]=a[i-2],c[10]=s[i-2],c[11]=o[i-2]),i<a.length-1&&(c[1]=a[i+1],c[6]=s[i+1],c[7]=o[i+1]),i<a.length-2&&(c[9]=a[i+2],c[12]=s[i+2],c[13]=o[i+2]);for(let h of c)if(Di.adjustRowNumber(l,h))return}static adjustRowNumber(e,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===e.getBucket()?(e.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,i){this.detectionResultColumns[e]=i}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ri;for(let a=0;a<e.getCodewords().length;a++){i.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){i.format("    |   ");continue}i.format(" %3d|%3d",s.getRowNumber(),s.getValue())}i.format("%n")}return i.toString()}}class wi{constructor(e,i,a,l){this.rowNumber=wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==wi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}wi.BARCODE_ROW_UNKNOWN=-1;class In{static initialize(){for(let e=0;e<Bt.SYMBOL_TABLE.length;e++){let i=Bt.SYMBOL_TABLE[e],a=i&1;for(let l=0;l<Bt.BARS_IN_MODULE;l++){let s=0;for(;(i&1)===a;)s+=1,i>>=1;a=i&1,In.RATIOS_TABLE[e]||(In.RATIOS_TABLE[e]=new Array(Bt.BARS_IN_MODULE)),In.RATIOS_TABLE[e][Bt.BARS_IN_MODULE-l-1]=Math.fround(s/Bt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let i=In.getDecodedCodewordValue(In.sampleBitCounts(e));return i!==-1?i:In.getClosestDecodedValue(e)}static sampleBitCounts(e){let i=ae.sum(e),a=new Int32Array(Bt.BARS_IN_MODULE),l=0,s=0;for(let o=0;o<Bt.MODULES_IN_CODEWORD;o++){let c=i/(2*Bt.MODULES_IN_CODEWORD)+o*i/Bt.MODULES_IN_CODEWORD;s+e[l]<=c&&(s+=e[l],l++),a[l]++}return a}static getDecodedCodewordValue(e){let i=In.getBitValue(e);return Bt.getCodeword(i)===-1?-1:i}static getBitValue(e){let i=0;for(let a=0;a<e.length;a++)for(let l=0;l<e[a];l++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(e){let i=ae.sum(e),a=new Array(Bt.BARS_IN_MODULE);if(i>1)for(let o=0;o<a.length;o++)a[o]=Math.fround(e[o]/i);let l=Va.MAX_VALUE,s=-1;this.bSymbolTableReady||In.initialize();for(let o=0;o<In.RATIOS_TABLE.length;o++){let c=0,h=In.RATIOS_TABLE[o];for(let g=0;g<Bt.BARS_IN_MODULE;g++){let x=Math.fround(h[g]-a[g]);if(c+=Math.fround(x*x),c>=l)break}c<l&&(l=c,s=Bt.SYMBOL_TABLE[o])}return s}}In.bSymbolTableReady=!1,In.RATIOS_TABLE=new Array(Bt.SYMBOL_TABLE.length).map(E=>new Array(Bt.BARS_IN_MODULE));class vr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class _r{static parseLong(e,i=void 0){return parseInt(e,i)}}class da extends T{}da.kind="NullPointerException";class Nr{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,i,a){if(e==null)throw new da;if(i<0||i>e.length||a<0||i+a>e.length||i+a<0)throw new te;if(a===0)return;for(let l=0;l<a;l++)this.write(e[i+l])}flush(){}close(){}}class hs extends T{}class Tu extends Nr{constructor(e=32){if(super(),this.count=0,e<0)throw new Z("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let a=this.buf.length<<1;if(a-e<0&&(a=e),a<0){if(e<0)throw new hs;a=ot.MAX_VALUE}this.buf=xt.copyOfUint8Array(this.buf,a)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,i,a){if(i<0||i>e.length||a<0||i+a-e.length>0)throw new te;this.ensureCapacity(this.count+a),It.arraycopy(e,i,this.buf,this.count,a),this.count+=a}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return xt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ee;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ee||(Ee={}));function ds(){if(typeof window<"u")return window.BigInt||null;if(typeof Au<"u")return Au.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ga;function Mi(E){if(typeof ga>"u"&&(ga=ds()),ga===null)throw new Error("BigInt is not supported!");return ga(E)}function vu(){let E=[];E[0]=Mi(1);let e=Mi(900);E[1]=e;for(let i=2;i<16;i++)E[i]=E[i-1]*e;return E}class q{static decode(e,i){let a=new Xt(""),l=W.ISO8859_1;a.enableDecoding(l);let s=1,o=e[s++],c=new vr;for(;s<e[0];){switch(o){case q.TEXT_COMPACTION_MODE_LATCH:s=q.textCompaction(e,s,a);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:s=q.byteCompaction(o,e,l,s,a);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[s++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:s=q.numericCompaction(e,s,a);break;case q.ECI_CHARSET:W.getCharacterSetECIByValue(e[s++]);break;case q.ECI_GENERAL_PURPOSE:s+=2;break;case q.ECI_USER_DEFINED:s++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=q.decodeMacroBlock(e,s,c);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new tt;default:s--,s=q.textCompaction(e,s,a);break}if(s<e.length)o=e[s++];else throw tt.getFormatInstance()}if(a.length()===0)throw tt.getFormatInstance();let h=new ze(null,a.toString(),null,i);return h.setOther(c),h}static decodeMacroBlock(e,i,a){if(i+q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw tt.getFormatInstance();let l=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<q.NUMBER_OF_SEQUENCE_CODEWORDS;c++,i++)l[c]=e[i];a.setSegmentIndex(ot.parseInt(q.decodeBase900toBase10(l,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Xt;i=q.textCompaction(e,i,s),a.setFileId(s.toString());let o=-1;for(e[i]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=i+1);i<e[0];)switch(e[i]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,e[i]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Xt;i=q.textCompaction(e,i+1,c),a.setFileName(c.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Xt;i=q.textCompaction(e,i+1,h),a.setSender(h.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Xt;i=q.textCompaction(e,i+1,g),a.setAddressee(g.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new Xt;i=q.numericCompaction(e,i+1,x),a.setSegmentCount(ot.parseInt(x.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new Xt;i=q.numericCompaction(e,i+1,w),a.setTimestamp(_r.parseLong(w.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Xt;i=q.numericCompaction(e,i+1,S),a.setChecksum(ot.parseInt(S.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new Xt;i=q.numericCompaction(e,i+1,N),a.setFileSize(_r.parseLong(N.toString()));break;default:throw tt.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw tt.getFormatInstance()}if(o!==-1){let c=i-o;a.isLastSegment()&&c--,a.setOptionalData(xt.copyOfRange(e,o,o+c))}return i}static textCompaction(e,i,a){let l=new Int32Array((e[0]-i)*2),s=new Int32Array((e[0]-i)*2),o=0,c=!1;for(;i<e[0]&&!c;){let h=e[i++];if(h<q.TEXT_COMPACTION_MODE_LATCH)l[o]=h/30,l[o+1]=h%30,o+=2;else switch(h){case q.TEXT_COMPACTION_MODE_LATCH:l[o++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,c=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[o]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=e[i++],s[o]=h,o++;break}}return q.decodeTextCompaction(l,s,o,a),i}static decodeTextCompaction(e,i,a,l){let s=Ee.ALPHA,o=Ee.ALPHA,c=0;for(;c<a;){let h=e[c],g="";switch(s){case Ee.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case q.LL:s=Ee.LOWER;break;case q.ML:s=Ee.MIXED;break;case q.PS:o=s,s=Ee.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=Ee.ALPHA;break}break;case Ee.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case q.AS:o=s,s=Ee.ALPHA_SHIFT;break;case q.ML:s=Ee.MIXED;break;case q.PS:o=s,s=Ee.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=Ee.ALPHA;break}break;case Ee.MIXED:if(h<q.PL)g=q.MIXED_CHARS[h];else switch(h){case q.PL:s=Ee.PUNCT;break;case 26:g=" ";break;case q.LL:s=Ee.LOWER;break;case q.AL:s=Ee.ALPHA;break;case q.PS:o=s,s=Ee.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=Ee.ALPHA;break}break;case Ee.PUNCT:if(h<q.PAL)g=q.PUNCT_CHARS[h];else switch(h){case q.PAL:s=Ee.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=Ee.ALPHA;break}break;case Ee.ALPHA_SHIFT:if(s=o,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:s=Ee.ALPHA;break}break;case Ee.PUNCT_SHIFT:if(s=o,h<q.PAL)g=q.PUNCT_CHARS[h];else switch(h){case q.PAL:s=Ee.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=Ee.ALPHA;break}break}g!==""&&l.append(g),c++}}static byteCompaction(e,i,a,l,s){let o=new Tu,c=0,h=0,g=!1;switch(e){case q.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),w=i[l++];for(;l<i[0]&&!g;)switch(x[c++]=w,h=900*h+w,w=i[l++],w){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:l--,g=!0;break;default:if(c%5===0&&c>0){for(let S=0;S<6;++S)o.write(Number(Mi(h)>>Mi(8*(5-S))));h=0,c=0}break}l===i[0]&&w<q.TEXT_COMPACTION_MODE_LATCH&&(x[c++]=w);for(let S=0;S<c;S++)o.write(x[S]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!g;){let S=i[l++];if(S<q.TEXT_COMPACTION_MODE_LATCH)c++,h=900*h+S;else switch(S){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:l--,g=!0;break}if(c%5===0&&c>0){for(let N=0;N<6;++N)o.write(Number(Mi(h)>>Mi(8*(5-N))));h=0,c=0}}break}return s.append(jt.decode(o.toByteArray(),a)),l}static numericCompaction(e,i,a){let l=0,s=!1,o=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;i<e[0]&&!s;){let c=e[i++];if(i===e[0]&&(s=!0),c<q.TEXT_COMPACTION_MODE_LATCH)o[l]=c,l++;else switch(c){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,s=!0;break}(l%q.MAX_NUMERIC_CODEWORDS===0||c===q.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(q.decodeBase900toBase10(o,l)),l=0)}return i}static decodeBase900toBase10(e,i){let a=Mi(0);for(let s=0;s<i;s++)a+=q.EXP900[i-s-1]*Mi(e[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new tt;return l.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=ds()?vu():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(e,i,a,l,s,o,c){let h=new Oi(e,i,a,l,s),g=null,x=null,w;for(let I=!0;;I=!1){if(i!=null&&(g=Yt.getRowIndicatorColumn(e,h,i,!0,o,c)),l!=null&&(x=Yt.getRowIndicatorColumn(e,h,l,!1,o,c)),w=Yt.merge(g,x),w==null)throw G.getNotFoundInstance();let M=w.getBoundingBox();if(I&&M!=null&&(M.getMinY()<h.getMinY()||M.getMaxY()>h.getMaxY()))h=M;else break}w.setBoundingBox(h);let S=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,g),w.setDetectionResultColumn(S,x);let N=g!=null;for(let I=1;I<=S;I++){let M=N?I:S-I;if(w.getDetectionResultColumn(M)!==void 0)continue;let U;M===0||M===S?U=new Ii(h,M===0):U=new ha(h),w.setDetectionResultColumn(M,U);let X=-1,st=X;for(let ut=h.getMinY();ut<=h.getMaxY();ut++){if(X=Yt.getStartColumn(w,M,ut,N),X<0||X>h.getMaxX()){if(st===-1)continue;X=st}let lt=Yt.detectCodeword(e,h.getMinX(),h.getMaxX(),N,X,ut,o,c);lt!=null&&(U.setCodeword(ut,lt),st=X,o=Math.min(o,lt.getWidth()),c=Math.max(c,lt.getWidth()))}}return Yt.createDecoderResult(w)}static merge(e,i){if(e==null&&i==null)return null;let a=Yt.getBarcodeMetadata(e,i);if(a==null)return null;let l=Oi.merge(Yt.adjustBoundingBox(e),Yt.adjustBoundingBox(i));return new Di(a,l)}static adjustBoundingBox(e){if(e==null)return null;let i=e.getRowHeights();if(i==null)return null;let a=Yt.getMax(i),l=0;for(let c of i)if(l+=a-c,c>0)break;let s=e.getCodewords();for(let c=0;l>0&&s[c]==null;c++)l--;let o=0;for(let c=i.length-1;c>=0&&(o+=a-i[c],!(i[c]>0));c--);for(let c=s.length-1;o>0&&s[c]==null;c--)o--;return e.getBoundingBox().addMissingRows(l,o,e.isLeft())}static getMax(e){let i=-1;for(let a of e)i=Math.max(i,a);return i}static getBarcodeMetadata(e,i){let a;if(e==null||(a=e.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(e,i,a,l,s,o){let c=new Ii(i,l);for(let h=0;h<2;h++){let g=h===0?1:-1,x=Math.trunc(Math.trunc(a.getX()));for(let w=Math.trunc(Math.trunc(a.getY()));w<=i.getMaxY()&&w>=i.getMinY();w+=g){let S=Yt.detectCodeword(e,0,e.getWidth(),l,x,w,s,o);S!=null&&(c.setCodeword(w,S),l?x=S.getStartX():x=S.getEndX())}}return c}static adjustCodewordCount(e,i){let a=i[0][1],l=a.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(s<1||s>Bt.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(e){let i=Yt.createBarcodeMatrix(e);Yt.adjustCodewordCount(e,i);let a=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],o=new Array;for(let h=0;h<e.getBarcodeRowCount();h++)for(let g=0;g<e.getBarcodeColumnCount();g++){let x=i[h][g+1].getValue(),w=h*e.getBarcodeColumnCount()+g;x.length===0?a.push(w):x.length===1?l[w]=x[0]:(o.push(w),s.push(x))}let c=new Array(s.length);for(let h=0;h<c.length;h++)c[h]=s[h];return Yt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,Bt.toIntArray(a),Bt.toIntArray(o),c)}static createDecoderResultFromAmbiguousValues(e,i,a,l,s){let o=new Int32Array(l.length),c=100;for(;c-- >0;){for(let h=0;h<o.length;h++)i[l[h]]=s[h][o[h]];try{return Yt.decodeCodewords(i,e,a)}catch(h){if(!(h instanceof St))throw h}if(o.length===0)throw St.getChecksumInstance();for(let h=0;h<o.length;h++)if(o[h]<s[h].length-1){o[h]++;break}else if(o[h]=0,h===o.length-1)throw St.getChecksumInstance()}throw St.getChecksumInstance()}static createBarcodeMatrix(e){let i=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let s=0;s<i[l].length;s++)i[l][s]=new rn;let a=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=0){if(o>=i.length)continue;i[o][a].setValue(s.getValue())}}}a++}return i}static isValidBarcodeColumn(e,i){return i>=0&&i<=e.getBarcodeColumnCount()+1}static getStartColumn(e,i,a,l){let s=l?1:-1,o=null;if(Yt.isValidBarcodeColumn(e,i-s)&&(o=e.getDetectionResultColumn(i-s).getCodeword(a)),o!=null)return l?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(i).getCodewordNearby(a),o!=null)return l?o.getStartX():o.getEndX();if(Yt.isValidBarcodeColumn(e,i-s)&&(o=e.getDetectionResultColumn(i-s).getCodewordNearby(a)),o!=null)return l?o.getEndX():o.getStartX();let c=0;for(;Yt.isValidBarcodeColumn(e,i-s);){i-=s;for(let h of e.getDetectionResultColumn(i).getCodewords())if(h!=null)return(l?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX());c++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,i,a,l,s,o,c,h){s=Yt.adjustCodewordStartColumn(e,i,a,l,s,o);let g=Yt.getModuleBitCount(e,i,a,l,s,o);if(g==null)return null;let x,w=ae.sum(g);if(l)x=s+w;else{for(let I=0;I<g.length/2;I++){let M=g[I];g[I]=g[g.length-1-I],g[g.length-1-I]=M}x=s,s=x-w}if(!Yt.checkCodewordSkew(w,c,h))return null;let S=In.getDecodedValue(g),N=Bt.getCodeword(S);return N===-1?null:new wi(s,x,Yt.getCodewordBucketNumber(S),N)}static getModuleBitCount(e,i,a,l,s,o){let c=s,h=new Int32Array(8),g=0,x=l?1:-1,w=l;for(;(l?c<a:c>=i)&&g<h.length;)e.get(c,o)===w?(h[g]++,c+=x):(g++,w=!w);return g===h.length||c===(l?a:i)&&g===h.length-1?h:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,i,a,l,s,o){let c=s,h=l?-1:1;for(let g=0;g<2;g++){for(;(l?c>=i:c<a)&&l===e.get(c,o);){if(Math.abs(s-c)>Yt.CODEWORD_SKEW_SIZE)return s;c+=h}h=-h,l=!l}return c}static checkCodewordSkew(e,i,a){return i-Yt.CODEWORD_SKEW_SIZE<=e&&e<=a+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,i,a){if(e.length===0)throw tt.getFormatInstance();let l=1<<i+1,s=Yt.correctErrors(e,a,l);Yt.verifyCodewordCount(e,l);let o=q.decode(e,""+i);return o.setErrorsCorrected(s),o.setErasures(a.length),o}static correctErrors(e,i,a){if(i!=null&&i.length>a/2+Yt.MAX_ERRORS||a<0||a>Yt.MAX_EC_CODEWORDS)throw St.getChecksumInstance();return Yt.errorCorrection.decode(e,a,i)}static verifyCodewordCount(e,i){if(e.length<4)throw tt.getFormatInstance();let a=e[0];if(a>e.length)throw tt.getFormatInstance();if(a===0)if(i<e.length)e[0]=e.length-i;else throw tt.getFormatInstance()}static getBitCountForCodeword(e){let i=new Int32Array(8),a=0,l=i.length-1;for(;!((e&1)!==a&&(a=e&1,l--,l<0));)i[l]++,e>>=1;return i}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let i=new Ri;for(let a=0;a<e.length;a++){i.format("Row %2d: ",a);for(let l=0;l<e[a].length;l++){let s=e[a][l];s.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}i.format("%n")}return i.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new Qa;class dn{decode(e,i=null){let a=dn.decode(e,i,!1);if(a==null||a.length===0||a[0]==null)throw G.getNotFoundInstance();return a[0]}decodeMultiple(e,i=null){try{return dn.decode(e,i,!0)}catch(a){throw a instanceof tt||a instanceof St?G.getNotFoundInstance():a}}static decode(e,i,a){const l=new Array,s=Gt.detectMultiple(e,i,a);for(const o of s.getPoints()){const c=Yt.decode(s.getBits(),o[4],o[5],o[6],o[7],dn.getMinCodewordWidth(o),dn.getMaxCodewordWidth(o)),h=new gt(c.getText(),c.getRawBytes(),void 0,o,K.PDF_417);h.putMetadata(Tt.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&h.putMetadata(Tt.PDF417_EXTRA_METADATA,g),l.push(h)}return l.map(o=>o)}static getMaxWidth(e,i){return e==null||i==null?0:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMinWidth(e,i){return e==null||i==null?ot.MAX_VALUE:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(dn.getMaxWidth(e[0],e[4]),dn.getMaxWidth(e[6],e[2])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN),Math.max(dn.getMaxWidth(e[1],e[5]),dn.getMaxWidth(e[7],e[3])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(dn.getMinWidth(e[0],e[4]),dn.getMinWidth(e[6],e[2])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN),Math.min(dn.getMinWidth(e[1],e[5]),dn.getMinWidth(e[7],e[3])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Wa extends T{}Wa.kind="ReaderException";class gs{constructor(e,i){this.verbose=e===!0,i&&this.setHints(i)}decode(e,i){return i&&this.setHints(i),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const i=!b(e)&&e.get(Mt.TRY_HARDER)===!0,a=b(e)?null:e.get(Mt.POSSIBLE_FORMATS),l=new Array;if(!b(a)){const s=a.some(o=>o===K.UPC_A||o===K.UPC_E||o===K.EAN_13||o===K.EAN_8||o===K.CODABAR||o===K.CODE_39||o===K.CODE_93||o===K.CODE_128||o===K.ITF||o===K.RSS_14||o===K.RSS_EXPANDED);s&&!i&&l.push(new Ti(e,this.verbose)),a.includes(K.QR_CODE)&&l.push(new Ai),a.includes(K.DATA_MATRIX)&&l.push(new Qn),a.includes(K.AZTEC)&&l.push(new Ar),a.includes(K.PDF_417)&&l.push(new dn),s&&i&&l.push(new Ti(e,this.verbose))}l.length===0&&(i||l.push(new Ti(e,this.verbose)),l.push(new Ai),l.push(new Qn),l.push(new Ar),l.push(new dn),i&&l.push(new Ti(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Wa("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(e,this.hints)}catch(a){if(a instanceof Wa)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class _u extends ht{constructor(e=null,i=500){const a=new gs;a.setHints(e),super(a,i)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Nu extends ht{constructor(e=500){super(new dn,e)}}class Ou extends ht{constructor(e=500){super(new Ai,e)}}var Ka;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Ka||(Ka={}));var tn=Ka;class dl{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new un(e,Int32Array.from([1])))}buildGenerator(e){const i=this.cachedGenerators;if(e>=i.length){let a=i[i.length-1];const l=this.field;for(let s=i.length;s<=e;s++){const o=a.multiply(new un(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));i.push(o),a=o}}return i[e]}encode(e,i){if(i===0)throw new Z("No error correction bytes");const a=e.length-i;if(a<=0)throw new Z("No data bytes provided");const l=this.buildGenerator(i),s=new Int32Array(a);It.arraycopy(e,0,s,0,a);let o=new un(this.field,s);o=o.multiplyByMonomial(i,1);const h=o.divide(l)[1].getCoefficients(),g=i-h.length;for(let x=0;x<g;x++)e[a+x]=0;It.arraycopy(h,0,e,a+g,h.length)}}class Ge{constructor(){}static applyMaskPenaltyRule1(e){return Ge.applyMaskPenaltyRule1Internal(e,!0)+Ge.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let i=0;const a=e.getArray(),l=e.getWidth(),s=e.getHeight();for(let o=0;o<s-1;o++){const c=a[o];for(let h=0;h<l-1;h++){const g=c[h];g===c[h+1]&&g===a[o+1][h]&&g===a[o+1][h+1]&&i++}}return Ge.N2*i}static applyMaskPenaltyRule3(e){let i=0;const a=e.getArray(),l=e.getWidth(),s=e.getHeight();for(let o=0;o<s;o++)for(let c=0;c<l;c++){const h=a[o];c+6<l&&h[c]===1&&h[c+1]===0&&h[c+2]===1&&h[c+3]===1&&h[c+4]===1&&h[c+5]===0&&h[c+6]===1&&(Ge.isWhiteHorizontal(h,c-4,c)||Ge.isWhiteHorizontal(h,c+7,c+11))&&i++,o+6<s&&a[o][c]===1&&a[o+1][c]===0&&a[o+2][c]===1&&a[o+3][c]===1&&a[o+4][c]===1&&a[o+5][c]===0&&a[o+6][c]===1&&(Ge.isWhiteVertical(a,c,o-4,o)||Ge.isWhiteVertical(a,c,o+7,o+11))&&i++}return i*Ge.N3}static isWhiteHorizontal(e,i,a){i=Math.max(i,0),a=Math.min(a,e.length);for(let l=i;l<a;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,i,a,l){a=Math.max(a,0),l=Math.min(l,e.length);for(let s=a;s<l;s++)if(e[s][i]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let i=0;const a=e.getArray(),l=e.getWidth(),s=e.getHeight();for(let h=0;h<s;h++){const g=a[h];for(let x=0;x<l;x++)g[x]===1&&i++}const o=e.getHeight()*e.getWidth();return Math.floor(Math.abs(i*2-o)*10/o)*Ge.N4}static getDataMaskBit(e,i,a){let l,s;switch(e){case 0:l=a+i&1;break;case 1:l=a&1;break;case 2:l=i%3;break;case 3:l=(a+i)%3;break;case 4:l=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:s=a*i,l=(s&1)+s%3;break;case 6:s=a*i,l=(s&1)+s%3&1;break;case 7:s=a*i,l=s%3+(a+i&1)&1;break;default:throw new Z("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,i){let a=0;const l=i?e.getHeight():e.getWidth(),s=i?e.getWidth():e.getHeight(),o=e.getArray();for(let c=0;c<l;c++){let h=0,g=-1;for(let x=0;x<s;x++){const w=i?o[c][x]:o[x][c];w===g?h++:(h>=5&&(a+=Ge.N1+(h-5)),h=1,g=w)}h>=5&&(a+=Ge.N1+(h-5))}return a}}Ge.N1=3,Ge.N2=3,Ge.N3=40,Ge.N4=10;class Ja{constructor(e,i){this.width=e,this.height=i;const a=new Array(i);for(let l=0;l!==i;l++)a[l]=new Uint8Array(e);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(e,i){return this.bytes[i][e]}getArray(){return this.bytes}setNumber(e,i,a){this.bytes[i][e]=a}setBoolean(e,i,a){this.bytes[i][e]=a?1:0}clear(e){for(const i of this.bytes)xt.fill(i,e)}equals(e){if(!(e instanceof Ja))return!1;const i=e;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],o=i.bytes[a];for(let c=0,h=this.width;c<h;++c)if(s[c]!==o[c])return!1}return!0}toString(){const e=new Xt;for(let i=0,a=this.height;i<a;++i){const l=this.bytes[i];for(let s=0,o=this.width;s<o;++s)switch(l[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Yi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Xt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Yi.NUM_MASK_PATTERNS}}Yi.NUM_MASK_PATTERNS=8;class Ce extends T{}Ce.kind="WriterException";class Lt{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,i,a,l,s){Lt.clearMatrix(s),Lt.embedBasicPatterns(a,s),Lt.embedTypeInfo(i,l,s),Lt.maybeEmbedVersionInfo(a,s),Lt.embedDataBits(e,l,s)}static embedBasicPatterns(e,i){Lt.embedPositionDetectionPatternsAndSeparators(i),Lt.embedDarkDotAtLeftBottomCorner(i),Lt.maybeEmbedPositionAdjustmentPatterns(e,i),Lt.embedTimingPatterns(i)}static embedTypeInfo(e,i,a){const l=new Dt;Lt.makeTypeInfoBits(e,i,l);for(let s=0,o=l.getSize();s<o;++s){const c=l.get(l.getSize()-1-s),h=Lt.TYPE_INFO_COORDINATES[s],g=h[0],x=h[1];if(a.setBoolean(g,x,c),s<8){const w=a.getWidth()-s-1;a.setBoolean(w,8,c)}else{const S=a.getHeight()-7+(s-8);a.setBoolean(8,S,c)}}}static maybeEmbedVersionInfo(e,i){if(e.getVersionNumber()<7)return;const a=new Dt;Lt.makeVersionInfoBits(e,a);let l=6*3-1;for(let s=0;s<6;++s)for(let o=0;o<3;++o){const c=a.get(l);l--,i.setBoolean(s,i.getHeight()-11+o,c),i.setBoolean(i.getHeight()-11+o,s,c)}}static embedDataBits(e,i,a){let l=0,s=-1,o=a.getWidth()-1,c=a.getHeight()-1;for(;o>0;){for(o===6&&(o-=1);c>=0&&c<a.getHeight();){for(let h=0;h<2;++h){const g=o-h;if(!Lt.isEmpty(a.get(g,c)))continue;let x;l<e.getSize()?(x=e.get(l),++l):x=!1,i!==255&&Ge.getDataMaskBit(i,g,c)&&(x=!x),a.setBoolean(g,c,x)}c+=s}s=-s,c+=s,o-=2}if(l!==e.getSize())throw new Ce("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-ot.numberOfLeadingZeros(e)}static calculateBCHCode(e,i){if(i===0)throw new Z("0 polynomial");const a=Lt.findMSBSet(i);for(e<<=a-1;Lt.findMSBSet(e)>=a;)e^=i<<Lt.findMSBSet(e)-a;return e}static makeTypeInfoBits(e,i,a){if(!Yi.isValidMaskPattern(i))throw new Ce("Invalid mask pattern");const l=e.getBits()<<3|i;a.appendBits(l,5);const s=Lt.calculateBCHCode(l,Lt.TYPE_INFO_POLY);a.appendBits(s,10);const o=new Dt;if(o.appendBits(Lt.TYPE_INFO_MASK_PATTERN,15),a.xor(o),a.getSize()!==15)throw new Ce("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(e,i){i.appendBits(e.getVersionNumber(),6);const a=Lt.calculateBCHCode(e.getVersionNumber(),Lt.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Ce("should not happen but we got: "+i.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let i=8;i<e.getWidth()-8;++i){const a=(i+1)%2;Lt.isEmpty(e.get(i,6))&&e.setNumber(i,6,a),Lt.isEmpty(e.get(6,i))&&e.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ce;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,i,a){for(let l=0;l<8;++l){if(!Lt.isEmpty(a.get(e+l,i)))throw new Ce;a.setNumber(e+l,i,0)}}static embedVerticalSeparationPattern(e,i,a){for(let l=0;l<7;++l){if(!Lt.isEmpty(a.get(e,i+l)))throw new Ce;a.setNumber(e,i+l,0)}}static embedPositionAdjustmentPattern(e,i,a){for(let l=0;l<5;++l){const s=Lt.POSITION_ADJUSTMENT_PATTERN[l];for(let o=0;o<5;++o)a.setNumber(e+o,i+l,s[o])}}static embedPositionDetectionPattern(e,i,a){for(let l=0;l<7;++l){const s=Lt.POSITION_DETECTION_PATTERN[l];for(let o=0;o<7;++o)a.setNumber(e+o,i+l,s[o])}}static embedPositionDetectionPatternsAndSeparators(e){const i=Lt.POSITION_DETECTION_PATTERN[0].length;Lt.embedPositionDetectionPattern(0,0,e),Lt.embedPositionDetectionPattern(e.getWidth()-i,0,e),Lt.embedPositionDetectionPattern(0,e.getWidth()-i,e);const a=8;Lt.embedHorizontalSeparationPattern(0,a-1,e),Lt.embedHorizontalSeparationPattern(e.getWidth()-a,a-1,e),Lt.embedHorizontalSeparationPattern(0,e.getWidth()-a,e);const l=7;Lt.embedVerticalSeparationPattern(l,0,e),Lt.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Lt.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,i){if(e.getVersionNumber()<2)return;const a=e.getVersionNumber()-1,l=Lt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,o=l.length;s!==o;s++){const c=l[s];if(c>=0)for(let h=0;h!==o;h++){const g=l[h];g>=0&&Lt.isEmpty(i.get(g,c))&&Lt.embedPositionAdjustmentPattern(g-2,c-2,i)}}}}Lt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Lt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Lt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Lt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Lt.VERSION_INFO_POLY=7973,Lt.TYPE_INFO_POLY=1335,Lt.TYPE_INFO_MASK_PATTERN=21522;class Ru{constructor(e,i){this.dataBytes=e,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Me{constructor(){}static calculateMaskPenalty(e){return Ge.applyMaskPenaltyRule1(e)+Ge.applyMaskPenaltyRule2(e)+Ge.applyMaskPenaltyRule3(e)+Ge.applyMaskPenaltyRule4(e)}static encode(e,i,a=null){let l=Me.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(tn.CHARACTER_SET)!==void 0;s&&(l=a.get(tn.CHARACTER_SET).toString());const o=this.chooseMode(e,l),c=new Dt;if(o===Nt.BYTE&&(s||Me.DEFAULT_BYTE_MODE_ENCODING!==l)){const ut=W.getCharacterSetECIByName(l);ut!==void 0&&this.appendECI(ut,c)}this.appendModeInfo(o,c);const h=new Dt;this.appendBytes(e,o,h,l);let g;if(a!==null&&a.get(tn.QR_VERSION)!==void 0){const ut=Number.parseInt(a.get(tn.QR_VERSION).toString(),10);g=vt.getVersionForNumber(ut);const lt=this.calculateBitsNeeded(o,c,h,g);if(!this.willFit(lt,g,i))throw new Ce("Data too big for requested version")}else g=this.recommendVersion(i,o,c,h);const x=new Dt;x.appendBitArray(c);const w=o===Nt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(w,g,o,x),x.appendBitArray(h);const S=g.getECBlocksForLevel(i),N=g.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(N,x);const I=this.interleaveWithECBytes(x,g.getTotalCodewords(),N,S.getNumBlocks()),M=new Yi;M.setECLevel(i),M.setMode(o),M.setVersion(g);const U=g.getDimensionForVersion(),X=new Ja(U,U),st=this.chooseMaskPattern(I,i,g,X);return M.setMaskPattern(st),Lt.buildMatrix(I,i,g,st,X),M.setMatrix(X),M}static recommendVersion(e,i,a,l){const s=this.calculateBitsNeeded(i,a,l,vt.getVersionForNumber(1)),o=this.chooseVersion(s,e),c=this.calculateBitsNeeded(i,a,l,o);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,i,a,l){return i.getSize()+e.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(e){return e<Me.ALPHANUMERIC_TABLE.length?Me.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,i=null){if(W.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(e))return Nt.KANJI;let a=!1,l=!1;for(let s=0,o=e.length;s<o;++s){const c=e.charAt(s);if(Me.isDigit(c))a=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return Nt.BYTE}return l?Nt.ALPHANUMERIC:a?Nt.NUMERIC:Nt.BYTE}static isOnlyDoubleByteKanji(e){let i;try{i=jt.encode(e,W.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=i[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,i,a,l){let s=Number.MAX_SAFE_INTEGER,o=-1;for(let c=0;c<Yi.NUM_MASK_PATTERNS;c++){Lt.buildMatrix(e,i,a,c,l);let h=this.calculateMaskPenalty(l);h<s&&(s=h,o=c)}return o}static chooseVersion(e,i){for(let a=1;a<=40;a++){const l=vt.getVersionForNumber(a);if(Me.willFit(e,l,i))return l}throw new Ce("Data too big")}static willFit(e,i,a){const l=i.getTotalCodewords(),o=i.getECBlocksForLevel(a).getTotalECCodewords(),c=l-o,h=(e+7)/8;return c>=h}static terminateBits(e,i){const a=e*8;if(i.getSize()>a)throw new Ce("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let o=0;o<4&&i.getSize()<a;++o)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let o=l;o<8;o++)i.appendBit(!1);const s=e-i.getSizeInBytes();for(let o=0;o<s;++o)i.appendBits((o&1)===0?236:17,8);if(i.getSize()!==a)throw new Ce("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,i,a,l,s,o){if(l>=a)throw new Ce("Block ID too large");const c=e%a,h=a-c,g=Math.floor(e/a),x=g+1,w=Math.floor(i/a),S=w+1,N=g-w,I=x-S;if(N!==I)throw new Ce("EC bytes mismatch");if(a!==h+c)throw new Ce("RS blocks mismatch");if(e!==(w+N)*h+(S+I)*c)throw new Ce("Total bytes mismatch");l<h?(s[0]=w,o[0]=N):(s[0]=S,o[0]=I)}static interleaveWithECBytes(e,i,a,l){if(e.getSizeInBytes()!==a)throw new Ce("Number of bits and data bytes does not match");let s=0,o=0,c=0;const h=new Array;for(let x=0;x<l;++x){const w=new Int32Array(1),S=new Int32Array(1);Me.getNumDataBytesAndNumECBytesForBlockID(i,a,l,x,w,S);const N=w[0],I=new Uint8Array(N);e.toBytes(8*s,I,0,N);const M=Me.generateECBytes(I,S[0]);h.push(new Ru(I,M)),o=Math.max(o,N),c=Math.max(c,M.length),s+=w[0]}if(a!==s)throw new Ce("Data bytes does not match offset");const g=new Dt;for(let x=0;x<o;++x)for(const w of h){const S=w.getDataBytes();x<S.length&&g.appendBits(S[x],8)}for(let x=0;x<c;++x)for(const w of h){const S=w.getErrorCorrectionBytes();x<S.length&&g.appendBits(S[x],8)}if(i!==g.getSizeInBytes())throw new Ce("Interleaving error: "+i+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,i){const a=e.length,l=new Int32Array(a+i);for(let o=0;o<a;o++)l[o]=e[o]&255;new dl(le.QR_CODE_FIELD_256).encode(l,i);const s=new Uint8Array(i);for(let o=0;o<i;o++)s[o]=l[a+o];return s}static appendModeInfo(e,i){i.appendBits(e.getBits(),4)}static appendLengthInfo(e,i,a,l){const s=a.getCharacterCountBits(i);if(e>=1<<s)throw new Ce(e+" is bigger than "+((1<<s)-1));l.appendBits(e,s)}static appendBytes(e,i,a,l){switch(i){case Nt.NUMERIC:Me.appendNumericBytes(e,a);break;case Nt.ALPHANUMERIC:Me.appendAlphanumericBytes(e,a);break;case Nt.BYTE:Me.append8BitBytes(e,a,l);break;case Nt.KANJI:Me.appendKanjiBytes(e,a);break;default:throw new Ce("Invalid mode: "+i)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const i=Me.getDigit(e);return i>=0&&i<=9}static appendNumericBytes(e,i){const a=e.length;let l=0;for(;l<a;){const s=Me.getDigit(e.charAt(l));if(l+2<a){const o=Me.getDigit(e.charAt(l+1)),c=Me.getDigit(e.charAt(l+2));i.appendBits(s*100+o*10+c,10),l+=3}else if(l+1<a){const o=Me.getDigit(e.charAt(l+1));i.appendBits(s*10+o,7),l+=2}else i.appendBits(s,4),l++}}static appendAlphanumericBytes(e,i){const a=e.length;let l=0;for(;l<a;){const s=Me.getAlphanumericCode(e.charCodeAt(l));if(s===-1)throw new Ce;if(l+1<a){const o=Me.getAlphanumericCode(e.charCodeAt(l+1));if(o===-1)throw new Ce;i.appendBits(s*45+o,11),l+=2}else i.appendBits(s,6),l++}}static append8BitBytes(e,i,a){let l;try{l=jt.encode(e,a)}catch(s){throw new Ce(s)}for(let s=0,o=l.length;s!==o;s++){const c=l[s];i.appendBits(c,8)}}static appendKanjiBytes(e,i){let a;try{a=jt.encode(e,W.SJIS)}catch(s){throw new Ce(s)}const l=a.length;for(let s=0;s<l;s+=2){const o=a[s]&255,c=a[s+1]&255,h=o<<8&4294967295|c;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Ce("Invalid byte sequence");const x=(g>>8)*192+(g&255);i.appendBits(x,13)}}static appendECI(e,i){i.appendBits(Nt.ECI.getBits(),4),i.appendBits(e.getValue(),8)}}Me.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Me.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Zi{write(e,i,a,l=null){if(e.length===0)throw new Z("Found empty contents");if(i<0||a<0)throw new Z("Requested dimensions are too small: "+i+"x"+a);let s=Ae.L,o=Zi.QUIET_ZONE_SIZE;l!==null&&(l.get(tn.ERROR_CORRECTION)!==void 0&&(s=Ae.fromString(l.get(tn.ERROR_CORRECTION).toString())),l.get(tn.MARGIN)!==void 0&&(o=Number.parseInt(l.get(tn.MARGIN).toString(),10)));const c=Me.encode(e,s,l);return this.renderResult(c,i,a,o)}writeToDom(e,i,a,l,s=null){typeof e=="string"&&(e=document.querySelector(e));const o=this.write(i,a,l,s);e&&e.appendChild(o)}renderResult(e,i,a,l){const s=e.getMatrix();if(s===null)throw new ai;const o=s.getWidth(),c=s.getHeight(),h=o+l*2,g=c+l*2,x=Math.max(i,h),w=Math.max(a,g),S=Math.min(Math.floor(x/h),Math.floor(w/g)),N=Math.floor((x-o*S)/2),I=Math.floor((w-c*S)/2),M=this.createSVGElement(x,w);for(let U=0,X=I;U<c;U++,X+=S)for(let st=0,ut=N;st<o;st++,ut+=S)if(s.get(st,U)===1){const lt=this.createSvgRectElement(ut,X,S,S);M.appendChild(lt)}return M}createSVGElement(e,i){const a=document.createElementNS(Zi.SVG_NS,"svg");return a.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(e,i,a,l){const s=document.createElementNS(Zi.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Zi.QUIET_ZONE_SIZE=4,Zi.SVG_NS="http://www.w3.org/2000/svg";class xa{encode(e,i,a,l,s){if(e.length===0)throw new Z("Found empty contents");if(i!==K.QR_CODE)throw new Z("Can only encode QR_CODE, but got "+i);if(a<0||l<0)throw new Z(`Requested dimensions are too small: ${a}x${l}`);let o=Ae.L,c=xa.QUIET_ZONE_SIZE;s!==null&&(s.get(tn.ERROR_CORRECTION)!==void 0&&(o=Ae.fromString(s.get(tn.ERROR_CORRECTION).toString())),s.get(tn.MARGIN)!==void 0&&(c=Number.parseInt(s.get(tn.MARGIN).toString(),10)));const h=Me.encode(e,o,s);return xa.renderResult(h,a,l,c)}static renderResult(e,i,a,l){const s=e.getMatrix();if(s===null)throw new ai;const o=s.getWidth(),c=s.getHeight(),h=o+l*2,g=c+l*2,x=Math.max(i,h),w=Math.max(a,g),S=Math.min(Math.floor(x/h),Math.floor(w/g)),N=Math.floor((x-o*S)/2),I=Math.floor((w-c*S)/2),M=new xe(x,w);for(let U=0,X=I;U<c;U++,X+=S)for(let st=0,ut=N;st<o;st++,ut+=S)s.get(st,U)===1&&M.setRegion(ut,X,S,S);return M}}xa.QUIET_ZONE_SIZE=4;class Iu{encode(e,i,a,l,s){let o;switch(i){case K.QR_CODE:o=new xa;break;default:throw new Z("No encoder available for format "+i)}return o.encode(e,i,a,l,s)}}class li extends _t{constructor(e,i,a,l,s,o,c,h){if(super(o,c),this.yuvData=e,this.dataWidth=i,this.dataHeight=a,this.left=l,this.top=s,l+o>i||s+c>a)throw new Z("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(o,c)}getRow(e,i){if(e<0||e>=this.getHeight())throw new Z("Requested row is outside the image: "+e);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(e+this.top)*this.dataWidth+this.left;return It.arraycopy(this.yuvData,l,i,0,a),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=e*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return It.arraycopy(this.yuvData,s,l,0,a),l;for(let o=0;o<i;o++){const c=o*e;It.arraycopy(this.yuvData,s,l,c,e),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,i,a,l){return new li(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+i,a,l,!1)}renderThumbnail(){const e=this.getWidth()/li.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/li.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(e*i),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let o=0;o<i;o++){const c=o*e;for(let h=0;h<e;h++){const g=l[s+h*li.THUMBNAIL_SCALE_FACTOR]&255;a[c+h]=4278190080|g*65793}s+=this.dataWidth*li.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/li.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/li.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,i){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<i;l++,s+=this.dataWidth){const o=s+e/2;for(let c=s,h=s+e-1;c<o;c++,h--){const g=a[c];a[c]=a[h],a[h]=g}}}invert(){return new Jt(this)}}li.THUMBNAIL_SCALE_FACTOR=2;class $a extends _t{constructor(e,i,a,l,s,o,c){if(super(i,a),this.dataWidth=l,this.dataHeight=s,this.left=o,this.top=c,e.BYTES_PER_ELEMENT===4){const h=i*a,g=new Uint8ClampedArray(h);for(let x=0;x<h;x++){const w=e[x],S=w>>16&255,N=w>>7&510,I=w&255;g[x]=(S+N+I)/4&255}this.luminances=g}else this.luminances=e;if(l===void 0&&(this.dataWidth=i),s===void 0&&(this.dataHeight=a),o===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new Z("Crop rectangle does not fit within image data.")}getRow(e,i){if(e<0||e>=this.getHeight())throw new Z("Requested row is outside the image: "+e);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(e+this.top)*this.dataWidth+this.left;return It.arraycopy(this.luminances,l,i,0,a),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=e*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return It.arraycopy(this.luminances,s,l,0,a),l;for(let o=0;o<i;o++){const c=o*e;It.arraycopy(this.luminances,s,l,c,e),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,i,a,l){return new $a(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+e,this.top+i)}invert(){return new Jt(this)}}class ma extends W{static forName(e){return this.getCharacterSetECIByName(e)}}class gl{}gl.ISO_8859_1=W.ISO8859_1;class xl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ml{static singletonList(e){return[e]}static min(e,i){return e.sort(i)[0]}}class xs{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ji extends xs{constructor(e,i,a){super(e),this.value=i,this.bitCount=a}appendTo(e,i){e.appendBits(this.value,this.bitCount)}add(e,i){return new ji(this,e,i)}addBinaryShift(e,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ji(this,e,i)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+ot.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Or extends ji{constructor(e,i,a){super(e,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(e,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):a===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(e,i){return new Or(this,e,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Aa(E,e,i){return new Or(E,e,i)}function tr(E,e,i){return new ji(E,e,i)}const Du=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Bi=0,er=1,Fn=2,Ea=3,Dn=4,Mu=new ji(null,0,0),wa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ms(E){for(let e of E)xt.fill(e,-1);return E[Bi][Dn]=0,E[er][Dn]=0,E[er][Bi]=28,E[Ea][Dn]=0,E[Fn][Dn]=0,E[Fn][Bi]=15,E}const Al=ms(xt.createInt32Array(6,6));class Gn{constructor(e,i,a,l){this.token=e,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,i){let a=this.bitCount,l=this.token;if(e!==this.mode){let o=wa[this.mode][e];l=tr(l,o&65535,o>>16),a+=o>>16}let s=e===Fn?4:5;return l=tr(l,i,s),new Gn(l,e,0,a+s)}shiftAndAppend(e,i){let a=this.token,l=this.mode===Fn?4:5;return a=tr(a,Al[this.mode][e],l),a=tr(a,i,5),new Gn(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let i=this.token,a=this.mode,l=this.bitCount;if(this.mode===Dn||this.mode===Fn){let c=wa[a][Bi];i=tr(i,c&65535,c>>16),l+=c>>16,a=Bi}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new Gn(i,a,this.binaryShiftByteCount+1,l+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Aa(i,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let i=this.bitCount+(wa[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?i+=Gn.calculateBinaryShiftCost(e)-Gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(i+=10),i<=e.bitCount}toBitArray(e){let i=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())i.unshift(l);let a=new Dt;for(const l of i)l.appendTo(a,e);return a}toString(){return mt.format("%s bits=%d bytes=%d",Du[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Gn.INITIAL_STATE=new Gn(Mu,Bi,0,0);function El(E){const e=mt.getCharCode(" "),i=mt.getCharCode("."),a=mt.getCharCode(",");E[Bi][e]=1;const l=mt.getCharCode("Z"),s=mt.getCharCode("A");for(let S=s;S<=l;S++)E[Bi][S]=S-s+2;E[er][e]=1;const o=mt.getCharCode("z"),c=mt.getCharCode("a");for(let S=c;S<=o;S++)E[er][S]=S-c+2;E[Fn][e]=1;const h=mt.getCharCode("9"),g=mt.getCharCode("0");for(let S=g;S<=h;S++)E[Fn][S]=S-g+2;E[Fn][a]=12,E[Fn][i]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<x.length;S++)E[Ea][mt.getCharCode(x[S])]=S;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<w.length;S++)mt.getCharCode(w[S])>0&&(E[Dn][mt.getCharCode(w[S])]=S);return E}const Rr=El(xt.createInt32Array(5,256));class ya{constructor(e){this.text=e}encode(){const e=mt.getCharCode(" "),i=mt.getCharCode(`
`);let a=ml.singletonList(Gn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let o,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case mt.getCharCode("\r"):o=c===i?2:0;break;case mt.getCharCode("."):o=c===e?3:0;break;case mt.getCharCode(","):o=c===e?4:0;break;case mt.getCharCode(":"):o=c===e?5:0;break;default:o=0}o>0?(a=ya.updateStateListForPair(a,s,o),s++):a=this.updateStateListForChar(a,s)}return ml.min(a,(s,o)=>s.getBitCount()-o.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,i){const a=[];for(let l of e)this.updateStateForChar(l,i,a);return ya.simplifyStates(a)}updateStateForChar(e,i,a){let l=this.text[i]&255,s=Rr[e.getMode()][l]>0,o=null;for(let c=0;c<=Dn;c++){let h=Rr[c][l];if(h>0){if(o==null&&(o=e.endBinaryShift(i)),!s||c===e.getMode()||c===Fn){const g=o.latchAndAppend(c,h);a.push(g)}if(!s&&Al[e.getMode()][c]>=0){const g=o.shiftAndAppend(c,h);a.push(g)}}}if(e.getBinaryShiftByteCount()>0||Rr[e.getMode()][l]===0){let c=e.addBinaryShiftChar(i);a.push(c)}}static updateStateListForPair(e,i,a){const l=[];for(let s of e)this.updateStateForPair(s,i,a,l);return this.simplifyStates(l)}static updateStateForPair(e,i,a,l){let s=e.endBinaryShift(i);if(l.push(s.latchAndAppend(Dn,a)),e.getMode()!==Dn&&l.push(s.shiftAndAppend(Dn,a)),a===3||a===4){let o=s.latchAndAppend(Fn,16-a).latchAndAppend(Fn,1);l.push(o)}if(e.getBinaryShiftByteCount()>0){let o=e.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(o)}}static simplifyStates(e){let i=[];for(const a of e){let l=!0;for(const s of i){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(i=i.filter(o=>o!==s))}l&&i.push(a)}return i}}class re{constructor(){}static encodeBytes(e){return re.encode(e,re.DEFAULT_EC_PERCENT,re.DEFAULT_AZTEC_LAYERS)}static encode(e,i,a){let l=new ya(e).encode(),s=ot.truncDivision(l.getSize()*i,100)+11,o=l.getSize()+s,c,h,g,x,w;if(a!==re.DEFAULT_AZTEC_LAYERS){if(c=a<0,h=Math.abs(a),h>(c?re.MAX_NB_BITS_COMPACT:re.MAX_NB_BITS))throw new Z(mt.format("Illegal value %s for layers",a));g=re.totalBitsInLayer(h,c),x=re.WORD_SIZE[h];let lt=g-g%x;if(w=re.stuffBits(l,x),w.getSize()+s>lt)throw new Z("Data to large for user specified layer");if(c&&w.getSize()>x*64)throw new Z("Data to large for user specified layer")}else{x=0,w=null;for(let lt=0;;lt++){if(lt>re.MAX_NB_BITS)throw new Z("Data too large for an Aztec code");if(c=lt<=3,h=c?lt+1:lt,g=re.totalBitsInLayer(h,c),o>g)continue;(w==null||x!==re.WORD_SIZE[h])&&(x=re.WORD_SIZE[h],w=re.stuffBits(l,x));let Vt=g-g%x;if(!(c&&w.getSize()>x*64)&&w.getSize()+s<=Vt)break}}let S=re.generateCheckWords(w,g,x),N=w.getSize()/x,I=re.generateModeMessage(c,h,N),M=(c?11:14)+h*4,U=new Int32Array(M),X;if(c){X=M;for(let lt=0;lt<U.length;lt++)U[lt]=lt}else{X=M+1+2*ot.truncDivision(ot.truncDivision(M,2)-1,15);let lt=ot.truncDivision(M,2),Vt=ot.truncDivision(X,2);for(let Pt=0;Pt<lt;Pt++){let Tn=Pt+ot.truncDivision(Pt,15);U[lt-Pt-1]=Vt-Tn-1,U[lt+Pt]=Vt+Tn+1}}let st=new xe(X);for(let lt=0,Vt=0;lt<h;lt++){let Pt=(h-lt)*4+(c?9:12);for(let Tn=0;Tn<Pt;Tn++){let Vn=Tn*2;for(let Mn=0;Mn<2;Mn++)S.get(Vt+Vn+Mn)&&st.set(U[lt*2+Mn],U[lt*2+Tn]),S.get(Vt+Pt*2+Vn+Mn)&&st.set(U[lt*2+Tn],U[M-1-lt*2-Mn]),S.get(Vt+Pt*4+Vn+Mn)&&st.set(U[M-1-lt*2-Mn],U[M-1-lt*2-Tn]),S.get(Vt+Pt*6+Vn+Mn)&&st.set(U[M-1-lt*2-Tn],U[lt*2+Mn])}Vt+=Pt*8}if(re.drawModeMessage(st,c,X,I),c)re.drawBullsEye(st,ot.truncDivision(X,2),5);else{re.drawBullsEye(st,ot.truncDivision(X,2),7);for(let lt=0,Vt=0;lt<ot.truncDivision(M,2)-1;lt+=15,Vt+=16)for(let Pt=ot.truncDivision(X,2)&1;Pt<X;Pt+=2)st.set(ot.truncDivision(X,2)-Vt,Pt),st.set(ot.truncDivision(X,2)+Vt,Pt),st.set(Pt,ot.truncDivision(X,2)-Vt),st.set(Pt,ot.truncDivision(X,2)+Vt)}let ut=new xl;return ut.setCompact(c),ut.setSize(X),ut.setLayers(h),ut.setCodeWords(N),ut.setMatrix(st),ut}static drawBullsEye(e,i,a){for(let l=0;l<a;l+=2)for(let s=i-l;s<=i+l;s++)e.set(s,i-l),e.set(s,i+l),e.set(i-l,s),e.set(i+l,s);e.set(i-a,i-a),e.set(i-a+1,i-a),e.set(i-a,i-a+1),e.set(i+a,i-a),e.set(i+a,i-a+1),e.set(i+a,i+a-1)}static generateModeMessage(e,i,a){let l=new Dt;return e?(l.appendBits(i-1,2),l.appendBits(a-1,6),l=re.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(a-1,11),l=re.generateCheckWords(l,40,4)),l}static drawModeMessage(e,i,a,l){let s=ot.truncDivision(a,2);if(i)for(let o=0;o<7;o++){let c=s-3+o;l.get(o)&&e.set(c,s-5),l.get(o+7)&&e.set(s+5,c),l.get(20-o)&&e.set(c,s+5),l.get(27-o)&&e.set(s-5,c)}else for(let o=0;o<10;o++){let c=s-5+o+ot.truncDivision(o,5);l.get(o)&&e.set(c,s-7),l.get(o+10)&&e.set(s+7,c),l.get(29-o)&&e.set(c,s+7),l.get(39-o)&&e.set(s-7,c)}}static generateCheckWords(e,i,a){let l=e.getSize()/a,s=new dl(re.getGF(a)),o=ot.truncDivision(i,a),c=re.bitsToWords(e,a,o);s.encode(c,o-l);let h=i%a,g=new Dt;g.appendBits(0,h);for(const x of Array.from(c))g.appendBits(x,a);return g}static bitsToWords(e,i,a){let l=new Int32Array(a),s,o;for(s=0,o=e.getSize()/i;s<o;s++){let c=0;for(let h=0;h<i;h++)c|=e.get(s*i+h)?1<<i-h-1:0;l[s]=c}return l}static getGF(e){switch(e){case 4:return le.AZTEC_PARAM;case 6:return le.AZTEC_DATA_6;case 8:return le.AZTEC_DATA_8;case 10:return le.AZTEC_DATA_10;case 12:return le.AZTEC_DATA_12;default:throw new Z("Unsupported word size "+e)}}static stuffBits(e,i){let a=new Dt,l=e.getSize(),s=(1<<i)-2;for(let o=0;o<l;o+=i){let c=0;for(let h=0;h<i;h++)(o+h>=l||e.get(o+h))&&(c|=1<<i-1-h);(c&s)===s?(a.appendBits(c&s,i),o--):(c&s)===0?(a.appendBits(c|1,i),o--):a.appendBits(c,i)}return a}static totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}re.DEFAULT_EC_PERCENT=33,re.DEFAULT_AZTEC_LAYERS=0,re.MAX_NB_BITS=32,re.MAX_NB_BITS_COMPACT=4,re.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ir{encode(e,i,a,l){return this.encodeWithHints(e,i,a,l,null)}encodeWithHints(e,i,a,l,s){let o=gl.ISO_8859_1,c=re.DEFAULT_EC_PERCENT,h=re.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(tn.CHARACTER_SET)&&(o=ma.forName(s.get(tn.CHARACTER_SET).toString())),s.has(tn.ERROR_CORRECTION)&&(c=ot.parseInt(s.get(tn.ERROR_CORRECTION).toString())),s.has(tn.AZTEC_LAYERS)&&(h=ot.parseInt(s.get(tn.AZTEC_LAYERS).toString()))),Ir.encodeLayers(e,i,a,l,o,c,h)}static encodeLayers(e,i,a,l,s,o,c){if(i!==K.AZTEC)throw new Z("Can only encode AZTEC, but got "+i);let h=re.encode(mt.getBytes(e,s),o,c);return Ir.renderResult(h,a,l)}static renderResult(e,i,a){let l=e.getMatrix();if(l==null)throw new ai;let s=l.getWidth(),o=l.getHeight(),c=Math.max(i,s),h=Math.max(a,o),g=Math.min(c/s,h/o),x=(c-s*g)/2,w=(h-o*g)/2,S=new xe(c,h);for(let N=0,I=w;N<o;N++,I+=g)for(let M=0,U=x;M<s;M++,U+=g)l.get(M,N)&&S.setRegion(U,I,g,g);return S}}m.AbstractExpandedDecoder=Za,m.ArgumentException=P,m.ArithmeticException=oa,m.AztecCode=xl,m.AztecCodeReader=Ar,m.AztecCodeWriter=Ir,m.AztecDecoder=ve,m.AztecDetector=ls,m.AztecDetectorResult=ll,m.AztecEncoder=re,m.AztecHighLevelEncoder=ya,m.AztecPoint=we,m.BarcodeFormat=K,m.Binarizer=Rt,m.BinaryBitmap=Et,m.BitArray=Dt,m.BitMatrix=xe,m.BitSource=Rn,m.BrowserAztecCodeReader=bu,m.BrowserBarcodeReader=cs,m.BrowserCodeReader=ht,m.BrowserDatamatrixCodeReader=Su,m.BrowserMultiFormatReader=_u,m.BrowserPDF417Reader=Nu,m.BrowserQRCodeReader=Ou,m.BrowserQRCodeSvgWriter=Zi,m.CharacterSetECI=W,m.ChecksumException=St,m.Code128Reader=ft,m.Code39Reader=De,m.DataMatrixDecodedBitStreamParser=vi,m.DataMatrixReader=Qn,m.DecodeHintType=Mt,m.DecoderResult=ze,m.DefaultGridSampler=On,m.DetectorResult=mr,m.EAN13Reader=jn,m.EncodeHintType=tn,m.Exception=T,m.FormatException=tt,m.GenericGF=le,m.GenericGFPoly=un,m.GlobalHistogramBinarizer=Q,m.GridSampler=sl,m.GridSamplerInstance=pn,m.HTMLCanvasElementLuminanceSource=D,m.HybridBinarizer=et,m.ITFReader=he,m.IllegalArgumentException=Z,m.IllegalStateException=ai,m.InvertedLuminanceSource=Jt,m.LuminanceSource=_t,m.MathUtils=ae,m.MultiFormatOneDReader=Ti,m.MultiFormatReader=gs,m.MultiFormatWriter=Iu,m.NotFoundException=G,m.OneDReader=ke,m.PDF417DecodedBitStreamParser=q,m.PDF417DecoderErrorCorrection=Qa,m.PDF417Reader=dn,m.PDF417ResultMetadata=vr,m.PerspectiveTransform=Sn,m.PlanarYUVLuminanceSource=li,m.QRCodeByteMatrix=Ja,m.QRCodeDataMask=hn,m.QRCodeDecodedBitStreamParser=Fe,m.QRCodeDecoderErrorCorrectionLevel=Ae,m.QRCodeDecoderFormatInformation=fn,m.QRCodeEncoder=Me,m.QRCodeEncoderQRCode=Yi,m.QRCodeMaskUtil=Ge,m.QRCodeMatrixUtil=Lt,m.QRCodeMode=Nt,m.QRCodeReader=Ai,m.QRCodeVersion=vt,m.QRCodeWriter=xa,m.RGBLuminanceSource=$a,m.RSS14Reader=de,m.RSSExpandedReader=it,m.ReaderException=Wa,m.ReedSolomonDecoder=Ga,m.ReedSolomonEncoder=dl,m.ReedSolomonException=bi,m.Result=gt,m.ResultMetadataType=Tt,m.ResultPoint=yt,m.StringUtils=mt,m.UnsupportedOperationException=ce,m.VideoInputDevice=rt,m.WhiteRectangleDetector=gi,m.WriterException=Ce,m.ZXingArrays=xt,m.ZXingCharset=ma,m.ZXingInteger=ot,m.ZXingStandardCharsets=gl,m.ZXingStringBuilder=Xt,m.ZXingStringEncoding=jt,m.ZXingSystem=It,m.createAbstractExpandedDecoder=cl,Object.defineProperty(m,"__esModule",{value:!0})})}(rs,rs.exports)),rs.exports}var He=Bd();const Ld=_c(He),Ud=md({__proto__:null,default:Ld},[He]);var Ff=function(){function y(C,m,b){if(this.formatMap=new Map([[wt.QR_CODE,He.BarcodeFormat.QR_CODE],[wt.AZTEC,He.BarcodeFormat.AZTEC],[wt.CODABAR,He.BarcodeFormat.CODABAR],[wt.CODE_39,He.BarcodeFormat.CODE_39],[wt.CODE_93,He.BarcodeFormat.CODE_93],[wt.CODE_128,He.BarcodeFormat.CODE_128],[wt.DATA_MATRIX,He.BarcodeFormat.DATA_MATRIX],[wt.MAXICODE,He.BarcodeFormat.MAXICODE],[wt.ITF,He.BarcodeFormat.ITF],[wt.EAN_13,He.BarcodeFormat.EAN_13],[wt.EAN_8,He.BarcodeFormat.EAN_8],[wt.PDF_417,He.BarcodeFormat.PDF_417],[wt.RSS_14,He.BarcodeFormat.RSS_14],[wt.RSS_EXPANDED,He.BarcodeFormat.RSS_EXPANDED],[wt.UPC_A,He.BarcodeFormat.UPC_A],[wt.UPC_E,He.BarcodeFormat.UPC_E],[wt.UPC_EAN_EXTENSION,He.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ud)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=m,this.logger=b;var O=this.createZXingFormats(C),v=new Map;v.set(He.DecodeHintType.POSSIBLE_FORMATS,O),v.set(He.DecodeHintType.TRY_HARDER,!1),this.hints=v}return y.prototype.decodeAsync=function(C){var m=this;return new Promise(function(b,O){try{b(m.decode(C))}catch(v){O(v)}})},y.prototype.decode=function(C){var m=new He.MultiFormatReader(this.verbose,this.hints),b=new He.HTMLCanvasElementLuminanceSource(C),O=new He.BinaryBitmap(new He.HybridBinarizer(b)),v=m.decode(O);return{text:v.text,format:Qf.create(this.toHtml5QrcodeSupportedFormats(v.format)),debugData:this.createDebugData()}},y.prototype.createReverseFormatMap=function(){var C=new Map;return this.formatMap.forEach(function(m,b,O){C.set(m,b)}),C},y.prototype.toHtml5QrcodeSupportedFormats=function(C){if(!this.reverseFormatMap.has(C))throw"reverseFormatMap doesn't have ".concat(C);return this.reverseFormatMap.get(C)},y.prototype.createZXingFormats=function(C){for(var m=[],b=0,O=C;b<O.length;b++){var v=O[b];this.formatMap.has(v)?m.push(this.formatMap.get(v)):this.logger.logError("".concat(v," is not supported by")+"ZXingHtml5QrcodeShim")}return m},y.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},y}(),kd=function(y,C,m,b){function O(v){return v instanceof m?v:new m(function(H){H(v)})}return new(m||(m=Promise))(function(v,H){function at(P){try{T(b.next(P))}catch(Z){H(Z)}}function Y(P){try{T(b.throw(P))}catch(Z){H(Z)}}function T(P){P.done?v(P.value):O(P.value).then(at,Y)}T((b=b.apply(y,C||[])).next())})},Fd=function(y,C){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},b,O,v,H;return H={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function at(T){return function(P){return Y([T,P])}}function Y(T){if(b)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(m=0)),m;)try{if(b=1,O&&(v=T[0]&2?O.return:T[0]?O.throw||((v=O.return)&&v.call(O),0):O.next)&&!(v=v.call(O,T[1])).done)return v;switch(O=0,v&&(T=[T[0]&2,v.value]),T[0]){case 0:case 1:v=T;break;case 4:return m.label++,{value:T[1],done:!1};case 5:m.label++,O=T[1],T=[0];continue;case 7:T=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(T[0]===6||T[0]===2)){m=0;continue}if(T[0]===3&&(!v||T[1]>v[0]&&T[1]<v[3])){m.label=T[1];break}if(T[0]===6&&m.label<v[1]){m.label=v[1],v=T;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(T);break}v[2]&&m.ops.pop(),m.trys.pop();continue}T=C.call(y,m)}catch(P){T=[6,P],O=0}finally{b=v=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Hf=function(){function y(C,m,b){if(this.formatMap=new Map([[wt.QR_CODE,"qr_code"],[wt.AZTEC,"aztec"],[wt.CODABAR,"codabar"],[wt.CODE_39,"code_39"],[wt.CODE_93,"code_93"],[wt.CODE_128,"code_128"],[wt.DATA_MATRIX,"data_matrix"],[wt.ITF,"itf"],[wt.EAN_13,"ean_13"],[wt.EAN_8,"ean_8"],[wt.PDF_417,"pdf417"],[wt.UPC_A,"upc_a"],[wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!y.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=m,this.logger=b;var O=this.createBarcodeDetectorFormats(C);if(this.detector=new BarcodeDetector(O),!this.detector)throw"BarcodeDetector detector not supported"}return y.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var C=new BarcodeDetector({formats:["qr_code"]});return typeof C<"u"},y.prototype.decodeAsync=function(C){return kd(this,void 0,void 0,function(){var m,b;return Fd(this,function(O){switch(O.label){case 0:return[4,this.detector.detect(C)];case 1:if(m=O.sent(),!m||m.length===0)throw"No barcode or QR code detected.";return b=this.selectLargestBarcode(m),[2,{text:b.rawValue,format:Qf.create(this.toHtml5QrcodeSupportedFormats(b.format)),debugData:this.createDebugData()}]}})})},y.prototype.selectLargestBarcode=function(C){for(var m=null,b=0,O=0,v=C;O<v.length;O++){var H=v[O],at=H.boundingBox.width*H.boundingBox.height;at>b&&(b=at,m=H)}if(!m)throw"No largest barcode found";return m},y.prototype.createBarcodeDetectorFormats=function(C){for(var m=[],b=0,O=C;b<O.length;b++){var v=O[b];this.formatMap.has(v)?m.push(this.formatMap.get(v)):this.logger.warn("".concat(v," is not supported by")+"BarcodeDetectorDelegate")}return{formats:m}},y.prototype.toHtml5QrcodeSupportedFormats=function(C){if(!this.reverseFormatMap.has(C))throw"reverseFormatMap doesn't have ".concat(C);return this.reverseFormatMap.get(C)},y.prototype.createReverseFormatMap=function(){var C=new Map;return this.formatMap.forEach(function(m,b,O){C.set(m,b)}),C},y.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},y}(),zf=function(y,C,m,b){function O(v){return v instanceof m?v:new m(function(H){H(v)})}return new(m||(m=Promise))(function(v,H){function at(P){try{T(b.next(P))}catch(Z){H(Z)}}function Y(P){try{T(b.throw(P))}catch(Z){H(Z)}}function T(P){P.done?v(P.value):O(P.value).then(at,Y)}T((b=b.apply(y,C||[])).next())})},Pf=function(y,C){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},b,O,v,H;return H={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function at(T){return function(P){return Y([T,P])}}function Y(T){if(b)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(m=0)),m;)try{if(b=1,O&&(v=T[0]&2?O.return:T[0]?O.throw||((v=O.return)&&v.call(O),0):O.next)&&!(v=v.call(O,T[1])).done)return v;switch(O=0,v&&(T=[T[0]&2,v.value]),T[0]){case 0:case 1:v=T;break;case 4:return m.label++,{value:T[1],done:!1};case 5:m.label++,O=T[1],T=[0];continue;case 7:T=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(T[0]===6||T[0]===2)){m=0;continue}if(T[0]===3&&(!v||T[1]>v[0]&&T[1]<v[3])){m.label=T[1];break}if(T[0]===6&&m.label<v[1]){m.label=v[1],v=T;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(T);break}v[2]&&m.ops.pop(),m.trys.pop();continue}T=C.call(y,m)}catch(P){T=[6,P],O=0}finally{b=v=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Hd=function(){function y(C,m,b,O){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=b,m&&Hf.isSupported()?(this.primaryDecoder=new Hf(C,b,O),this.secondaryDecoder=new Ff(C,b,O)):this.primaryDecoder=new Ff(C,b,O)}return y.prototype.decodeAsync=function(C){return zf(this,void 0,void 0,function(){var m;return Pf(this,function(b){switch(b.label){case 0:m=performance.now(),b.label=1;case 1:return b.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(C)];case 2:return[2,b.sent()];case 3:return this.possiblyLogPerformance(m),[7];case 4:return[2]}})})},y.prototype.decodeRobustlyAsync=function(C){return zf(this,void 0,void 0,function(){var m,b;return Pf(this,function(O){switch(O.label){case 0:m=performance.now(),O.label=1;case 1:return O.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(C)];case 2:return[2,O.sent()];case 3:if(b=O.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(C)];throw b;case 4:return this.possiblyLogPerformance(m),[7];case 5:return[2]}})})},y.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},y.prototype.possiblyLogPerformance=function(C){if(this.verbose){var m=performance.now()-C;this.executionResults.push(m),this.executions++,this.possiblyFlushPerformanceReport()}},y.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var C=0,m=0,b=this.executionResults;m<b.length;m++){var O=b[m];C+=O}var v=C/this.executionResults.length;console.log("".concat(v," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},y}(),Oc=function(){var y=function(C,m){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var v in O)Object.prototype.hasOwnProperty.call(O,v)&&(b[v]=O[v])},y(C,m)};return function(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");y(C,m);function b(){this.constructor=C}C.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),yu=function(y,C,m,b){function O(v){return v instanceof m?v:new m(function(H){H(v)})}return new(m||(m=Promise))(function(v,H){function at(P){try{T(b.next(P))}catch(Z){H(Z)}}function Y(P){try{T(b.throw(P))}catch(Z){H(Z)}}function T(P){P.done?v(P.value):O(P.value).then(at,Y)}T((b=b.apply(y,C||[])).next())})},Cu=function(y,C){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},b,O,v,H;return H={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function at(T){return function(P){return Y([T,P])}}function Y(T){if(b)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(m=0)),m;)try{if(b=1,O&&(v=T[0]&2?O.return:T[0]?O.throw||((v=O.return)&&v.call(O),0):O.next)&&!(v=v.call(O,T[1])).done)return v;switch(O=0,v&&(T=[T[0]&2,v.value]),T[0]){case 0:case 1:v=T;break;case 4:return m.label++,{value:T[1],done:!1};case 5:m.label++,O=T[1],T=[0];continue;case 7:T=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(T[0]===6||T[0]===2)){m=0;continue}if(T[0]===3&&(!v||T[1]>v[0]&&T[1]<v[3])){m.label=T[1];break}if(T[0]===6&&m.label<v[1]){m.label=v[1],v=T;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(T);break}v[2]&&m.ops.pop(),m.trys.pop();continue}T=C.call(y,m)}catch(P){T=[6,P],O=0}finally{b=v=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Kf=function(){function y(C,m){this.name=C,this.track=m}return y.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},y.prototype.apply=function(C){var m={};m[this.name]=C;var b={advanced:[m]};return this.track.applyConstraints(b)},y.prototype.value=function(){var C=this.track.getSettings();if(this.name in C){var m=C[this.name];return m}return null},y}(),zd=function(y){Oc(C,y);function C(m,b){return y.call(this,m,b)||this}return C.prototype.min=function(){return this.getCapabilities().min},C.prototype.max=function(){return this.getCapabilities().max},C.prototype.step=function(){return this.getCapabilities().step},C.prototype.apply=function(m){var b={};b[this.name]=m;var O={advanced:[b]};return this.track.applyConstraints(O)},C.prototype.getCapabilities=function(){this.failIfNotSupported();var m=this.track.getCapabilities(),b=m[this.name];return{min:b.min,max:b.max,step:b.step}},C.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},C}(Kf),Pd=function(y){Oc(C,y);function C(m){return y.call(this,"zoom",m)||this}return C}(zd),Gd=function(y){Oc(C,y);function C(m){return y.call(this,"torch",m)||this}return C}(Kf),Vd=function(){function y(C){this.track=C}return y.prototype.zoomFeature=function(){return new Pd(this.track)},y.prototype.torchFeature=function(){return new Gd(this.track)},y}(),Xd=function(){function y(C,m,b){this.isClosed=!1,this.parentElement=C,this.mediaStream=m,this.callbacks=b,this.surface=this.createVideoElement(this.parentElement.clientWidth),C.append(this.surface)}return y.prototype.createVideoElement=function(C){var m=document.createElement("video");return m.style.width="".concat(C,"px"),m.style.display="block",m.muted=!0,m.setAttribute("muted","true"),m.playsInline=!0,m},y.prototype.setupSurface=function(){var C=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var m=function(){var b=C.surface.clientWidth,O=C.surface.clientHeight;C.callbacks.onRenderSurfaceReady(b,O),C.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.srcObject=this.mediaStream,this.surface.play()},y.create=function(C,m,b,O){return yu(this,void 0,void 0,function(){var v,H;return Cu(this,function(at){switch(at.label){case 0:return v=new y(C,m,O),b.aspectRatio?(H={aspectRatio:b.aspectRatio},[4,v.getFirstTrackOrFail().applyConstraints(H)]):[3,2];case 1:at.sent(),at.label=2;case 2:return v.setupSurface(),[2,v]}})})},y.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},y.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},y.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},y.prototype.resume=function(C){this.failIfClosed();var m=this,b=function(){setTimeout(C,200),m.surface.removeEventListener("playing",b)};this.surface.addEventListener("playing",b),this.surface.play()},y.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},y.prototype.getSurface=function(){return this.failIfClosed(),this.surface},y.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},y.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},y.prototype.applyVideoConstraints=function(C){return yu(this,void 0,void 0,function(){return Cu(this,function(m){if("aspectRatio"in C)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(C)]})})},y.prototype.close=function(){if(this.isClosed)return Promise.resolve();var C=this;return new Promise(function(m,b){var O=C.mediaStream.getVideoTracks(),v=O.length,H=0;C.mediaStream.getVideoTracks().forEach(function(at){C.mediaStream.removeTrack(at),at.stop(),++H,H>=v&&(C.isClosed=!0,C.parentElement.removeChild(C.surface),m())})})},y.prototype.getCapabilities=function(){return new Vd(this.getFirstTrackOrFail())},y}(),Yd=function(){function y(C){this.mediaStream=C}return y.prototype.render=function(C,m,b){return yu(this,void 0,void 0,function(){return Cu(this,function(O){return[2,Xd.create(C,this.mediaStream,m,b)]})})},y.create=function(C){return yu(this,void 0,void 0,function(){var m,b;return Cu(this,function(O){switch(O.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return m={audio:!1,video:C},[4,navigator.mediaDevices.getUserMedia(m)];case 1:return b=O.sent(),[2,new y(b)]}})})},y}(),Gf=function(y,C,m,b){function O(v){return v instanceof m?v:new m(function(H){H(v)})}return new(m||(m=Promise))(function(v,H){function at(P){try{T(b.next(P))}catch(Z){H(Z)}}function Y(P){try{T(b.throw(P))}catch(Z){H(Z)}}function T(P){P.done?v(P.value):O(P.value).then(at,Y)}T((b=b.apply(y,C||[])).next())})},Vf=function(y,C){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},b,O,v,H;return H={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function at(T){return function(P){return Y([T,P])}}function Y(T){if(b)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(m=0)),m;)try{if(b=1,O&&(v=T[0]&2?O.return:T[0]?O.throw||((v=O.return)&&v.call(O),0):O.next)&&!(v=v.call(O,T[1])).done)return v;switch(O=0,v&&(T=[T[0]&2,v.value]),T[0]){case 0:case 1:v=T;break;case 4:return m.label++,{value:T[1],done:!1};case 5:m.label++,O=T[1],T=[0];continue;case 7:T=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(T[0]===6||T[0]===2)){m=0;continue}if(T[0]===3&&(!v||T[1]>v[0]&&T[1]<v[3])){m.label=T[1];break}if(T[0]===6&&m.label<v[1]){m.label=v[1],v=T;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(T);break}v[2]&&m.ops.pop(),m.trys.pop();continue}T=C.call(y,m)}catch(P){T=[6,P],O=0}finally{b=v=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Zd=function(){function y(){}return y.failIfNotSupported=function(){return Gf(this,void 0,void 0,function(){return Vf(this,function(C){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new y]})})},y.prototype.create=function(C){return Gf(this,void 0,void 0,function(){return Vf(this,function(m){return[2,Yd.create(C)]})})},y}(),jd=function(y,C,m,b){function O(v){return v instanceof m?v:new m(function(H){H(v)})}return new(m||(m=Promise))(function(v,H){function at(P){try{T(b.next(P))}catch(Z){H(Z)}}function Y(P){try{T(b.throw(P))}catch(Z){H(Z)}}function T(P){P.done?v(P.value):O(P.value).then(at,Y)}T((b=b.apply(y,C||[])).next())})},qd=function(y,C){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},b,O,v,H;return H={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function at(T){return function(P){return Y([T,P])}}function Y(T){if(b)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(m=0)),m;)try{if(b=1,O&&(v=T[0]&2?O.return:T[0]?O.throw||((v=O.return)&&v.call(O),0):O.next)&&!(v=v.call(O,T[1])).done)return v;switch(O=0,v&&(T=[T[0]&2,v.value]),T[0]){case 0:case 1:v=T;break;case 4:return m.label++,{value:T[1],done:!1};case 5:m.label++,O=T[1],T=[0];continue;case 7:T=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(T[0]===6||T[0]===2)){m=0;continue}if(T[0]===3&&(!v||T[1]>v[0]&&T[1]<v[3])){m.label=T[1];break}if(T[0]===6&&m.label<v[1]){m.label=v[1],v=T;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(T);break}v[2]&&m.ops.pop(),m.trys.pop();continue}T=C.call(y,m)}catch(P){T=[6,P],O=0}finally{b=v=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Qd=function(){function y(){}return y.retrieve=function(){if(navigator.mediaDevices)return y.getCamerasFromMediaDevices();var C=MediaStreamTrack;return MediaStreamTrack&&C.getSources?y.getCamerasFromMediaStreamTrack():y.rejectWithError()},y.rejectWithError=function(){var C=al.unableToQuerySupportedDevices();return y.isHttpsOrLocalhost()||(C=al.insecureContextCameraQueryError()),Promise.reject(C)},y.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var C=location.host.split(":")[0];return C==="127.0.0.1"||C==="localhost"},y.getCamerasFromMediaDevices=function(){return jd(this,void 0,void 0,function(){var C,m,b,O,v,H,at;return qd(this,function(Y){switch(Y.label){case 0:return C=function(T){for(var P=T.getVideoTracks(),Z=0,Et=P;Z<Et.length;Z++){var St=Et[Z];St.enabled=!1,St.stop(),T.removeTrack(St)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return m=Y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(b=Y.sent(),O=[],v=0,H=b;v<H.length;v++)at=H[v],at.kind==="videoinput"&&O.push({id:at.deviceId,label:at.label});return C(m),[2,O]}})})},y.getCamerasFromMediaStreamTrack=function(){return new Promise(function(C,m){var b=function(v){for(var H=[],at=0,Y=v;at<Y.length;at++){var T=Y[at];T.kind==="video"&&H.push({id:T.id,label:T.label})}C(H)},O=MediaStreamTrack;O.getSources(b)})},y}(),Ie;(function(y){y[y.UNKNOWN=0]="UNKNOWN",y[y.NOT_STARTED=1]="NOT_STARTED",y[y.SCANNING=2]="SCANNING",y[y.PAUSED=3]="PAUSED"})(Ie||(Ie={}));var Wd=function(){function y(){this.state=Ie.NOT_STARTED,this.onGoingTransactionNewState=Ie.UNKNOWN}return y.prototype.directTransition=function(C){this.failIfTransitionOngoing(),this.validateTransition(C),this.state=C},y.prototype.startTransition=function(C){return this.failIfTransitionOngoing(),this.validateTransition(C),this.onGoingTransactionNewState=C,this},y.prototype.execute=function(){if(this.onGoingTransactionNewState===Ie.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var C=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ie.UNKNOWN,this.directTransition(C)},y.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ie.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ie.UNKNOWN},y.prototype.getState=function(){return this.state},y.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ie.UNKNOWN)throw"Cannot transition to a new state, already under transition"},y.prototype.validateTransition=function(C){switch(this.state){case Ie.UNKNOWN:throw"Transition from unknown is not allowed";case Ie.NOT_STARTED:this.failIfNewStateIs(C,[Ie.PAUSED]);break;case Ie.SCANNING:break;case Ie.PAUSED:break}},y.prototype.failIfNewStateIs=function(C,m){for(var b=0,O=m;b<O.length;b++){var v=O[b];if(C===v)throw"Cannot transition from ".concat(this.state," to ").concat(C)}},y}(),Kd=function(){function y(C){this.stateManager=C}return y.prototype.startTransition=function(C){return this.stateManager.startTransition(C)},y.prototype.directTransition=function(C){this.stateManager.directTransition(C)},y.prototype.getState=function(){return this.stateManager.getState()},y.prototype.canScanFile=function(){return this.stateManager.getState()===Ie.NOT_STARTED},y.prototype.isScanning=function(){return this.stateManager.getState()!==Ie.NOT_STARTED},y.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ie.SCANNING},y.prototype.isPaused=function(){return this.stateManager.getState()===Ie.PAUSED},y}(),Jd=function(){function y(){}return y.create=function(){return new Kd(new Wd)},y}(),$d=function(){var y=function(C,m){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var v in O)Object.prototype.hasOwnProperty.call(O,v)&&(b[v]=O[v])},y(C,m)};return function(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");y(C,m);function b(){this.constructor=C}C.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),ii=function(y){$d(C,y);function C(){return y!==null&&y.apply(this,arguments)||this}return C.DEFAULT_WIDTH=300,C.DEFAULT_WIDTH_OFFSET=2,C.FILE_SCAN_MIN_HEIGHT=300,C.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,C.MIN_QR_BOX_SIZE=50,C.SHADED_LEFT=1,C.SHADED_RIGHT=2,C.SHADED_TOP=3,C.SHADED_BOTTOM=4,C.SHADED_REGION_ELEMENT_ID="qr-shaded-region",C.VERBOSE=!1,C.BORDER_SHADER_DEFAULT_COLOR="#ffffff",C.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",C}(Rd),t2=function(){function y(C,m){this.logger=m,this.fps=ii.SCAN_DEFAULT_FPS,C?(C.fps&&(this.fps=C.fps),this.disableFlip=C.disableFlip===!0,this.qrbox=C.qrbox,this.aspectRatio=C.aspectRatio,this.videoConstraints=C.videoConstraints):this.disableFlip=ii.DEFAULT_DISABLE_FLIP}return y.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Wf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},y.prototype.isShadedBoxEnabled=function(){return!ua(this.qrbox)},y.create=function(C,m){return new y(C,m)},y}(),Xf=function(){function y(C,m){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(C))throw"HTML Element with id=".concat(C," not found");this.elementId=C,this.verbose=!1;var b;typeof m=="boolean"?this.verbose=m===!0:m&&(b=m,this.verbose=b.verbose===!0,b.experimentalFeatures),this.logger=new Dd(this.verbose),this.qrcode=new Hd(this.getSupportedFormats(m),this.getUseBarCodeDetectorIfSupported(b),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Jd.create()}return y.prototype.start=function(C,m,b,O){var v=this;if(!C)throw"cameraIdOrConfig is required";if(!b||typeof b!="function")throw"qrCodeSuccessCallback is required and should be a function.";var H;O?H=O:H=this.verbose?this.logger.log:function(){};var at=t2.create(m,this.logger);this.clearElement();var Y=!1;at.videoConstraints&&(at.isMediaStreamConstraintsValid()?Y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var T=Y,P=document.getElementById(this.elementId);P.clientWidth?P.clientWidth:ii.DEFAULT_WIDTH,P.style.position="relative",this.shouldScan=!0,this.element=P;var Z=this,Et=this.stateManagerProxy.startTransition(Ie.SCANNING);return new Promise(function(St,Rt){var It=T?at.videoConstraints:Z.createVideoConstraints(C);if(!It){Et.cancel(),Rt("videoConstraints should be defined");return}var te={};(!T||at.aspectRatio)&&(te.aspectRatio=at.aspectRatio);var fe={onRenderSurfaceReady:function(xt,ot){Z.setupUi(xt,ot,at),Z.isScanning=!0,Z.foreverScan(at,b,H)}};Zd.failIfNotSupported().then(function(xt){xt.create(It).then(function(ot){return ot.render(v.element,te,fe).then(function(Dt){Z.renderedCamera=Dt,Et.execute(),St(null)}).catch(function(Dt){Et.cancel(),Rt(Dt)})}).catch(function(ot){Et.cancel(),Rt(al.errorGettingUserMedia(ot))})}).catch(function(xt){Et.cancel(),Rt(al.cameraStreamingNotSupported())})})},y.prototype.pause=function(C){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ie.PAUSED),this.showPausedState(),(ua(C)||C!==!0)&&(C=!1),C&&this.renderedCamera&&this.renderedCamera.pause()},y.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var C=this,m=function(){C.stateManagerProxy.directTransition(Ie.SCANNING),C.hidePausedState()};if(!this.renderedCamera.isPaused()){m();return}this.renderedCamera.resume(function(){m()})},y.prototype.getState=function(){return this.stateManagerProxy.getState()},y.prototype.stop=function(){var C=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var m=this.stateManagerProxy.startTransition(Ie.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var b=function(){if(C.element){var v=document.getElementById(ii.SHADED_REGION_ELEMENT_ID);v&&C.element.removeChild(v)}},O=this;return this.renderedCamera.close().then(function(){return O.renderedCamera=null,O.element&&(O.element.removeChild(O.canvasElement),O.canvasElement=null),b(),O.qrRegion&&(O.qrRegion=null),O.context&&(O.context=null),m.execute(),O.hidePausedState(),O.isScanning=!1,Promise.resolve()})},y.prototype.scanFile=function(C,m){return this.scanFileV2(C,m).then(function(b){return b.decodedText})},y.prototype.scanFileV2=function(C,m){var b=this;if(!C||!(C instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ua(m)&&(m=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(O,v){b.possiblyCloseLastScanImageFile(),b.clearElement(),b.lastScanImageFile=URL.createObjectURL(C);var H=new Image;H.onload=function(){var at=H.width,Y=H.height,T=document.getElementById(b.elementId),P=T.clientWidth?T.clientWidth:ii.DEFAULT_WIDTH,Z=Math.max(T.clientHeight?T.clientHeight:Y,ii.FILE_SCAN_MIN_HEIGHT),Et=b.computeCanvasDrawConfig(at,Y,P,Z);if(m){var St=b.createCanvasElement(P,Z,"qr-canvas-visible");St.style.display="inline-block",T.appendChild(St);var Rt=St.getContext("2d");if(!Rt)throw"Unable to get 2d context from canvas";Rt.canvas.width=P,Rt.canvas.height=Z,Rt.drawImage(H,0,0,at,Y,Et.x,Et.y,Et.width,Et.height)}var It=ii.FILE_SCAN_HIDDEN_CANVAS_PADDING,te=Math.max(H.width,Et.width),fe=Math.max(H.height,Et.height),xt=te+2*It,ot=fe+2*It,Dt=b.createCanvasElement(xt,ot);T.appendChild(Dt);var Ct=Dt.getContext("2d");if(!Ct)throw"Unable to get 2d context from canvas";Ct.canvas.width=xt,Ct.canvas.height=ot,Ct.drawImage(H,0,0,at,Y,It,It,te,fe);try{b.qrcode.decodeRobustlyAsync(Dt).then(function(Mt){O(Uf.createFromQrcodeResult(Mt))}).catch(v)}catch(Mt){v("QR code parse error, error = ".concat(Mt))}},H.onerror=v,H.onabort=v,H.onstalled=v,H.onsuspend=v,H.src=URL.createObjectURL(C)})},y.prototype.clear=function(){this.clearElement()},y.getCameras=function(){return Qd.retrieve()},y.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},y.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},y.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},y.prototype.applyVideoConstraints=function(C){if(C){if(!Wf.isMediaStreamConstraintsValid(C,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(C)},y.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},y.prototype.getSupportedFormats=function(C){var m=[wt.QR_CODE,wt.AZTEC,wt.CODABAR,wt.CODE_39,wt.CODE_93,wt.CODE_128,wt.DATA_MATRIX,wt.MAXICODE,wt.ITF,wt.EAN_13,wt.EAN_8,wt.PDF_417,wt.RSS_14,wt.RSS_EXPANDED,wt.UPC_A,wt.UPC_E,wt.UPC_EAN_EXTENSION];if(!C||typeof C=="boolean"||!C.formatsToSupport)return m;if(!Array.isArray(C.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(C.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var b=[],O=0,v=C.formatsToSupport;O<v.length;O++){var H=v[O];Od(H)?b.push(H):this.logger.warn("Invalid format: ".concat(H," passed in config, ignoring."))}if(b.length===0)throw"None of formatsToSupport match supported values.";return b},y.prototype.getUseBarCodeDetectorIfSupported=function(C){if(ua(C))return!0;if(!ua(C.useBarCodeDetectorIfSupported))return C.useBarCodeDetectorIfSupported!==!1;if(ua(C.experimentalFeatures))return!0;var m=C.experimentalFeatures;return ua(m.useBarCodeDetectorIfSupported)?!0:m.useBarCodeDetectorIfSupported!==!1},y.prototype.validateQrboxSize=function(C,m,b){var O=this,v=b.qrbox;this.validateQrboxConfig(v);var H=this.toQrdimensions(C,m,v),at=function(T){if(T<ii.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ii.MIN_QR_BOX_SIZE,"px.")},Y=function(T){return T>C&&(O.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),T=C),T};at(H.width),at(H.height),H.width=Y(H.width)},y.prototype.validateQrboxConfig=function(C){if(typeof C!="number"&&typeof C!="function"&&(C.width===void 0||C.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},y.prototype.toQrdimensions=function(C,m,b){if(typeof b=="number")return{width:b,height:b};if(typeof b=="function")try{return b(C,m)}catch(O){throw new Error("qrbox config was passed as a function but it failed with unknown error"+O)}return b},y.prototype.setupUi=function(C,m,b){b.isShadedBoxEnabled()&&this.validateQrboxSize(C,m,b);var O=ua(b.qrbox)?{width:C,height:m}:b.qrbox;this.validateQrboxConfig(O);var v=this.toQrdimensions(C,m,O);v.height>m&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var H=b.isShadedBoxEnabled()&&v.height<=m,at={x:0,y:0,width:C,height:m},Y=H?this.getShadedRegionBounds(C,m,v):at,T=this.createCanvasElement(Y.width,Y.height),P={willReadFrequently:!0},Z=T.getContext("2d",P);Z.canvas.width=Y.width,Z.canvas.height=Y.height,this.element.append(T),H&&this.possiblyInsertShadingElement(this.element,C,m,v),this.createScannerPausedUiElement(this.element),this.qrRegion=Y,this.context=Z,this.canvasElement=T},y.prototype.createScannerPausedUiElement=function(C){var m=document.createElement("div");m.innerText=al.scannerPaused(),m.style.display="none",m.style.position="absolute",m.style.top="0px",m.style.zIndex="1",m.style.background="rgba(9, 9, 9, 0.46)",m.style.color="#FFECEC",m.style.textAlign="center",m.style.width="100%",C.appendChild(m),this.scannerPausedUiElement=m},y.prototype.scanContext=function(C,m){var b=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(O){return C(O.text,Uf.createFromQrcodeResult(O)),b.possiblyUpdateShaders(!0),!0}).catch(function(O){b.possiblyUpdateShaders(!1);var v=al.codeParseError(O);return m(v,Id.createFrom(v)),!1})},y.prototype.foreverScan=function(C,m,b){var O=this;if(this.shouldScan&&this.renderedCamera){var v=this.renderedCamera.getSurface(),H=v.videoWidth/v.clientWidth,at=v.videoHeight/v.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var Y=this.qrRegion.width*H,T=this.qrRegion.height*at,P=this.qrRegion.x*H,Z=this.qrRegion.y*at;this.context.drawImage(v,P,Z,Y,T,0,0,this.qrRegion.width,this.qrRegion.height);var Et=function(){O.foreverScanTimeout=setTimeout(function(){O.foreverScan(C,m,b)},O.getTimeoutFps(C.fps))};this.scanContext(m,b).then(function(St){!St&&C.disableFlip!==!0?(O.context.translate(O.context.canvas.width,0),O.context.scale(-1,1),O.scanContext(m,b).finally(function(){Et()})):Et()}).catch(function(St){O.logger.logError("Error happend while scanning context",St),Et()})}},y.prototype.createVideoConstraints=function(C){if(typeof C=="string")return{deviceId:{exact:C}};if(typeof C=="object"){var m="facingMode",b="deviceId",O={user:!0,environment:!0},v="exact",H=function(Rt){if(Rt in O)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Rt,"'")},at=Object.keys(C);if(at.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(at.length," keys");var Y=Object.keys(C)[0];if(Y!==m&&Y!==b)throw"Only '".concat(m,"' and '").concat(b,"' ")+" are supported for 'cameraIdOrConfig'";if(Y===m){var T=C.facingMode;if(typeof T=="string"){if(H(T))return{facingMode:T}}else if(typeof T=="object")if(v in T){if(H(T["".concat(v)]))return{facingMode:{exact:T["".concat(v)]}}}else throw"'facingMode' should be string or object with"+" ".concat(v," as key.");else{var P=typeof T;throw"Invalid type of 'facingMode' = ".concat(P)}}else{var Z=C.deviceId;if(typeof Z=="string")return{deviceId:Z};if(typeof Z=="object"){if(v in Z)return{deviceId:{exact:Z["".concat(v)]}};throw"'deviceId' should be string or object with"+" ".concat(v," as key.")}else{var Et=typeof Z;throw"Invalid type of 'deviceId' = ".concat(Et)}}}var St=typeof C;throw"Invalid type of 'cameraIdOrConfig' = ".concat(St)},y.prototype.computeCanvasDrawConfig=function(C,m,b,O){if(C<=b&&m<=O){var v=(b-C)/2,H=(O-m)/2;return{x:v,y:H,width:C,height:m}}else{var at=C,Y=m;return C>b&&(m=b/C*m,C=b),m>O&&(C=O/m*C,m=O),this.logger.log("Image downsampled from "+"".concat(at,"X").concat(Y)+" to ".concat(C,"X").concat(m,".")),this.computeCanvasDrawConfig(C,m,b,O)}},y.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var C=document.getElementById(this.elementId);C&&(C.innerHTML="")},y.prototype.possiblyUpdateShaders=function(C){this.qrMatch!==C&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(m){m.style.backgroundColor=C?ii.BORDER_SHADER_MATCH_COLOR:ii.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=C)},y.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},y.prototype.createCanvasElement=function(C,m,b){var O=C,v=m,H=document.createElement("canvas");return H.style.width="".concat(O,"px"),H.style.height="".concat(v,"px"),H.style.display="none",H.id=ua(b)?"qr-canvas":b,H},y.prototype.getShadedRegionBounds=function(C,m,b){if(b.width>C||b.height>m)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(C-b.width)/2,y:(m-b.height)/2,width:b.width,height:b.height}},y.prototype.possiblyInsertShadingElement=function(C,m,b,O){if(!(m-O.width<1||b-O.height<1)){var v=document.createElement("div");v.style.position="absolute";var H=(m-O.width)/2,at=(b-O.height)/2;if(v.style.borderLeft="".concat(H,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderRight="".concat(H,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderTop="".concat(at,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderBottom="".concat(at,"px solid rgba(0, 0, 0, 0.48)"),v.style.boxSizing="border-box",v.style.top="0px",v.style.bottom="0px",v.style.left="0px",v.style.right="0px",v.id="".concat(ii.SHADED_REGION_ELEMENT_ID),m-O.width<11||b-O.height<11)this.hasBorderShaders=!1;else{var Y=5,T=40;this.insertShaderBorders(v,T,Y,-Y,null,0,!0),this.insertShaderBorders(v,T,Y,-Y,null,0,!1),this.insertShaderBorders(v,T,Y,null,-Y,0,!0),this.insertShaderBorders(v,T,Y,null,-Y,0,!1),this.insertShaderBorders(v,Y,T+Y,-Y,null,-Y,!0),this.insertShaderBorders(v,Y,T+Y,null,-Y,-Y,!0),this.insertShaderBorders(v,Y,T+Y,-Y,null,-Y,!1),this.insertShaderBorders(v,Y,T+Y,null,-Y,-Y,!1),this.hasBorderShaders=!0}C.append(v)}},y.prototype.insertShaderBorders=function(C,m,b,O,v,H,at){var Y=document.createElement("div");Y.style.position="absolute",Y.style.backgroundColor=ii.BORDER_SHADER_DEFAULT_COLOR,Y.style.width="".concat(m,"px"),Y.style.height="".concat(b,"px"),O!==null&&(Y.style.top="".concat(O,"px")),v!==null&&(Y.style.bottom="".concat(v,"px")),at?Y.style.left="".concat(H,"px"):Y.style.right="".concat(H,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(Y),C.appendChild(Y)},y.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},y.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},y.prototype.getTimeoutFps=function(C){return 1e3/C},y}(),Yf;(function(y){y[y.STATUS_DEFAULT=0]="STATUS_DEFAULT",y[y.STATUS_SUCCESS=1]="STATUS_SUCCESS",y[y.STATUS_WARNING=2]="STATUS_WARNING",y[y.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Yf||(Yf={}));const Jf=({className:y="w-6 h-6"})=>dt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),e2=({className:y="w-6 h-6"})=>dt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),$f=({children:y,className:C="",variant:m="primary",...b})=>{const O="px-6 py-3 font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-75 transition-all duration-150 ease-in-out";let v="";switch(m){case"secondary":v="bg-slate-600 hover:bg-slate-700 text-white focus:ring-slate-500";break;case"danger":v="bg-red-600 hover:bg-red-700 text-white focus:ring-red-500";break;case"primary":default:v="bg-sky-500 hover:bg-sky-600 text-white focus:ring-sky-400";break}return dt.jsx("button",{className:`${O} ${v} ${b.disabled?"opacity-50 cursor-not-allowed":""} ${C}`,...b,children:y})},as="html5qr-code-full-region",pc="qrScannerPreferredCameraId",n2=({onScanSuccess:y,onScanError:C,onRequestClose:m})=>{const b=Kt.useRef(null),[O,v]=Kt.useState([]),[H,at]=Kt.useState(-1),[Y,T]=Kt.useState(null),[P,Z]=Kt.useState("Initializing camera..."),[Et,St]=Kt.useState(!1),Rt=Kt.useRef(y),It=Kt.useRef(C),te=Kt.useRef(m);Kt.useEffect(()=>{Rt.current=y,It.current=C,te.current=m},[y,C,m]),Kt.useEffect(()=>{if(!document.getElementById(as)){console.error("QR Code region element not found in DOM."),It.current("Scanner UI element missing. Please refresh.");return}if(!b.current)try{b.current=new Xf(as,{verbose:!1,formatsToSupport:[wt.QR_CODE]})}catch(xt){console.error("Failed to initialize Html5Qrcode:",xt),It.current(xt.message||"Failed to initialize scanner. Please refresh.");return}return Xf.getCameras().then(xt=>{if(xt&&xt.length){v(xt);let ot=0;const Dt=localStorage.getItem(pc),Ct=tt=>tt.findIndex(pt=>{const W=pt.label.toLowerCase();return W.includes("back")||W.includes("rear")||W.includes("environment")||W.includes("hauptkamera")||W.includes("trasera")||W.includes("arrire")||pt.id==="0"&&!W.includes("front")||W.includes("facing back")}),Mt=tt=>tt.findIndex(pt=>{const W=pt.label.toLowerCase();return W.includes("front")||W.includes("user")||W.includes("selfie")||W.includes("frontkamera")||W.includes("frontal")||W.includes("avant")||W.includes("facing front")});if(Dt){const tt=xt.findIndex(pt=>pt.id===Dt);if(tt!==-1)ot=tt;else{localStorage.removeItem(pc);const pt=Ct(xt),W=Mt(xt);pt!==-1?ot=pt:W!==-1&&(ot=W)}}else{const tt=Ct(xt),pt=Mt(xt);tt!==-1?ot=tt:pt!==-1&&(ot=pt)}at(ot)}else It.current("No cameras found on this device."),Z("No cameras found")}).catch(xt=>{console.error("Failed to get cameras:",xt),It.current("Could not access cameras. Please check permissions."),Z("Camera access error")}),()=>{const xt=b.current;xt&&((xt.getState()===Ie.SCANNING||xt.getState()===Ie.PAUSED)&&xt.stop().then(()=>console.log("Scanner stopped on component unmount.")).catch(ot=>console.error("Error stopping scanner on unmount:",ot)).finally(()=>{const ot=document.getElementById(as);ot&&(ot.innerHTML="")}),b.current=null)}},[]),Kt.useEffect(()=>{var W;const xt=b.current;if(!xt||H<0||O.length===0){O.length>0&&H<0&&!Et&&xt&&(xt.getState()===Ie.SCANNING||xt.getState()===Ie.PAUSED)&&(St(!0),xt.stop().then(()=>Z("Camera stopped.")).catch(ce=>console.error("Error stopping camera on index reset",ce)).finally(()=>St(!1)));return}const ot=O[H];if(!ot||!ot.id){T("Selected camera is invalid or has no ID."),Z("Invalid camera");return}const Dt=ot.id;let Ct=`Camera ${H+1}`;const Mt=((W=ot.label)==null?void 0:W.toLowerCase())||"";Mt.includes("back")||Mt.includes("rear")?Ct="Back Camera":Mt.includes("front")?Ct="Front Camera":ot.label&&(Ct=ot.label.split(",")[0].trim());let tt=!0;return(async()=>{if(Et){console.warn("Camera operation already in progress, skipping new request.");return}St(!0),T(null);try{if(xt.getState()===Ie.SCANNING||xt.getState()===Ie.PAUSED){if(console.debug("Attempting to stop current camera stream before switching..."),await xt.stop(),!tt){St(!1);return}console.debug("Current camera stream stopped.");const ce=document.getElementById(as);ce&&(ce.innerHTML="")}if(!tt){St(!1);return}console.debug(`Attempting to start camera: ${Ct} (${Dt})`),Z(`Loading ${Ct}...`),await xt.start(Dt,{fps:10,qrbox:(ce,jt)=>{const mt=Math.min(ce,jt),Xt=Math.max(200,Math.floor(mt*.75));return{width:Xt,height:Xt}}},(ce,jt)=>{tt&&Rt.current(ce)},(ce,jt)=>{}),tt&&(console.debug(`Camera started: ${Ct}`),Z(Ct),T(null),localStorage.setItem(pc,Dt))}catch(ce){if(console.error(`Failed to start scanner with camera ${Dt} (${Ct}):`,ce),tt){let jt=`Failed to start ${Ct}.`;ce.name==="NotAllowedError"?jt=`Camera permission denied for ${Ct}.`:ce.name==="NotFoundError"?jt=`${Ct} not found or disconnected.`:ce.name==="NotReadableError"?jt=`${Ct} is already in use or unreadable. Try another camera.`:ce.message&&(jt=`${Ct}: ${ce.message}`),T(jt),Z(`Error: ${Ct}`)}}finally{tt&&St(!1)}})(),()=>{tt=!1}},[H,O]);const fe=Kt.useCallback(()=>{O.length>1&&!Et?at(xt=>(xt+1)%O.length):Et&&console.log("Switch camera ignored: operation in progress.")},[O.length,Et]);return dt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50 p-2 sm:p-4","aria-modal":"true",role:"dialog",children:dt.jsxs("div",{className:"bg-slate-800 p-4 sm:p-6 rounded-xl shadow-2xl w-full max-w-lg relative border border-slate-700 flex flex-col",children:[dt.jsx("button",{onClick:te.current,className:"absolute top-2 right-2 sm:top-3 sm:right-3 text-slate-400 hover:text-sky-400 transition-colors z-20 p-1","aria-label":"Close scanner",disabled:Et,children:dt.jsx(Jf,{className:"w-7 h-7 sm:w-8 sm:h-8"})}),dt.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-1 text-center text-sky-300",children:"Scan QR Code"}),dt.jsx("p",{className:"text-xs text-slate-400 mb-3 sm:mb-4 text-center min-h-[1.2em]",children:P}),dt.jsx("div",{id:as,className:"w-full bg-slate-900 rounded-lg overflow-hidden shadow-inner border border-slate-700",style:{aspectRatio:"1 / 1",minHeight:"280px",maxHeight:"500px"}}),Y&&dt.jsxs("p",{className:"text-red-400 text-xs sm:text-sm text-center mt-2 p-2 bg-red-900/50 rounded-md",children:["Scanner Error: ",Y]}),dt.jsx("p",{className:"text-xs sm:text-sm text-slate-400 mt-3 text-center",children:"Position the QR code within the frame."}),O.length>1&&dt.jsxs($f,{onClick:fe,variant:"secondary",className:"w-full mt-4 flex items-center justify-center space-x-2","aria-label":"Switch Camera",disabled:Et||O.length<=1,children:[dt.jsx(e2,{className:"w-5 h-5"}),dt.jsx("span",{children:"Switch Camera"})]})]})})},i2=({className:y="w-8 h-8"})=>dt.jsx("div",{className:"flex justify-center items-center py-4",children:dt.jsxs("svg",{className:`animate-spin text-sky-400 ${y}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[dt.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),dt.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),a2="https://jfsscan.java-forum-stuttgart.de/qr.php?action=checkin",r2="7382b853-ca0a-4760-aff0-1515afcb2dcd",l2=async y=>{if(!y||typeof y!="string"||y.trim()==="")return{status:"error",message:"Error: No ID provided or invalid ID format."};try{const C=await fetch(a2,{method:"POST",headers:{"Content-Type":"application/json","X-API-Token":r2},body:JSON.stringify({id:y})});let m;try{m=await C.json()}catch{return console.error("API response was not valid JSON.",{status:C.status,statusText:C.statusText}),{status:"error",message:`Server returned an invalid response (HTTP ${C.status}). Please try again later.`}}return m&&typeof m.status=="string"&&typeof m.message=="string"?m:(console.error("API response JSON has an unexpected structure:",m),{status:"error",message:`Received a malformed response from the server (HTTP ${C.status}).`})}catch(C){console.error("API call failed:",C);let m="A network error occurred. Please check your connection and try again.";return C instanceof TypeError&&C.message.includes("Failed to fetch")&&(m="Could not connect to the check-in server. This may be a network issue or a server configuration problem (CORS). Please contact an administrator."),{status:"error",message:m}}},s2=/\/checkin\/([a-zA-Z0-9-]+)(?:[\/?#]|$)/,u2=({className:y="w-6 h-6"})=>dt.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:[dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 12.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"})]}),o2=({className:y="w-6 h-6"})=>dt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),c2=({className:y="w-6 h-6"})=>dt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),f2=({correctPin:y,onPinVerified:C})=>{const[m,b]=Kt.useState(""),[O,v]=Kt.useState(""),H=at=>{at.preventDefault(),m===y?(localStorage.setItem("pin_verified","true"),C()):(v("Invalid PIN. Please try again."),b(""))};return dt.jsxs("div",{className:"pin-input-container",children:[dt.jsx("h2",{children:"Enter PIN Code"}),dt.jsx("p",{children:"Please enter the 4-digit code to use the scanner."}),dt.jsxs("form",{onSubmit:H,children:[dt.jsx("input",{type:"password",maxLength:4,value:m,onChange:at=>b(at.target.value),className:"pin-input",autoFocus:!0}),dt.jsx("button",{type:"submit",className:"pin-submit-button",children:"Submit"}),O&&dt.jsx("p",{className:"pin-error",children:O})]})]})},Zf=3e3,jf=2500,Tc=4e3;let zt=null,xr=null;const qf=async y=>{if(y)try{"wakeLock"in navigator&&(xr=await navigator.wakeLock.request("screen"),console.log("Screen wake lock activated"),xr.addEventListener("release",()=>{console.log("Screen wake lock released")}))}catch(C){console.log("Wake lock not supported or failed:",C)}},Eu=()=>{xr&&(xr.release(),xr=null,console.log("Screen wake lock manually released"))},rl=()=>{if(!zt)try{zt=new(window.AudioContext||window.webkitAudioContext),zt.state==="suspended"&&zt.resume()}catch{console.log("Audio context creation failed")}},h2=()=>{try{if(zt||rl(),!zt||zt.state!=="running")return;const y=zt.createOscillator(),C=zt.createGain();y.connect(C),C.connect(zt.destination),y.frequency.setValueAtTime(800,zt.currentTime),y.frequency.setValueAtTime(1e3,zt.currentTime+.1),C.gain.setValueAtTime(.3,zt.currentTime),C.gain.exponentialRampToValueAtTime(.01,zt.currentTime+.3),y.start(zt.currentTime),y.stop(zt.currentTime+.3)}catch{console.log("Audio playback failed")}},d2=()=>{try{if(zt||rl(),!zt||zt.state!=="running")return;const y=zt.createOscillator(),C=zt.createGain();y.connect(C),C.connect(zt.destination),y.frequency.setValueAtTime(600,zt.currentTime),y.frequency.setValueAtTime(500,zt.currentTime+.1),C.gain.setValueAtTime(.2,zt.currentTime),C.gain.exponentialRampToValueAtTime(.01,zt.currentTime+.4),y.start(zt.currentTime),y.stop(zt.currentTime+.4)}catch{console.log("Audio playback failed")}},g2=()=>{try{if(zt||rl(),!zt||zt.state!=="running")return;const y=zt.createOscillator(),C=zt.createGain();y.connect(C),C.connect(zt.destination),y.frequency.setValueAtTime(300,zt.currentTime),y.frequency.setValueAtTime(250,zt.currentTime+.15),y.frequency.setValueAtTime(200,zt.currentTime+.3),C.gain.setValueAtTime(.2,zt.currentTime),C.gain.exponentialRampToValueAtTime(.01,zt.currentTime+.5),y.start(zt.currentTime),y.stop(zt.currentTime+.5)}catch{console.log("Audio playback failed")}},x2=()=>{try{if(zt||rl(),!zt||zt.state!=="running")return;const y=(m,b,O)=>{const v=zt.createOscillator(),H=zt.createGain();v.connect(H),H.connect(zt.destination),v.frequency.setValueAtTime(b,m),H.gain.setValueAtTime(.15,m),H.gain.exponentialRampToValueAtTime(.01,m+O),v.start(m),v.stop(m+O)},C=zt.currentTime;y(C,400,.1),y(C+.15,400,.1),y(C+.3,400,.1)}catch{console.log("Audio playback failed")}},m2=()=>{const y="2020",[C,m]=Kt.useState(()=>localStorage.getItem("pin_verified")==="true"),b=Kt.useCallback(()=>{rl(),m(!0),localStorage.setItem("pin_verified","true")},[]),[O,v]=Kt.useState(null),[H,at]=Kt.useState(null),[Y,T]=Kt.useState(null),[P,Z]=Kt.useState(!1),[Et,St]=Kt.useState(null),[Rt,It]=Kt.useState(!1),[te,fe]=Kt.useState(!1),[xt,ot]=Kt.useState(new Set),[Dt,Ct]=Kt.useState(null),[Mt,tt]=Kt.useState(()=>localStorage.getItem("wake_lock_enabled")==="true"),[pt,W]=Kt.useState(null),[ce,jt]=Kt.useState(!1),mt=Kt.useRef(null),Xt=Kt.useCallback(()=>{const K=!Mt;tt(K),localStorage.setItem("wake_lock_enabled",K.toString()),!K&&xr&&Eu(),K&&Rt&&qf(!0)},[Mt,Rt]),xe=Kt.useCallback(()=>{mt.current&&(clearTimeout(mt.current),mt.current=null),at(null),T(null),St(null)},[]),G=Kt.useCallback((K,kt,Tt=!1)=>{xe(),Tt?St(K):(at(K),T(kt)),kt==="ok"?h2():kt==="already registered"?d2():kt==="rejected"?x2():(kt==="error"||kt==="id not known"||Tt)&&g2();let ze=Zf;kt==="ok"?ze=jf:kt==="already registered"&&(ze=Tc),mt.current=window.setTimeout(()=>{xe(),Rt&&!te&&fe(!0)},ze)},[xe,Rt,te]),Q=K=>{const kt=K.match(s2);return kt?kt[1]:null},et=Kt.useCallback(async K=>{fe(!1),Z(!0);const kt=Q(K);if(!kt){G(" Invalid QR code: Does not contain a valid check-in URL.","error",!0),v(null),Z(!1),Rt&&fe(!0);return}if(v(kt),kt===Dt){G(` Duplicate: ID "${kt}" was just processed. Ignoring duplicate scan.`,"already registered"),Z(!1),Rt&&setTimeout(()=>fe(!0),Tc);return}if(xt.has(kt)){G(` Already Registered: ID "${kt}" has already been checked in.`,"already registered"),Z(!1),Ct(kt),Rt&&setTimeout(()=>fe(!0),Tc);return}try{const Tt=await l2(kt);if(Tt.status==="ok")ot(ze=>new Set(ze).add(kt)),G(` Checked In: ${kt} - ${Tt.message}`,"ok"),Ct(kt);else if(Tt.status==="rejected"){const ze=Tt.reason||"No reason provided";G(` REJECTED: ID "${kt}" - ${Tt.message}

Reason: ${ze}`,"rejected",!0),Ct(kt)}else G(` Problem with ID "${kt}": ${Tt.message}`,Tt.status,Tt.status==="error")}catch(Tt){const ze=Tt.message||"Failed to contact service.";G(` API Error: ${ze}`,"error",!0)}finally{Z(!1),Rt&&setTimeout(()=>{Rt&&fe(!0)},jf-500)}},[Rt,xt,Dt,G]),_t=Kt.useCallback(K=>{fe(!1),G(` Scanner Error: ${K}`,"error",!0),Rt&&setTimeout(()=>{Rt&&fe(!0)},Zf-500)},[Rt,G]),Jt=()=>{rl(),xe(),It(K=>{const kt=!K;return kt?(fe(!0),Ct(null),qf(Mt)):(fe(!1),Eu()),kt})};Kt.useEffect(()=>{Rt&&!te&&!P&&!H&&!Et?fe(!0):!Rt&&te&&fe(!1)},[Rt,te,P,H,Et]),Kt.useEffect(()=>()=>{Eu()},[]),Kt.useEffect(()=>{const K=Tt=>{Tt.preventDefault(),W(Tt),jt(!0)},kt=()=>{jt(!1),W(null),console.log("PWA was installed")};return window.addEventListener("beforeinstallprompt",K),window.addEventListener("appinstalled",kt),window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&jt(!1),()=>{window.removeEventListener("beforeinstallprompt",K),window.removeEventListener("appinstalled",kt)}},[]);const D=async()=>{if(!pt)return;pt.prompt();const{outcome:K}=await pt.userChoice;console.log(K==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),W(null),jt(!1)},rt=()=>{jt(!1),localStorage.setItem("install_prompt_dismissed","true")},ct=K=>{if(!K)return"bg-slate-700 text-slate-200";switch(K){case"ok":return"bg-green-600/90 text-white";case"already registered":return"bg-yellow-500/90 text-black";case"id not known":case"error":return"bg-red-600/90 text-white";default:return"bg-slate-600 text-slate-100"}},ht=K=>{if(!K)return null;switch(K){case"ok":return dt.jsx(o2,{className:"w-6 h-6 text-white"});case"already registered":return dt.jsx(c2,{className:"w-6 h-6 text-black"});case"id not known":case"error":return dt.jsx(Jf,{className:"w-6 h-6 text-white"});default:return null}},gt=H||Et,qt=Et?"error":Y;return C?dt.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 text-white flex flex-col items-center p-4 selection:bg-sky-500 selection:text-white",children:[dt.jsxs("header",{className:"w-full max-w-md text-center my-8",children:[dt.jsx("div",{className:"mb-4",children:dt.jsx("img",{src:"/QRScannerJFS/logo.png",alt:"JFS 2025 Logo",className:"w-24 h-24 mx-auto mb-4 opacity-90"})}),dt.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-sky-400 to-blue-500",children:"QR Check-in"}),dt.jsx("p",{className:"text-slate-400 mt-2",children:"Continuous QR code scanning."})]}),dt.jsxs("main",{className:"w-full max-w-md bg-slate-800 shadow-2xl rounded-lg p-6 space-y-6 flex flex-col",children:[dt.jsxs($f,{onClick:Jt,className:`w-full text-white flex items-center justify-center space-x-2 transition-all duration-150 ease-in-out transform hover:scale-105 ${Rt?"bg-red-500 hover:bg-red-600 focus:ring-red-400":"bg-sky-500 hover:bg-sky-600 focus:ring-sky-400"}`,disabled:P&&!Rt,children:[dt.jsx(u2,{className:"w-5 h-5"}),dt.jsx("span",{children:Rt?P?"Processing...":"Stop Scanning":"Start Scanning"})]}),dt.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700 rounded-md",children:[dt.jsxs("div",{className:"flex items-center space-x-2",children:[dt.jsx("span",{className:"text-sm text-slate-300",children:"Keep screen on"}),xr&&dt.jsx("span",{className:"text-xs text-green-400 bg-green-900/30 px-2 py-1 rounded",children:"Active"})]}),dt.jsx("button",{onClick:Xt,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${Mt?"bg-sky-600":"bg-slate-600"}`,"aria-label":"Toggle keep screen on",children:dt.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Mt?"translate-x-6":"translate-x-1"}`})})]}),ce&&dt.jsxs("div",{className:"flex items-center justify-between p-3 bg-sky-900/50 rounded-md border border-sky-600",children:[dt.jsxs("div",{className:"flex items-center space-x-2",children:[dt.jsx("span",{className:"text-sm text-sky-200",children:" Install App"}),dt.jsx("span",{className:"text-xs text-sky-300",children:"Add to home screen for better experience"})]}),dt.jsxs("div",{className:"flex space-x-2",children:[dt.jsx("button",{onClick:D,className:"px-3 py-1 bg-sky-600 text-white text-sm rounded hover:bg-sky-500 transition-colors",children:"Install"}),dt.jsx("button",{onClick:rt,className:"px-2 py-1 text-sky-300 text-sm hover:text-sky-200 transition-colors",children:""})]})]}),P&&dt.jsx(i2,{}),gt&&!P&&dt.jsxs("div",{className:`mt-4 p-3 rounded-md flex items-center space-x-3 text-lg shadow-lg transition-opacity duration-300 ease-in-out ${ct(qt)} ${gt?"opacity-100":"opacity-0"}`,role:"alert","aria-live":"assertive",children:[ht(qt),dt.jsx("span",{className:"font-medium",children:gt})]}),!gt&&!P&&!te&&!Rt&&dt.jsx("div",{className:"text-center text-slate-400 py-4",children:'Click "Start Scanning" to begin.'}),!gt&&!P&&te&&dt.jsx("div",{className:"text-center text-sky-300 py-4 animate-pulse",children:"Scanner active... position QR code."})]}),te&&Rt&&dt.jsx(n2,{onScanSuccess:et,onScanError:_t,onRequestClose:()=>{It(!1),fe(!1),Eu()}}),dt.jsxs("footer",{className:"w-full max-w-md text-center text-slate-500 mt-auto py-6 text-sm",children:["QR Check-in App v","1.0.42","  ",new Date().getFullYear()," MeiLuft",dt.jsx("br",{}),dt.jsx("span",{className:"text-xs text-slate-600 mt-1 block",children:"Licensed under MIT License"})]})]}):dt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 text-white flex flex-col items-center justify-center p-4",children:dt.jsx(f2,{correctPin:y,onPinVerified:b})})},th=document.getElementById("root");if(!th)throw new Error("Could not find root element to mount to");const A2=Nd.createRoot(th);A2.render(dt.jsx(yd.StrictMode,{children:dt.jsx(m2,{})}));
